{"version":3,"sources":["common/styles/Common.module.css","content/styles/LearnPage.module.css","content/styles/PackItem.module.css","content/styles/Login.module.css","content/styles/CardsPage.module.css","content/styles/PacksPage.module.css","content/styles/Registration.module.css","content/styles/CardItem.module.css","content/styles/Profile.module.css","common/SuperInputText/SuperInputText.module.css","content/styles/Recover.module.css","common/styles/Navbar.module.css","common/loader/loader.module.css","common/styles/NavbarItem.module.css","common/SuperButton/SuperButton.module.css","common/SuperCheckbox/SuperCheckbox.module.css","common/Search/NameFilterComponent.module.css","content/styles/Password.module.css","App.module.css","common/styles/SearchContainer.module.css","common/styles/PaginationDisplay.module.css","content/styles/Page404.module.css","common/images/default_avatar.png","api/API.ts","redux/app-reducer.ts","redux/auth-reducer.ts","content/Profile/Profile.tsx","common/NavbarItem.tsx","common/images/site_logo.png","common/Navbar.tsx","common/SuperButton/SuperButton.tsx","common/SuperInputText/SuperInputText.tsx","common/SuperCheckbox/SuperCheckbox.tsx","common/Search/NameFilterComponent.tsx","redux/search-reducer.ts","common/Search/SearchContainer.tsx","common/Pagination/PaginationDisplay.tsx","redux/pagination-reducer.ts","common/Pagination/PaginationContainer.tsx","common/modals/Modal.tsx","common/modals/ModalContainer.tsx","common/modals/question/ModalQuestion.tsx","common/modals/question/ModalQuestionContainer.tsx","content/SuperInputsDemo.tsx","common/inputValidator.ts","content/Login/Login.tsx","content/Login/LoginContainer.tsx","content/Recover/RecoverTimer.tsx","redux/recover-reducer.ts","content/Recover/Recover.tsx","content/Recover/RecoverContainer.tsx","content/NewPassword/NewPassword.tsx","content/NewPassword/NewPasswordContainer.tsx","common/loader/loader.svg","common/loader/loader.tsx","content/Registration/Registration2.tsx","common/registrationInputValidator.ts","redux/registration-reducer.ts","content/Registration/RegistrationContainer.tsx","common/modals/input2/ModalInput2.tsx","common/modals/input2/ModalInputContainer2.tsx","content/CardsPage/CardItem.tsx","redux/cards-reducer.ts","content/CardsPage/CardsPage.tsx","content/CardsPage/CardsPageContainer.tsx","common/images/cardsIcon.png","content/PacksPage/PackItem.tsx","common/images/learnIcon.png","redux/packs-reducer.ts","content/PacksPage/PacksPage.tsx","content/PacksPage/PacksPageContainer.tsx","content/Page404/Page404.tsx","content/LearnPage/AnswerButton.tsx","content/LearnPage/LearnPage.tsx","redux/learn-reducer.ts","content/LearnPage/LearnPageContainer.tsx","App.tsx","reportWebVitals.ts","redux/store.ts","index.tsx"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","authAPI","post","then","response","data","email","password","rememberMe","delete","from","message","resetPasswordToken","packsAPI","params","get","name","cardsPack","id","newName","put","_id","cardsAPI","card","question","answer","card_id","grade","updatedGrade","initialState","status","isInitialized","SET_APP_STATUS","setAppStatusAC","type","SET_IS_LOGGED_IN","SET_PROFILE","isLoggedIn","profile","setIsLoggedInAC","setProfileAC","setAuthTC","dispatch","catch","e","console","log","finally","logOutTC","Profile","useDispatch","useSelector","state","auth","profileData","className","appStyle","defaultTitle","style","title","avatar","src","alt","width","height","defaultAvatar","infoWrapper","info","packsCount","publicCardPacksCount","defaultButton","onClick","to","NavbarItem","props","item","activeClassName","activeLink","Navbar","navbar","logo","menu","logoutButton","loginButton","SuperButton","red","restProps","finalClassName","s","default","SuperInputText","onChange","onChangeText","onKeyPress","onEnter","error","spanClassName","finalSpanClassName","finalInputClassName","errorInput","superInput","inputItem","currentTarget","value","key","inputErrorMessageArea","SuperCheckbox","onChangeChecked","children","checkbox","checked","NameFilterComponent","onChangeHandler","setFiltersHandler","onClearHandler","placeholder","searchComponent","input","SET_SEARCH_FILTERS_VALUE","nameFilter","onlyMyPacks","setFiltersAC","searchObject","payload","SearchContainer","showOnlyMyPacksCheckbox","useState","searchState","setSearchState","htmlFor","fontSize","color","searchContainer","searchValue","marginLeft","borderRadius","PaginationDisplay","currentPage","totalItems","itemsOnPage","getPage","getItemsOnPage","pages","lastPage","Math","ceil","i","push","background","undefined","transition","filter","p","main","Number","SET_CURRENT_PAGE","SET_ITEMS_ON_PAGE","page","pageCount","PaginationContainer","paginationState","pagination","Modal","enableBackground","backgroundStyle","backgroundOnClick","modalStyle","modalOnClick","show","useEffect","document","body","overflowY","top","left","position","opacity","zIndex","display","flexFlow","alignItems","justifyContent","modal","ModalContainer","setShow","modalText","marginTop","buttonText","ModalQuestion","setTrue","setFalse","buttonStyles","trueStyles","falseStyles","buttonTrue","buttonFalse","ModalQuestionContainer","buttonTitle","answerCallback","isMine","setAnswer","disabled","SuperInputsDemo","text","setText","showAlert","alert","setChecked","demoContainer","green","inputValidator","test","Login","formState","onBlurHandler","checkBoxHandler","onSubmitHandler","disableSubmit","globalFormError","pageContainer","form","onSubmit","preventDefault","onBlur","DEV_MODE","messageDefault","credentialsContainer","credentialsString","credentialsTitle","credentialsValue","DEFAULT_EMAIL","DEFAULT_PASSWORD","LoginContainer","touched","setFormState","field","trim","target","login","logInTC","RecoverTimer","getTime","hideTimer","timeMs","setTimeMs","timerID","setInterval","clearInterval","timer","ms","seconds","floor","convertMsToTime","timerIsOn","TOGGLE_TIMER_STATUS","toggleTimerAC","Recover","localStorage","timerData","Date","now","pageRecover","wrapper","timerContainer","setItem","RecoverContainer","baseUrl","window","location","origin","recoverPasswordTC","NewPassword","formError","confirm","NewPasswordContainer","useParams","token","history","replaceState","setNewPasswordTC","Loader","fadeOut","appState","dimScreen","hideLoader","loader","Registration2","registrationFormState","password2","errorResponse","stopPropagation","registrationErrorMessage","container","submitButton","registrationInputValidator","password1","SET_SUCCESSFULLY_REGISTERED","isSuccessfullyRegistered","setSuccessfullyRegisteredAC","successfullyRegistered","RegistrationContainer","pageRegistration","setRegistrationFormState","registrationTC","ModalInput2","answers","inputContainerStyles","inputStyles","button","close","answerData","setAnswerData","field1","field2","field3","padding","ModalInputContainer2","modalInputProps","defaultAnswers","CardItem","myId","itemIsMine","user_id","delay","setDelay","timerId","setTimeout","clearTimeout","updated","toLocaleDateString","hour12","hour","minute","created","cardItem","itemIsNotMine","descriptionBlock","cardDescription","count","round","EPSILON","buttonsBlock","deleteCallback","updateCallback","packTitle","cards","totalCardsCount","itemsPerPage","sortCards","setCardsAC","setTotalCardsCountAC","getCardsTC","packId","getState","cardsPage","cardsTotalCount","deleteCardTC","cardId","CardsPage","filterState","sort","c","includes","map","deleteCard","updateCard","cardsPageWrapper","pageTitle","controlsContainer","alignSelf","marginBottom","table","tableHeader","sortSettings","activeSetting","createCard","CardsPageContainer","appStatus","pagesCount","cardsPack_id","createCardTC","updateCardTC","PackItem","split","join","packItem","nameBlock","packName","userName","user_name","cardsCount","emptyPack","cardsLink","encodeURI","cardsIcon","tooltip","learnLink","packs","totalPacksCount","sortPacks","getPacksTC","packsPage","cardPacks","cardPacksTotalCount","PacksPage","crSorting","slice","packsRender","deletePack","updatePack","setSort","setSortPacksAC","packsPageWrapper","createPack","PacksPageContainer","packNameFilter","a","b","createPackTC","deletePackTC","updatePackTC","Page404","page404","AnswerButton","buttonId","answerId","answerHandler","picked","styling","answerButton","highlightAnswer","highlight","border","LearnPage","amount","index","smartMode","toggleMode","getNextCard","setGrade","nextButtonStyle","nextButton","nextButtonDisabled","titleStyle","packEmpty","lastCard","cardsCountDisplay","smartModeStyle","cardContainer","modeTitle","marginRight","answerContainer","checkButton","cardIndex","LearnPageContainer","setIndex","setMode","length","m","sum","reduce","acc","rand","random","res","newSum","updateCardGradeAC","sendGradeTC","App","showLoader","setShowLoader","content","exact","path","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","learnPage","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.04fb74c9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"defaultTitle\":\"Common_defaultTitle__31EcN\",\"defaultButton\":\"Common_defaultButton__3Nyzq\",\"infoWrapper\":\"Common_infoWrapper__2ZSzp\",\"modal\":\"Common_modal__aQ34j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"LearnPage_pageContainer__Tw53u\",\"modeTitle\":\"LearnPage_modeTitle__3ngue\",\"cardsCount\":\"LearnPage_cardsCount__BmnuJ\",\"lastCard\":\"LearnPage_lastCard__1PmmU\",\"packEmpty\":\"LearnPage_packEmpty__16T4G\",\"cardContainer\":\"LearnPage_cardContainer__3VRkS\",\"card\":\"LearnPage_card__26Yo9\",\"question\":\"LearnPage_question__2wFZO\",\"answer\":\"LearnPage_answer__1birh\",\"delete\":\"LearnPage_delete__2WO_k\",\"buttonsBlock\":\"LearnPage_buttonsBlock__3cN5_\",\"answerButton\":\"LearnPage_answerButton__2Ql9m\",\"checkButton\":\"LearnPage_checkButton__gb5re\",\"highlightAnswer\":\"LearnPage_highlightAnswer__1urSl\",\"nextButton\":\"LearnPage_nextButton__AeOjI\",\"nextButtonDisabled\":\"LearnPage_nextButtonDisabled__2rGeP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packItem\":\"PackItem_packItem__5ImAS\",\"nameBlock\":\"PackItem_nameBlock__tTu2_\",\"packName\":\"PackItem_packName__2bt32\",\"userName\":\"PackItem_userName__3n_WM\",\"itemIsNotMine\":\"PackItem_itemIsNotMine__2tp45\",\"count\":\"PackItem_count__27MeW\",\"emptyPack\":\"PackItem_emptyPack__2ueKT\",\"updated\":\"PackItem_updated__1zj0h\",\"created\":\"PackItem_created__3Aj0b\",\"buttonsBlock\":\"PackItem_buttonsBlock__3G6J-\",\"cardsLink\":\"PackItem_cardsLink__YKW2N\",\"learnLink\":\"PackItem_learnLink__3Lw-Y\",\"tooltip\":\"PackItem_tooltip__1_zoN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"Login_pageContainer__UVIWV\",\"form\":\"Login_form__32Fyg\",\"rememberMe\":\"Login_rememberMe__dRVr8\",\"messageDefault\":\"Login_messageDefault__3l_EJ\",\"credentialsContainer\":\"Login_credentialsContainer__R7oM-\",\"credentialsString\":\"Login_credentialsString__5M3DA\",\"credentialsTitle\":\"Login_credentialsTitle__2-ZDZ\",\"credentialsValue\":\"Login_credentialsValue__jIh4G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardsPageWrapper\":\"CardsPage_cardsPageWrapper__1KtSp\",\"pageTitle\":\"CardsPage_pageTitle__CfxOj\",\"controlsContainer\":\"CardsPage_controlsContainer__y5nwQ\",\"table\":\"CardsPage_table__2DQ55\",\"sortSettings\":\"CardsPage_sortSettings__221op\",\"activeSetting\":\"CardsPage_activeSetting__1h9bN\",\"tableHeader\":\"CardsPage_tableHeader__fVl_U\",\"inputBlock\":\"CardsPage_inputBlock__1pJDB\",\"itemIsNotMine\":\"CardsPage_itemIsNotMine__vk-Xv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"packsPageWrapper\":\"PacksPage_packsPageWrapper__3L10y\",\"pageTitle\":\"PacksPage_pageTitle__3u7Ym\",\"controlsContainer\":\"PacksPage_controlsContainer__1tliG\",\"table\":\"PacksPage_table__2o7Vh\",\"colName\":\"PacksPage_colName__3Uaoe\",\"colCards\":\"PacksPage_colCards__3pbEI\",\"colUser\":\"PacksPage_colUser__3-wM2\",\"colUpdated\":\"PacksPage_colUpdated__1rIL8\",\"colCreated\":\"PacksPage_colCreated__MvXQz\",\"colAdd\":\"PacksPage_colAdd__E7wBh\",\"sortSettings\":\"PacksPage_sortSettings__3ga0l\",\"activeSetting\":\"PacksPage_activeSetting__ehPrI\",\"tableHeader\":\"PacksPage_tableHeader__1YVD1\",\"inputBlock\":\"PacksPage_inputBlock__jV9s_\",\"addButton\":\"PacksPage_addButton__WHXpF\",\"itemIsNotMine\":\"PacksPage_itemIsNotMine__3-65N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"Registration_pageContainer__1KWw0\",\"form\":\"Registration_form__jtTlg\",\"container\":\"Registration_container__3mKga\",\"registrationErrorMessage\":\"Registration_registrationErrorMessage__1kz7v\",\"demoContainer\":\"Registration_demoContainer__iUtpv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardItem\":\"CardItem_cardItem__yvja4\",\"descriptionBlock\":\"CardItem_descriptionBlock__8fnAX\",\"cardDescription\":\"CardItem_cardDescription__hkHFF\",\"userName\":\"CardItem_userName__HYHkq\",\"itemIsNotMine\":\"CardItem_itemIsNotMine__1SZm4\",\"count\":\"CardItem_count__1W-n1\",\"emptyPack\":\"CardItem_emptyPack__1Hbxu\",\"updated\":\"CardItem_updated__38YgM\",\"created\":\"CardItem_created__1nLpk\",\"buttonsBlock\":\"CardItem_buttonsBlock__2RUGp\",\"packItem\":\"CardItem_packItem__2AuO5\",\"cardsLink\":\"CardItem_cardsLink__5u2PH\",\"learnLink\":\"CardItem_learnLink__1y1ZC\",\"tooltip\":\"CardItem_tooltip__294jl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Profile_title__F93Aw\",\"profileData\":\"Profile_profileData__mV4WJ\",\"avatar\":\"Profile_avatar__1Now8\",\"info\":\"Profile_info__2bw-f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputItem\":\"SuperInputText_inputItem__3wSqk\",\"superInput\":\"SuperInputText_superInput__2y9o7\",\"errorInput\":\"SuperInputText_errorInput__1Tk9e\",\"error\":\"SuperInputText_error__1l5Oe\",\"inputErrorMessageArea\":\"SuperInputText_inputErrorMessageArea__1dWI0\",\"title\":\"SuperInputText_title__2upz8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Recover_form__DGr-v\",\"timer\":\"Recover_timer__2fP7Q\",\"timerContainer\":\"Recover_timerContainer__20gB8\",\"wrapper\":\"Recover_wrapper__OpqFt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__2UpRR\",\"menu\":\"Navbar_menu___OZdZ\",\"logo\":\"Navbar_logo__2Y1Zc\",\"loginButton\":\"Navbar_loginButton__1Db38\",\"logoutButton\":\"Navbar_logoutButton__OhV8V\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dimScreen\":\"loader_dimScreen__Ia0cI\",\"fadein\":\"loader_fadein__3t80S\",\"hideLoader\":\"loader_hideLoader__1DOcc\",\"loader\":\"loader_loader__3hg5M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavbarItem_item__2LJ8k\",\"activeLink\":\"NavbarItem_activeLink__3JfRL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"default\":\"SuperButton_default__1H4I9\",\"red\":\"SuperButton_red__1KP2a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"checkbox\":\"SuperCheckbox_checkbox__7ru_C\",\"spanClassName\":\"SuperCheckbox_spanClassName__3VuGm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchComponent\":\"NameFilterComponent_searchComponent__2XuZf\",\"input\":\"NameFilterComponent_input__2j-G7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageContainer\":\"Password_pageContainer__2g75V\",\"form\":\"Password_form__3GP7i\",\"wrapper\":\"Password_wrapper__1SPnd\",\"rememberMe\":\"Password_rememberMe__1c7Ms\",\"messageDefault\":\"Password_messageDefault__2ZRCq\",\"credentialsContainer\":\"Password_credentialsContainer__2Hv20\",\"credentialsString\":\"Password_credentialsString__qjnKt\",\"credentialsTitle\":\"Password_credentialsTitle__1wpWr\",\"credentialsValue\":\"Password_credentialsValue__2RUqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3lkBD\",\"content\":\"App_content__XgHZo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchContainer\":\"SearchContainer_searchContainer__dKPmB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"PaginationDisplay_main__2kxec\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page404\":\"Page404_page404__1B52C\"};","export default __webpack_public_path__ + \"static/media/default_avatar.b82381d7.png\";","import axios from 'axios';\r\nimport {GetPacksParamsType} from '../redux/packs-reducer';\r\nimport {GetCardsParamsType} from '../redux/cards-reducer';\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    // baseURL: 'http://localhost:7542/2.0/',\r\n    baseURL: 'https://neko-back.herokuapp.com/2.0',\r\n    headers: {}\r\n})\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.post('/auth/me')\r\n            .then(response => response.data)\r\n    },\r\n    login(email: string, password: string, rememberMe: boolean = false) {\r\n        return instance.post('/auth/login', {email, password, rememberMe})\r\n            .then(response => response.data)\r\n    },\r\n    logout() {\r\n        return instance.delete('/auth/me')\r\n    },\r\n    forgot(email: string, from: string, message: string) {\r\n        return instance.post('/auth/forgot', {email, from, message})\r\n    },\r\n    setNewPassword(password: string, resetPasswordToken: string) {\r\n        return instance.post('/auth/set-new-password', {password, resetPasswordToken})\r\n    },\r\n    registration(email: string, password: string) {\r\n        return instance.post('/auth/register', {email, password})\r\n    },\r\n}\r\n\r\nexport const packsAPI = {\r\n    getPacks(params: GetPacksParamsType) {\r\n        return instance.get('/cards/pack', {params})\r\n            .then(response => response.data)\r\n    },\r\n    createPack(name: string) {\r\n        return instance.post('/cards/pack', {cardsPack: {name}})\r\n    },\r\n    deletePack(id: string) {\r\n        return instance.delete(`/cards/pack?id=${id}`)\r\n    },\r\n    updatePack(id: string, newName: string) {\r\n        return instance.put('/cards/pack', {cardsPack: {_id: id, name: newName}})\r\n    }\r\n}\r\n\r\nexport const cardsAPI = {\r\n    getCards(id: string, params: GetCardsParamsType) {\r\n        return instance.get(`/cards/card?cardsPack_id=${id}`, {params})\r\n            .then(response => response.data)\r\n    },\r\n    createCard(data: CreateCardType) {\r\n        return instance.post('/cards/card', {card: data})\r\n    },\r\n    deleteCard(id: string) {\r\n        return instance.delete(`/cards/card?id=${id}`)\r\n    },\r\n    updateCard(id: string, question: string, answer: string) {\r\n        return instance.put('/cards/card', {card: {_id: id, question, answer}})\r\n    },\r\n    sendGrade(card_id: string, grade: number) {\r\n        return instance.put('/cards/grade', {card_id, grade})\r\n            .then(response => response.data.updatedGrade)\r\n    }\r\n}\r\n\r\n\r\nexport type GetPacksResponseType = {\r\n    _id: string\r\n    user_id: string\r\n    user_name: string\r\n    name: string\r\n    path: string\r\n    cardsCount: number\r\n    grade: number\r\n    shots: number\r\n    rating: number\r\n    type: 'pack'\r\n    created: string\r\n    updated: string\r\n}\r\n\r\nexport type CreatePackType = {\r\n    name?: string\r\n    path?: string\r\n    grade?: number\r\n    shots?: number\r\n    rating?: number\r\n    deckCover?: string\r\n    private?: boolean\r\n    type?: string\r\n}\r\n\r\nexport type CardType = {\r\n    answer: string\r\n    question: string\r\n    cardsPack_id: string\r\n    grade: number\r\n    rating: number\r\n    shots: number\r\n    type: string\r\n    user_id: string\r\n    created: string\r\n    updated: string\r\n    __v: number\r\n    _id: string\r\n}\r\n\r\nexport type CreateCardType = {\r\n    answer?: string\r\n    question?: string\r\n    cardsPack_id?: string\r\n    grade?: number\r\n    rating?: number\r\n    shots?: number\r\n    type?: string\r\n    answerImg?: string\r\n    questionImg?: string\r\n    questionVideo?: string\r\n    answerVideo?: string\r\n}\r\n\r\nexport type CardsResponseType = {\r\n    cards: CardType[]\r\n    cardsTotalCount: number\r\n    maxGrade: number\r\n    minGrade: number\r\n    page: number\r\n    pageCount: number\r\n    packUserId: string\r\n}","\r\nexport type InitialStateType = {\r\n    status: AppStatusType\r\n    isInitialized: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    status: 'loading',\r\n    isInitialized: false\r\n}\r\nexport type AppStatusType = 'idle' | 'loading' | 'sending' | 'failed'\r\n\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setAppStatusAC>\r\n\r\nexport const appReducer = (state: InitialStateType = initialState, action: ActionTypes): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_APP_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst SET_APP_STATUS = 'SET-APP-STATUS'\r\n\r\nexport const setAppStatusAC = (status: AppStatusType) => ({\r\n        type: SET_APP_STATUS,\r\n        status\r\n    }\r\n)","import store from './store';\r\nimport {authAPI} from '../api/API';\r\nimport {setAppStatusAC} from './app-reducer';\r\n\r\nconst SET_IS_LOGGED_IN = 'SET-IS-LOGGED-IN'\r\nconst SET_PROFILE = 'SET-PROFILE'\r\n\r\ntype PageStateType = {\r\n    isLoggedIn: boolean\r\n    profile: AuthProfileType | null\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    isLoggedIn: false,\r\n    profile: null\r\n}\r\n\r\nexport type AuthProfileType = {\r\n    _id: string;\r\n    email: string;\r\n    name: string;\r\n    avatar?: string;\r\n    publicCardPacksCount: number;\r\n\r\n    created: Date;\r\n    updated: Date;\r\n    isAdmin: boolean;\r\n    verified: boolean;\r\n    rememberMe: boolean;\r\n\r\n    error?: string;\r\n}\r\n\r\nexport type DispatchType = typeof store.dispatch\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setIsLoggedInAC>\r\n    | ReturnType<typeof setProfileAC>\r\n\r\nexport const authReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_IS_LOGGED_IN:\r\n            return {...state, isLoggedIn: action.isLoggedIn}\r\n\r\n        case SET_PROFILE:\r\n            return {...state, profile: action.profile}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nconst setIsLoggedInAC = (isLoggedIn: boolean) => ({\r\n        type: SET_IS_LOGGED_IN,\r\n        isLoggedIn\r\n    } as const\r\n)\r\n\r\nconst setProfileAC = (profile: AuthProfileType) => ({\r\n    type: SET_PROFILE,\r\n    profile\r\n}) as const\r\n\r\n// Thunks\r\n\r\nexport const setAuthTC = () => (dispatch: DispatchType) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.me()\r\n        .then((response) => {\r\n            dispatch(setProfileAC(response))\r\n            dispatch(setIsLoggedInAC(true))\r\n        })\r\n        .catch(e => {\r\n            console.log('Error: ', {...e})\r\n            dispatch(setIsLoggedInAC(false))\r\n        })\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const logInTC = (login: string, password: string, rememberMe: boolean) => (dispatch: DispatchType) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.login(login, password, rememberMe)\r\n        .then((response) => {\r\n            dispatch(setProfileAC(response))\r\n            dispatch(setIsLoggedInAC(true))\r\n        })\r\n        .catch(e => console.log('Error: ', {...e}))\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const logOutTC = () => (dispatch: DispatchType) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.logout()\r\n        .then(response => {\r\n            dispatch(setIsLoggedInAC(false))\r\n        })\r\n        .catch(e => console.log(e))\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const setNewPasswordTC = (password: string, resetPasswordToken: string) => (dispatch: DispatchType) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.setNewPassword(password, resetPasswordToken)\r\n        .then(response => {\r\n            dispatch(setIsLoggedInAC(false))\r\n        })\r\n        .catch(e => console.log(e))\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n","import React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {Redirect} from 'react-router-dom';\r\nimport style from '../styles/Profile.module.css'\r\nimport appStyle from '../../common/styles/Common.module.css'\r\nimport defaultAvatar from '../../common/images/default_avatar.png';\r\nimport {AuthProfileType, logOutTC} from '../../redux/auth-reducer';\r\n\r\nfunction Profile() {\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector((state: RootStateType): boolean => state.auth.isLoggedIn)\r\n    const profileData = useSelector((state: RootStateType): AuthProfileType | null => state.auth.profile)\r\n\r\n    const logoutHandler = () => dispatch(logOutTC())\r\n\r\n    return (\r\n        <div>\r\n            <h1 className={`${appStyle.defaultTitle} ${style.title}`}>\r\n                Profile\r\n            </h1>\r\n            {\r\n                isLoggedIn && profileData\r\n                    ? <div className={style.profileData}>\r\n                        {profileData.avatar ?\r\n                            <div>\r\n                                <img className={style.avatar}\r\n                                     src={profileData.avatar}\r\n                                     alt=\"\"\r\n                                     width=\"100\"\r\n                                     height=\"\"/>\r\n                            </div>\r\n                            : <img src={defaultAvatar} alt=\"\" width=\"100\" height=\"100\"/>\r\n                        }\r\n                        <div className={appStyle.infoWrapper}>\r\n                            <div className={style.info}>\r\n                                <div className={style.name}>Name: {profileData.name}</div>\r\n                                <div className={style.email}>Email: {profileData.email}</div>\r\n                                <div className={style.packsCount}>Public card packs\r\n                                    count: {profileData.publicCardPacksCount}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button className={appStyle.defaultButton} onClick={logoutHandler}>Log out</button>\r\n                    </div>\r\n                    : <Redirect to={'/login'}/>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport style from './styles/NavbarItem.module.css'\r\n\r\ntype NavbarItemPropsType = {\r\n    to: string\r\n    title: string\r\n}\r\n\r\nexport function NavbarItem(props: NavbarItemPropsType) {\r\n    return (\r\n        <div className={style.item}>\r\n            <NavLink to={props.to} activeClassName={style.activeLink}>\r\n                {props.title}\r\n            </NavLink>\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/site_logo.76ef268d.png\";","import React from 'react';\r\nimport style from './styles/Navbar.module.css'\r\nimport {NavbarItem} from './NavbarItem';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../redux/store';\r\nimport {logOutTC} from '../redux/auth-reducer';\r\nimport { NavLink } from 'react-router-dom';\r\nimport logo from './images/site_logo.png'\r\n\r\nexport function Navbar() {\r\n\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector((state: RootStateType) => state.auth.isLoggedIn)\r\n    const logout = () => dispatch(logOutTC())\r\n\r\n    return (\r\n        <nav className={style.navbar}>\r\n            <NavLink to='/packs'>\r\n                <img src={logo} className={style.logo} alt=\"logo\"/>\r\n            </NavLink>\r\n            <div className={style.menu}>\r\n                {!isLoggedIn && <NavbarItem to='/registration2' title='Registration'/>}\r\n                {isLoggedIn && <>\r\n                    <NavbarItem to='/packs' title='Packs'/>\r\n                    <NavbarItem to='/profile' title='Profile'/>\r\n                    <NavbarItem to='/set-new-password' title='Password'/>\r\n                    <NavbarItem to='/recover' title='Recover'/>\r\n                </>}\r\n                {isLoggedIn\r\n                    ? <button className={style.logoutButton} onClick={logout}>Logout</button>\r\n                    : <div className={style.loginButton}><NavbarItem to='/login' title='Login'/></div>\r\n                }\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React, { ButtonHTMLAttributes, DetailedHTMLProps } from \"react\";\r\nimport s from \"./SuperButton.module.css\";\r\n\r\ntype DefaultButtonPropsType = DetailedHTMLProps<\r\n  ButtonHTMLAttributes<HTMLButtonElement>,\r\n  HTMLButtonElement\r\n>;\r\n\r\ntype SuperButtonPropsType = DefaultButtonPropsType & {\r\n  red?: boolean;\r\n};\r\n\r\nconst SuperButton: React.FC<SuperButtonPropsType> = ({\r\n  red,\r\n  className,\r\n  ...restProps\r\n}) => {\r\n  const finalClassName = `${red ? s.red : s.default} ${className}`;\r\n\r\n  return (\r\n    <button\r\n      className={finalClassName}\r\n      {...restProps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default SuperButton;\r\n","import React, {\r\n  ChangeEvent,\r\n  DetailedHTMLProps,\r\n  InputHTMLAttributes,\r\n  KeyboardEvent\r\n} from \"react\";\r\nimport s from \"./SuperInputText.module.css\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<\r\n  InputHTMLAttributes<HTMLInputElement>,\r\n  HTMLInputElement\r\n>;\r\n\r\ntype SuperInputTextPropsType = DefaultInputPropsType & {\r\n  onChangeText?: (value: string) => void;\r\n  onEnter?: () => void;\r\n  error?: string;\r\n  spanClassName?: string;\r\n};\r\n\r\nconst SuperInputText: React.FC<SuperInputTextPropsType> = ({\r\n  onChange,\r\n  onChangeText,\r\n  onKeyPress,\r\n  onEnter,\r\n  error,\r\n  className,\r\n  spanClassName,\r\n  title,\r\n  ...restProps\r\n}) => {\r\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n    onChange && onChange(e);\r\n\r\n    onChangeText && onChangeText(e.currentTarget.value);\r\n  };\r\n  const onKeyPressCallback = (e: KeyboardEvent<HTMLInputElement>) => {\r\n    onKeyPress && onKeyPress(e);\r\n\r\n    e.key === \"Enter\" &&\r\n    onEnter &&\r\n      onEnter();\r\n  };\r\n\r\n  const finalSpanClassName = `${s.error} ${spanClassName ? spanClassName : \"\"}`;\r\n  const finalInputClassName = `${\r\n    error ? s.errorInput : s.superInput\r\n  } ${className}`;\r\n\r\n  return (\r\n    <div className={s.inputItem}>\r\n      {title && <div className={s.title}>{title}</div>}\r\n      <input\r\n        onChange={onChangeCallback}\r\n        onKeyPress={onKeyPressCallback}\r\n        className={finalInputClassName}\r\n        {...restProps}\r\n      />\r\n      <div className={s.inputErrorMessageArea}>\r\n      {error && <span className={finalSpanClassName}>{error}</span>}\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuperInputText;\r\n","import React, {\r\n  ChangeEvent,\r\n  DetailedHTMLProps,\r\n  InputHTMLAttributes\r\n} from \"react\";\r\nimport s from \"./SuperCheckbox.module.css\";\r\n\r\ntype DefaultInputPropsType = DetailedHTMLProps<\r\n  InputHTMLAttributes<HTMLInputElement>,\r\n  HTMLInputElement\r\n>;\r\n\r\ntype SuperCheckboxPropsType = DefaultInputPropsType & {\r\n  onChangeChecked?: (checked: boolean) => void;\r\n  spanClassName?: string;\r\n};\r\n\r\nconst SuperCheckbox: React.FC<SuperCheckboxPropsType> = ({\r\n  type,\r\n  onChange,\r\n  onChangeChecked,\r\n  className,\r\n  spanClassName,\r\n  children,\r\n\r\n  ...restProps\r\n}) => {\r\n  const onChangeCallback = (e: ChangeEvent<HTMLInputElement>) => {\r\n    onChange && onChange(e);\r\n    onChangeChecked && onChangeChecked(e.currentTarget.checked);\r\n  };\r\n\r\n  const finalInputClassName = `${s.checkbox} ${className ? className : \"\"}`;\r\n\r\n  return (\r\n    <label>\r\n      <input\r\n        type={\"checkbox\"}\r\n        onChange={onChangeCallback}\r\n        className={finalInputClassName}\r\n        {...restProps}\r\n      />\r\n      {children && <span className={s.spanClassName}>{children}</span>}\r\n    </label>\r\n  );\r\n};\r\n\r\nexport default SuperCheckbox;\r\n","import React from 'react';\r\nimport s from './NameFilterComponent.module.css';\r\n\r\ntype searchFieldType = {\r\n    value: string\r\n    onChangeHandler(value: string): void\r\n    onClearHandler(): void\r\n    setFiltersHandler(): void\r\n    placeholder?: string\r\n}\r\n\r\n\r\nfunction NameFilterComponent({value, onChangeHandler, setFiltersHandler, onClearHandler, placeholder= 'Filter by name'}: searchFieldType) {\r\n    const handleKeyPress = (e: any) => {\r\n        if (e.key === 'Enter') {\r\n            setFiltersHandler()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={s.searchComponent}>\r\n            <input\r\n                type='text' className={s.input} value={value}\r\n                onChange={(e) => onChangeHandler(e.currentTarget.value)}\r\n                onKeyPress={handleKeyPress}\r\n                placeholder={placeholder}\r\n            />\r\n            {/*<button onClick={onClearHandler}>x</button>*/}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NameFilterComponent;","import {SearchStateType} from \"../common/Search/SearchContainer\";\r\n\r\nconst SET_SEARCH_FILTERS_VALUE = 'SET_SEARCH_FILTERS_VALUE';\r\n\r\nexport type InitialStateType = {\r\n    nameFilter: string\r\n    onlyMyPacks: boolean\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    nameFilter: \"\",\r\n    onlyMyPacks: false\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setFiltersAC>\r\n\r\nexport const searchReducer = (state: InitialStateType = initialState, action: ActionTypes): InitialStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_SEARCH_FILTERS_VALUE:\r\n            return {\r\n                ...state,\r\n                nameFilter: action.payload.searchObject.nameFilter,\r\n                onlyMyPacks: action.payload.searchObject.onlyMyPacks\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setFiltersAC = (searchObject: SearchStateType) => ({\r\n        type: SET_SEARCH_FILTERS_VALUE,\r\n        payload: {\r\n            searchObject,\r\n        }\r\n    }\r\n)\r\n\r\n","import React, {useState} from 'react';\r\nimport {useDispatch} from \"react-redux\";\r\nimport NameFilterComponent from \"./NameFilterComponent\";\r\nimport {setFiltersAC} from \"../../redux/search-reducer\";\r\nimport s from '../styles/SearchContainer.module.css';\r\n\r\nexport type SearchStateType = {\r\n    nameFilter: string\r\n    onlyMyPacks: boolean\r\n}\r\nexport type SearchContainerPropsType = {\r\n    placeholder: string\r\n    showOnlyMyPacksCheckbox: boolean\r\n}\r\n\r\nfunction SearchContainer({placeholder, showOnlyMyPacksCheckbox}: SearchContainerPropsType) {\r\n    const dispatch = useDispatch()\r\n    const [searchState, setSearchState] = useState<SearchStateType>(\r\n        {\r\n            nameFilter: \"\",\r\n            onlyMyPacks: true\r\n        }\r\n    )\r\n\r\n    const onChangeHandler = (searchValue: string) => {\r\n        setSearchState({\r\n            ...searchState,\r\n            nameFilter: searchValue,\r\n        })\r\n    }\r\n\r\n    const myPacksHandler = () => {\r\n        setSearchState({\r\n            ...searchState,\r\n            onlyMyPacks: !searchState.onlyMyPacks\r\n        })\r\n        dispatch(setFiltersAC(searchState))\r\n    }\r\n    const setFiltersHandler = () => {\r\n        dispatch(setFiltersAC(searchState))\r\n    }\r\n\r\n    const onClearHandler = () => {\r\n        setSearchState({\r\n            ...searchState,\r\n            nameFilter: ''\r\n        })\r\n        dispatch(setFiltersAC({\r\n            ...searchState,\r\n            nameFilter: ''\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {showOnlyMyPacksCheckbox ?\r\n                <>\r\n                    <input type=\"checkbox\"\r\n                           id=\"showOnlyMyPacks\"\r\n                           name=\"interest\"\r\n                           checked={!searchState.onlyMyPacks}\r\n                           onChange={myPacksHandler}\r\n                    />\r\n                    <label htmlFor=\"showOnlyMyPacks\"\r\n                           style={{fontSize: '12px', color: '#777'}}\r\n                    >\r\n                        Only my packs\r\n                    </label>\r\n                </> : ''}\r\n            <div className={s.searchContainer}>\r\n                <NameFilterComponent\r\n                    value={searchState.nameFilter}\r\n                    onChangeHandler={onChangeHandler}\r\n                    onClearHandler={onClearHandler}\r\n                    setFiltersHandler={setFiltersHandler}\r\n                    placeholder={placeholder}\r\n                />\r\n                <button onClick={setFiltersHandler}\r\n                        style={{marginLeft: '5px', borderRadius: '4px'}}>Search\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SearchContainer;","import React from 'react';\r\nimport s from '../styles/PaginationDisplay.module.css';\r\n\r\ntype PaginationType = {\r\n    currentPage: number\r\n    totalItems: number\r\n    itemsOnPage: number\r\n    getPage(currentPage: number): void\r\n    getItemsOnPage(itemsOnPage: number): void\r\n}\r\n\r\nfunction PaginationDisplay({currentPage, totalItems, itemsOnPage, getPage, getItemsOnPage}: PaginationType) {\r\n\r\n    let pages: JSX.Element[] = []\r\n\r\n    const lastPage = Math.ceil(totalItems / itemsOnPage)\r\n\r\n    for (let i = 1; i <= lastPage; i++) pages.push((\r\n        <button\r\n            key={i}\r\n            style={{\r\n                background: currentPage === i ? '#4c4c4c' : undefined,\r\n                color: currentPage === i ? 'white' : undefined,\r\n                transition: currentPage === i ? '0.9s' : '0.0s'\r\n            }}\r\n            onClick={() => getPage(i)}\r\n        >\r\n            {i}\r\n        </button>\r\n    ));\r\n\r\n    // 1 ... 4 5 (6) 7 8 ... 11\r\n    const centralPartWidth = 1\r\n    if ((currentPage + 2 + centralPartWidth) < lastPage) {\r\n        pages[currentPage + centralPartWidth] = (\r\n            <span key={currentPage + 1 + centralPartWidth} style={{}}>\r\n                 ...\r\n            </span>\r\n        );\r\n        pages = pages.filter((p, i) => i < (currentPage + 1 + centralPartWidth) || i === (lastPage - 1));\r\n    }\r\n    if (currentPage > 3 + centralPartWidth) {\r\n        pages[1] = (\r\n            <span key={2} style={{}}>\r\n                 ...\r\n            </span>\r\n        );\r\n        pages = pages.filter((p, i) => i < 2 || i > currentPage - (2 + centralPartWidth));\r\n    }\r\n\r\n    return (\r\n        <div className={s.main}>\r\n            {pages}\r\n            <select value={itemsOnPage}\r\n                    onChange={e => {\r\n                        getItemsOnPage(Number(e.currentTarget.value))\r\n                    }}\r\n                    style={{marginLeft: '5px'}}>\r\n                <option value={5}>5</option>\r\n                <option value={10}>10</option>\r\n                <option value={20}>20</option>\r\n                <option value={50}>50</option>\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaginationDisplay;\r\n","const SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_ITEMS_ON_PAGE = 'SET_ITEMS_ON_PAGE';\r\n\r\nexport type InitialStateType = {\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nconst initialState: InitialStateType = {\r\n    page: 1,\r\n    pageCount: 10,\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setCurrentPageAC>\r\n\r\nexport const paginationReducer = (state: InitialStateType = initialState, action: ActionTypes): InitialStateType => {\r\n    switch (action.type) {\r\n\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                page: action.payload.value\r\n            }\r\n        case SET_ITEMS_ON_PAGE:\r\n            return {\r\n                ...state,\r\n                pageCount: action.payload.value\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const setCurrentPageAC = (value: number) => ({\r\n        type: SET_CURRENT_PAGE,\r\n        payload: {value}\r\n    }\r\n)\r\n\r\nexport const setItemsOnPageAC = (value: number) => ({\r\n        type: SET_ITEMS_ON_PAGE,\r\n        payload: {value}\r\n    }\r\n)","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport PaginationDisplay from \"./PaginationDisplay\";\r\nimport {setCurrentPageAC, setItemsOnPageAC} from \"../../redux/pagination-reducer\";\r\nimport {RootStateType} from \"../../redux/store\";\r\n\r\ntype PaginationStateType = {\r\n    page: number\r\n    pageCount: number\r\n}\r\n\r\nexport type PaginationContainerPropsType = {\r\n    totalItems: number\r\n}\r\n\r\nfunction PaginationContainer({totalItems}: PaginationContainerPropsType) {\r\n    const dispatch = useDispatch()\r\n    const paginationState = useSelector((state: RootStateType): PaginationStateType => state.pagination)\r\n\r\n\r\n    const getPage = (currentPage: number) => {\r\n        dispatch(setCurrentPageAC(currentPage))\r\n    }\r\n\r\n    const getItemsOnPage = (itemsOnPage: number) => {\r\n        dispatch(setItemsOnPageAC(itemsOnPage))\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <PaginationDisplay\r\n                currentPage={paginationState.page}\r\n                itemsOnPage={paginationState.pageCount}\r\n                totalItems={totalItems}\r\n                getPage={getPage}\r\n                getItemsOnPage={getItemsOnPage}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PaginationContainer;\r\n","import React, {CSSProperties, ReactChild, ReactChildren, ReactElement, useEffect} from 'react';\r\nimport appStyle from '../../common/styles/Common.module.css'\r\n\r\nexport type ModalPropsType = {\r\n    enableBackground?: boolean;\r\n    backgroundStyle?: CSSProperties;\r\n    backgroundOnClick?: () => void;\r\n\r\n    width: number;\r\n    height: number;\r\n    modalStyle?: CSSProperties;\r\n    modalOnClick?: () => void;\r\n\r\n    show: boolean\r\n    children?: ReactChild | ReactChildren | (string | ReactChildren | ReactElement)[];\r\n}\r\n\r\n\r\nfunction Modal(props: ModalPropsType) {\r\n    const {\r\n        enableBackground,\r\n        backgroundStyle,\r\n        backgroundOnClick = () => {\r\n        },\r\n\r\n        width,\r\n        height,\r\n        modalStyle,\r\n        modalOnClick = () => {\r\n        },\r\n\r\n        show, children\r\n    } = props\r\n\r\n    // disable page scroll on modal show\r\n    useEffect(() => {\r\n        if (show) {\r\n            document.body.style.overflowY = 'hidden';\r\n        } else {\r\n            document.body.style.overflowY = 'unset';\r\n        }\r\n    }, [show]);\r\n\r\n    const top = `calc(50vh - ${height / 2}px)`;\r\n    const left = `calc(50vw - ${width / 2}px)`;\r\n\r\n    if (!show) return null\r\n\r\n    return (\r\n        <>\r\n            {enableBackground && <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    left: '0px',\r\n                    width: '100vw',\r\n                    height: '100vh',\r\n                    overflowY: 'hidden',\r\n\r\n                    background: 'black',\r\n                    opacity: 0.35,\r\n                    zIndex: 20,\r\n\r\n                    ...backgroundStyle,\r\n                }}\r\n                onClick={backgroundOnClick}\r\n            />}\r\n\r\n            <div\r\n                style={{\r\n                    position: 'fixed',\r\n                    top,\r\n                    left,\r\n                    width,\r\n                    height,\r\n                    display: 'flex',\r\n                    flexFlow: 'column',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'center',\r\n\r\n                    background: 'white',\r\n                    zIndex: 21,\r\n\r\n                    ...modalStyle,\r\n                }}\r\n                onClick={modalOnClick}\r\n            >\r\n                <div className={appStyle.modal}>\r\n                    {children}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Modal;","import React, {useState} from 'react';\r\nimport Modal from './Modal';\r\n\r\n\r\ntype SimpleModalPropsType = {\r\n    modalText?: string\r\n    buttonText?: string\r\n}\r\n\r\nfunction ModalContainer(props: SimpleModalPropsType) {\r\n    const [show, setShow] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <button onClick={() => setShow(true)}>Simple modal</button>\r\n            <Modal\r\n                enableBackground={true}\r\n                backgroundOnClick={() => setShow(false)}\r\n\r\n                width={300}\r\n                height={200}\r\n                show={show}\r\n            >\r\n                {props.modalText || 'Simple Modal'}\r\n                <div style={{marginTop: '5px'}}>\r\n                    <button onClick={() => setShow(false)}>\r\n                        {props.buttonText || 'Close'}\r\n                    </button>\r\n                </div>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalContainer;","import Modal from \"../Modal\";\r\nimport React, {CSSProperties, ReactChildren, ReactElement, ReactNode} from \"react\";\r\n\r\ntype ModalQuestionPropsType = {\r\n    show: boolean;\r\n\r\n    setTrue: () => void;\r\n    setFalse: () => void;\r\n    buttonStyles?: CSSProperties;\r\n    trueStyles?: CSSProperties;\r\n    falseStyles?: CSSProperties;\r\n    buttonTrue?: ReactNode;\r\n    buttonFalse?: ReactNode;\r\n\r\n    enableBackground?: boolean;\r\n    backgroundStyle?: CSSProperties;\r\n    backgroundOnClick?: () => void;\r\n\r\n    width: number;\r\n    height: number;\r\n    modalStyle?: CSSProperties;\r\n    modalOnClick?: () => void;\r\n    children?: string | ReactChildren | ReactElement;\r\n}\r\n\r\nconst ModalQuestion = ({\r\n                           setTrue,\r\n                           setFalse,\r\n                           buttonStyles,\r\n                           trueStyles,\r\n                           falseStyles,\r\n                           buttonTrue = 'Yes',\r\n                           buttonFalse = 'No',\r\n\r\n                           enableBackground,\r\n                           backgroundStyle,\r\n                           backgroundOnClick = () => {\r\n                           },\r\n\r\n                           width,\r\n                           height,\r\n                           modalStyle,\r\n                           modalOnClick = () => {\r\n                           },\r\n\r\n                           show,\r\n                           children\r\n                       }: ModalQuestionPropsType) => {\r\n\r\n    return (\r\n        <Modal\r\n            enableBackground={enableBackground}\r\n            backgroundOnClick={backgroundOnClick}\r\n            backgroundStyle={backgroundStyle}\r\n\r\n            width={width}\r\n            height={height}\r\n            modalOnClick={modalOnClick}\r\n            modalStyle={modalStyle}\r\n\r\n            show={show}\r\n        >\r\n            {children ? children : <>question Modal</>}\r\n            <div\r\n                style={{\r\n                    width: '100%',\r\n                    display: 'flex',\r\n                    flexFlow: 'row',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-around',\r\n                    ...buttonStyles,\r\n                }}\r\n            >\r\n                <button onClick={setTrue} style={{...trueStyles}}>{buttonTrue}</button>\r\n                <button onClick={setFalse} style={{...falseStyles}}>{buttonFalse}</button>\r\n            </div>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default ModalQuestion;","import {ReactNode, useState} from \"react\";\r\nimport ModalQuestion from \"./ModalQuestion\";\r\n\r\nexport type ModalQuestionContainerPropsType = {\r\n    buttonTitle?: string\r\n    modalText?: string\r\n    isMine: boolean\r\n    answerCallback?: (answer: boolean) => void;\r\n    children?: ReactNode\r\n}\r\n\r\nconst ModalQuestionContainer = (\r\n    {\r\n        buttonTitle = 'ModalQuestion',\r\n        modalText,\r\n        answerCallback = () => {\r\n        },\r\n        isMine,\r\n        children\r\n    }: ModalQuestionContainerPropsType) => {\r\n\r\n    const [show, setShow] = useState(false);\r\n    const [answer, setAnswer] = useState(false);\r\n\r\n    const setTrue = () => {\r\n        setAnswer(true);\r\n        setShow(false);\r\n        answerCallback(true)\r\n\r\n    };\r\n    const setFalse = () => {\r\n        setAnswer(false);\r\n        setShow(false);\r\n        answerCallback(false)\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <button onClick={() => setShow(true)}\r\n                        disabled={!isMine}>{buttonTitle}</button>\r\n            </div>\r\n\r\n            <ModalQuestion\r\n                show={show}\r\n\r\n                setTrue={setTrue}\r\n                setFalse={setFalse}\r\n\r\n                enableBackground={true}\r\n                backgroundOnClick={() => setShow(false)}\r\n\r\n                width={300}\r\n                height={200}\r\n            >\r\n                <>\r\n                    {modalText}\r\n                    {children ? children : ''}\r\n                </>\r\n            </ModalQuestion>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ModalQuestionContainer;","import React, {useState} from 'react';\r\nimport SuperButton from '../common/SuperButton/SuperButton';\r\nimport SuperInputText from '../common/SuperInputText/SuperInputText';\r\nimport SuperCheckbox from '../common/SuperCheckbox/SuperCheckbox';\r\nimport s from './styles/Registration.module.css'\r\nimport SearchContainer from \"../common/Search/SearchContainer\";\r\nimport PaginationContainer from \"../common/Pagination/PaginationContainer\";\r\nimport ModalContainer from \"../common/modals/ModalContainer\";\r\nimport ModalQuestionContainer from '../common/modals/question/ModalQuestionContainer';\r\n\r\nfunction SuperInputsDemo() {\r\n    const [text, setText] = useState<string>(\"\");\r\n    const error = text ? \"\" : \"Field can't be empty\";\r\n\r\n    const showAlert = () => {\r\n        if (error) {\r\n            alert(\"Введите текст\");\r\n        } else {\r\n            alert(text);\r\n\r\n        }\r\n    };\r\n\r\n    const [checked, setChecked] = useState<boolean>(false);\r\n\r\n    return (\r\n        <div className={s.demoContainer}>\r\n            <h1>\r\n                SuperInputs Demo\r\n            </h1>\r\n            <div>\r\n                <SuperInputText\r\n                    value={text}\r\n                    onChangeText={setText}\r\n                    onEnter={showAlert}\r\n                    error={error}\r\n                    className={s.green}\r\n                />\r\n\r\n                <SuperButton\r\n                    red={text === ''}\r\n                    onClick={showAlert}\r\n                >\r\n                    Button\r\n                </SuperButton>\r\n\r\n                <SuperCheckbox checked={checked} onChangeChecked={setChecked}>\r\n                    CheckboxText\r\n                </SuperCheckbox>\r\n                <div>SearchComponent:\r\n                    <div style={{'border': 'solid 1px black'}}><SearchContainer placeholder={'placeholder'}\r\n                                                                                showOnlyMyPacksCheckbox/></div>\r\n                </div>\r\n                <div>Pagination:\r\n                    <div style={{'border': 'solid 1px black'}}><PaginationContainer totalItems={50}/></div>\r\n                </div>\r\n                <ModalContainer modalText={'Simple Modal'} buttonText={'Close it!'}/>\r\n                <ModalQuestionContainer isMine={true}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SuperInputsDemo;\r\n","\r\nexport type ValidatorFieldType = 'email' | 'password'\r\n\r\nconst inputValidator = (value: string, type: ValidatorFieldType): string => {\r\n    switch (type) {\r\n        case 'email':\r\n            return (/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) ? '' : 'Invalid email'\r\n        case 'password':\r\n            return /^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(value) ? '' : 'Invalid password'\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nexport default inputValidator","import React, {FormEvent} from 'react';\r\nimport style from '../styles/Login.module.css'\r\nimport appStyle from '../../common/styles/Common.module.css'\r\nimport SuperInputText from '../../common/SuperInputText/SuperInputText';\r\nimport SuperCheckbox from '../../common/SuperCheckbox/SuperCheckbox';\r\nimport SuperButton from '../../common/SuperButton/SuperButton';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {LoginFormStateType} from './LoginContainer';\r\nimport {ValidatorFieldType} from '../../common/inputValidator';\r\nimport {DEFAULT_EMAIL, DEFAULT_PASSWORD, DEV_MODE} from \"../../App\";\r\n\r\ntype LoginPropsType = {\r\n    formState: LoginFormStateType\r\n    onChangeHandler(field: ValidatorFieldType): (value: string) => void\r\n    onBlurHandler(field: ValidatorFieldType): (e: React.FocusEvent<HTMLInputElement>) => void\r\n    checkBoxHandler(rememberMe: boolean): void\r\n    onSubmitHandler(email: string, password: string, rememberMe: boolean): void\r\n}\r\n\r\nfunction Login({formState, onChangeHandler, onBlurHandler, checkBoxHandler, onSubmitHandler}: LoginPropsType) {\r\n    const email = formState.email\r\n    const password = formState.password\r\n    const rememberMe = formState.rememberMe\r\n\r\n    const submitForm = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmitHandler(email.value, password.value, rememberMe)\r\n    }\r\n\r\n    const disableSubmit = !!(email.error || password.error || formState.globalFormError)\r\n\r\n    return (\r\n        <div className={style.pageContainer}>\r\n            <h1 className={appStyle.defaultTitle}>Sign in</h1>\r\n            <div className={appStyle.infoWrapper}>\r\n                <form className={style.form} onSubmit={submitForm}>\r\n                    <SuperInputText\r\n                        value={email.value}\r\n                        error={email.error}\r\n                        onChangeText={onChangeHandler('email')}\r\n                        onBlur={onBlurHandler('email')}\r\n                        placeholder={'Email'}\r\n                        type={'text'}\r\n                    />\r\n                    <SuperInputText\r\n                        value={password.value}\r\n                        error={password.error}\r\n                        onChangeText={onChangeHandler('password')}\r\n                        onBlur={onBlurHandler('password')}\r\n                        placeholder={'Password'}\r\n                        type={'password'}\r\n                    />\r\n                    <NavLink to={'/recover'}><span>Forgot password?</span></NavLink>\r\n                    <div className={style.rememberMe}>\r\n                        <SuperCheckbox onChangeChecked={checkBoxHandler} checked={rememberMe}/>\r\n                        <span>Remember me</span>\r\n                    </div>\r\n                    <SuperButton className={appStyle.defaultButton}\r\n                                 disabled={disableSubmit}\r\n                                 type={'submit'}\r\n                    >Sign in</SuperButton>\r\n                </form>\r\n            </div>\r\n            {DEV_MODE ?\r\n                <div className={style.messageDefault}>\r\n                    <div>To sign in you can use test account credentials:</div>\r\n                    <div className={style.credentialsContainer}>\r\n                        <div className={style.credentialsString}>\r\n                            <div className={style.credentialsTitle}>email:</div>\r\n                            <div className={style.credentialsValue}>{`${DEFAULT_EMAIL}`}</div>\r\n                        </div>\r\n                        <div className={style.credentialsString}>\r\n                            <div className={style.credentialsTitle}>password:</div>\r\n                            <div className={style.credentialsValue}>{`${DEFAULT_PASSWORD}`}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                : ''\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React, {useState} from 'react';\r\nimport inputValidator from '../../common/inputValidator';\r\nimport Login from './Login';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {logInTC} from '../../redux/auth-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {DEFAULT_EMAIL, DEFAULT_PASSWORD, DEV_MODE} from \"../../App\";\r\n\r\nexport type LoginFormStateType = {\r\n    email: InputStateType\r\n    password: InputStateType\r\n    rememberMe: boolean\r\n    globalFormError: string\r\n}\r\n\r\nexport type InputStateType = {\r\n    value: string\r\n    error: string\r\n    touched: boolean\r\n}\r\n\r\nfunction LoginContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector((state: RootStateType): boolean => state.auth.isLoggedIn)\r\n\r\n    let [formState, setFormState] = useState<LoginFormStateType>(\r\n        {\r\n            email: {value: DEV_MODE ? DEFAULT_EMAIL : '', error: '', touched: false},\r\n            password: {value: DEV_MODE ? DEFAULT_PASSWORD : '', error: '', touched: false},\r\n            rememberMe: false,\r\n            globalFormError: ''\r\n        })\r\n\r\n    const onChangeHandler = (field: 'email' | 'password') => (value: string) => {\r\n        setFormState({\r\n            ...formState, [field]:\r\n                {\r\n                    ...formState[field],\r\n                    value: value.trim(),\r\n                    error: formState[field].touched ? inputValidator(value, field) : ''\r\n                }\r\n        })\r\n    }\r\n\r\n    const onBlurHandler = (field: 'email' | 'password') => (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setFormState({\r\n            ...formState, [field]:\r\n                {\r\n                    ...formState[field],\r\n                    error: formState[field].value ? inputValidator(e.target.value, field) : 'Required field',\r\n                    touched: true\r\n                }\r\n        })\r\n    }\r\n\r\n    const checkBoxHandler = (rememberMe: boolean) => {\r\n        setFormState({...formState, rememberMe}\r\n        )\r\n    }\r\n\r\n    const onSubmitHandler = (email: string, password: string, rememberMe: boolean) => {\r\n        dispatch(logInTC(email, password, rememberMe))\r\n    }\r\n\r\n    return (\r\n        isLoggedIn\r\n            ? <Redirect to={'packs'}/>\r\n            : <div>\r\n                <Login\r\n                    formState={formState}\r\n                    onChangeHandler={onChangeHandler}\r\n                    onBlurHandler={onBlurHandler}\r\n                    checkBoxHandler={checkBoxHandler}\r\n                    onSubmitHandler={onSubmitHandler}\r\n                />\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default LoginContainer;\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from '../styles/Recover.module.css'\r\n\r\ntype RecoverTimerPropsType = {\r\n    getTime(): number\r\n    hideTimer(show: boolean): void\r\n}\r\n\r\nfunction RecoverTimer({getTime, hideTimer}: RecoverTimerPropsType) {\r\n\r\n    const [timeMs, setTimeMs] = useState(getTime())\r\n\r\n    const tick = () => {\r\n        setTimeMs(getTime())\r\n        if (getTime() < 0) hideTimer(false)\r\n    }\r\n\r\n    const convertMsToTime = (ms: number) => {\r\n        const minutes = Math.floor(ms / 60000);\r\n        const seconds = ((ms % 60000) / 1000);\r\n        return minutes + ':' + (seconds < 10 ? '0' : '') + Math.floor(seconds)\r\n    }\r\n\r\n    useEffect(() => {\r\n        const timerID = setInterval(() => tick(), 1000);\r\n        return () => clearInterval(timerID);\r\n    }, [])\r\n\r\n    return (\r\n        <span className={style.timer}>\r\n                {`Time till next link: ${convertMsToTime(timeMs)}`}\r\n            </span>\r\n    )\r\n}\r\n\r\nexport default RecoverTimer;","import {DispatchType} from './auth-reducer';\r\nimport {authAPI} from '../api/API';\r\n\r\ntype PageStateType = {\r\n    timerIsOn: boolean\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    timerIsOn: false,\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof toggleTimerAC>\r\n\r\nexport const recoverReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case TOGGLE_TIMER_STATUS:\r\n            return {...state, timerIsOn: action.timerIsOn}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst TOGGLE_TIMER_STATUS = 'TOGGLE-TIMER-STATUS'\r\n\r\nexport const toggleTimerAC = (timerIsOn: boolean) => ({\r\n        type: TOGGLE_TIMER_STATUS,\r\n        timerIsOn\r\n    } as const\r\n)\r\n\r\n// Thunks\r\n\r\nexport const recoverPasswordTC = (email: string, baseUrl: string) => (dispatch: DispatchType) => {\r\n    const from = 'Smart Cards App'\r\n    const message =\r\n        `<div style=\"background-color: lime; padding: 15px\"> password recovery link:\r\n         <a href='${baseUrl}/$token$'>link</a></div>`\r\n    authAPI.forgot(email, from, message)\r\n        .then(response => {\r\n        })\r\n        .catch(e => {\r\n            console.log('Recover Error', e)\r\n        })\r\n        .finally(() => {\r\n            localStorage.timerData = Date.now()\r\n            dispatch(toggleTimerAC(true))\r\n        })\r\n\r\n}","import React, {FormEvent} from 'react';\r\nimport style from '../styles/Recover.module.css'\r\nimport appStyle from '../../common/styles/Common.module.css'\r\nimport SuperInputText from '../../common/SuperInputText/SuperInputText';\r\nimport {NavLink} from 'react-router-dom';\r\nimport SuperButton from '../../common/SuperButton/SuperButton';\r\nimport {RecoverFormStateType} from './RecoverContainer';\r\nimport RecoverTimer from './RecoverTimer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {toggleTimerAC} from '../../redux/recover-reducer';\r\n\r\ntype RecoverPropsType = {\r\n    formState: RecoverFormStateType\r\n    onChangeHandler(value: string): void\r\n    onBlurHandler(e: React.FocusEvent<HTMLInputElement>): void\r\n    onSubmitHandler(email: string): void\r\n}\r\n\r\nconst Recover = ({formState, onChangeHandler, onBlurHandler, onSubmitHandler}: RecoverPropsType) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const timerValueMs = 11000\r\n    const getTime = () => (Number(localStorage.timerData) + timerValueMs - Date.now())\r\n    dispatch(toggleTimerAC(getTime() > 0))\r\n    const timerIsOn = useSelector((state: RootStateType) => state.pageRecover.timerIsOn)\r\n\r\n    const hideTimer = () => {\r\n        dispatch(toggleTimerAC(false))\r\n    }\r\n\r\n    const submitForm = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmitHandler(formState.value)\r\n    }\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <h1 className={appStyle.defaultTitle}>Recover password</h1>\r\n            <div className={appStyle.infoWrapper}>\r\n                <form className={style.form} onSubmit={submitForm}>\r\n                    <SuperInputText\r\n                        value={formState.value}\r\n                        error={formState.error}\r\n                        onChangeText={onChangeHandler}\r\n                        onBlur={onBlurHandler}\r\n                        placeholder={'Email'}\r\n                    />\r\n                    <div className={style.timerContainer}>\r\n                        {timerIsOn\r\n                            ? <RecoverTimer getTime={getTime} hideTimer={hideTimer}/>\r\n                            : <SuperButton className={appStyle.defaultButton}\r\n                                           disabled={!!formState.error}\r\n                                           type={'submit'}>Send</SuperButton>\r\n                        }\r\n                    </div>\r\n                    <NavLink to={'/login'}><span>Login page</span></NavLink>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Recover;\r\n","import React, {useState} from 'react';\r\nimport inputValidator from '../../common/inputValidator';\r\nimport Recover from './Recover';\r\nimport {useDispatch} from 'react-redux';\r\nimport {recoverPasswordTC} from '../../redux/recover-reducer';\r\n\r\nexport type RecoverFormStateType = {\r\n    value: string\r\n    error: string\r\n    touched: boolean\r\n}\r\n\r\n!localStorage.timerData && localStorage.setItem('timerData', '0')\r\n\r\nfunction RecoverContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    let [formState, setFormState] =\r\n        useState<RecoverFormStateType>({value: '', error: '', touched: false})\r\n    const baseUrl = `${window.location.origin}/#/set-new-password`\r\n\r\n    const onChangeHandler = (value: string) => {\r\n        setFormState({\r\n            ...formState,\r\n            value: value.trim(),\r\n            error: formState.touched ? inputValidator(value, 'email') : ''\r\n        })\r\n    }\r\n\r\n    const onBlurHandler = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setFormState({\r\n            ...formState,\r\n            error: formState.value ? inputValidator(e.target.value, 'email') : 'Required field',\r\n            touched: true\r\n        })\r\n    }\r\n\r\n    const onSubmitHandler = (email: string) => {\r\n        setFormState({\r\n            ...formState,\r\n            error: formState.value ? inputValidator(email, 'email') : 'Required field',\r\n            touched: true\r\n        })\r\n        if (!inputValidator(formState.value, 'email')) {\r\n            dispatch(recoverPasswordTC(email, baseUrl))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Recover\r\n            formState={formState}\r\n            onChangeHandler={onChangeHandler}\r\n            onBlurHandler={onBlurHandler}\r\n            onSubmitHandler={onSubmitHandler}\r\n        />\r\n    )\r\n}\r\n\r\nexport default RecoverContainer;\r\n","import React, {FormEvent} from 'react';\r\nimport style from '../styles/Password.module.css'\r\nimport appStyle from '../../common/styles/Common.module.css'\r\nimport SuperButton from '../../common/SuperButton/SuperButton';\r\nimport {NavLink} from 'react-router-dom';\r\nimport {NewPasswordFormStateType} from './NewPasswordContainer';\r\nimport SuperInputText from '../../common/SuperInputText/SuperInputText';\r\n\r\ntype RecoverPropsType = {\r\n    formState: NewPasswordFormStateType\r\n    onChangeHandler(field: 'password' | 'confirm'): (value: string) => void\r\n    onBlurHandler(field: 'password' | 'confirm'): (e: React.FocusEvent<HTMLInputElement>) => void\r\n    onSubmitHandler(password: string): void\r\n}\r\n\r\nconst NewPassword = ({formState, onChangeHandler, onBlurHandler, onSubmitHandler,}: RecoverPropsType) => {\r\n\r\n    const submitForm = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        onSubmitHandler(formState.password.value)\r\n    }\r\n\r\n    const formError = !!(formState.password.error || formState.confirm.error)\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <h1 className={appStyle.defaultTitle}>New password</h1>\r\n            <div className={appStyle.infoWrapper}>\r\n                <form className={style.form} onSubmit={submitForm}>\r\n                    <SuperInputText\r\n                        value={formState.password.value}\r\n                        error={formState.password.error}\r\n                        onChangeText={onChangeHandler('password')}\r\n                        onBlur={onBlurHandler('password')}\r\n                        placeholder={'Enter new password'}\r\n                        type={'password'}\r\n                    />\r\n                    <SuperInputText\r\n                        value={formState.confirm.value}\r\n                        error={formState.confirm.error}\r\n                        onChangeText={onChangeHandler('confirm')}\r\n                        onBlur={onBlurHandler('confirm')}\r\n                        placeholder={'Confirm'}\r\n                        type={'password'}\r\n                    />\r\n                    <SuperButton className={appStyle.defaultButton}\r\n                                 disabled={formError} type={'submit'}>\r\n                        <span>Send</span>\r\n                    </SuperButton>\r\n                    <NavLink to={'/login'}><span>Login page</span></NavLink>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewPassword","import React, {useState} from 'react';\r\nimport inputValidator from '../../common/inputValidator';\r\nimport NewPassword from './NewPassword';\r\nimport {useDispatch} from 'react-redux';\r\nimport {setNewPasswordTC} from '../../redux/auth-reducer';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nexport type NewPasswordFormStateType = {\r\n    password: InputType\r\n    confirm: InputType\r\n}\r\n\r\ntype InputType = {\r\n    value: string\r\n    error: string\r\n    touched: boolean\r\n}\r\n\r\ntype ParamsType = {\r\n    token: string | undefined\r\n}\r\n\r\nfunction NewPasswordContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const params: ParamsType = useParams()\r\n    const token = params.token ? params.token : ''\r\n    window.history.replaceState(null, '', '/#/set-new-password')\r\n\r\n    let [formState, setFormState] = useState<NewPasswordFormStateType>(\r\n        {\r\n            password: {value: '', error: '', touched: false},\r\n            confirm: {value: '', error: '', touched: false}\r\n        })\r\n\r\n    const onChangeHandler = (field: 'password' | 'confirm') => (value: string) => {\r\n        setFormState({\r\n            ...formState, [field]:\r\n                {\r\n                    ...formState[field],\r\n                    value: value.trim(),\r\n                    error: formState[field].touched ? inputValidator(value, 'password') : ''\r\n                }\r\n        })\r\n    }\r\n\r\n    const onBlurHandler = (field: 'password' | 'confirm') => (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setFormState({\r\n            ...formState, [field]:\r\n                {\r\n                    ...formState[field],\r\n                    error: formState[field].value ?\r\n                        inputValidator(e.target.value, 'password') : 'Required field',\r\n                    touched: true\r\n                }\r\n        })\r\n    }\r\n\r\n    const onSubmitHandler = (password: string) => {\r\n        const error = !formState.password.value\r\n            ? 'Please enter new password'\r\n            : formState.password.value !== formState.confirm.value\r\n            ? 'Passwords do not match'\r\n            : ''\r\n        if (error) {\r\n            setFormState({\r\n                ...formState,\r\n                password: {...formState.password, error: ' ', touched: true},\r\n                confirm: {...formState.confirm, error, touched: true}\r\n            })\r\n        } else {\r\n            dispatch(setNewPasswordTC(password, token))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <NewPassword\r\n            formState={formState}\r\n            onChangeHandler={onChangeHandler}\r\n            onBlurHandler={onBlurHandler}\r\n            onSubmitHandler={onSubmitHandler}\r\n        />\r\n    )\r\n}\r\n\r\nexport default NewPasswordContainer;\r\n","export default __webpack_public_path__ + \"static/media/loader.b257f2d9.svg\";","import React from 'react'\r\nimport style from './loader.module.css'\r\nimport loader from './loader.svg'\r\nimport {useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\n\r\nexport function Loader() {\r\n\r\n    const fadeOut = useSelector((state: RootStateType) => state.appState.status)\r\n\r\n    return (\r\n        <div className={`${style.dimScreen} ${fadeOut === 'idle' ? style.hideLoader: ''}`}>\r\n            <img className={style.loader}\r\n                 src={loader}\r\n                 alt=\"Loading...\"/>\r\n        </div>\r\n    )\r\n}\r\n","import React, {FormEvent} from 'react';\r\nimport SuperButton from '../../common/SuperButton/SuperButton';\r\nimport SuperInputText from '../../common/SuperInputText/SuperInputText';\r\nimport style from '../styles/Registration.module.css'\r\nimport appStyle from '../../common/styles/Common.module.css'\r\nimport {RegistrationFormStateType} from './RegistrationContainer';\r\nimport {RegistrationValidatorFieldType} from '../../common/registrationInputValidator';\r\n\r\ntype RegistrationPropsType = {\r\n    registrationFormState: RegistrationFormStateType\r\n    onChangeHandler(field: RegistrationValidatorFieldType): (value: string) => void\r\n    onBlurHandler(field: RegistrationValidatorFieldType): (e: React.FocusEvent<HTMLInputElement>) => void\r\n    onSubmitHandler(email: string, password: string): void\r\n}\r\n\r\nfunction Registration2({\r\n                           registrationFormState,\r\n                           onChangeHandler,\r\n                           onBlurHandler,\r\n                           onSubmitHandler\r\n                       }: RegistrationPropsType) {\r\n    const email = registrationFormState.email\r\n    const password = registrationFormState.password\r\n    const password2 = registrationFormState.password2\r\n    const errorResponse = registrationFormState.errorResponse\r\n\r\n    const submitForm = (e: FormEvent<HTMLFormElement>) => {\r\n        e.stopPropagation()\r\n        onSubmitHandler(email.value, password.value)\r\n    }\r\n\r\n    const disableSubmit = !!(email.error || password.error || password2.error || registrationFormState.globalFormError)\r\n\r\n    return (\r\n        <div className={style.pageContainer}>\r\n            <h1 className={appStyle.defaultTitle}>Sign Up</h1>\r\n            <div className={appStyle.infoWrapper}>\r\n                <form className={style.form} onSubmit={submitForm}>\r\n                    <div className={style.registrationErrorMessage}>\r\n                        {errorResponse}\r\n                    </div>\r\n                    <div className={style.container}>\r\n                        <SuperInputText\r\n                            title={'Email'}\r\n                            value={email.value}\r\n                            error={email.error}\r\n                            onChangeText={onChangeHandler('email')}\r\n                            onBlur={onBlurHandler('email')}\r\n                            type={'text'}\r\n                        />\r\n\r\n                        <SuperInputText\r\n                            title={'Password'}\r\n                            value={password.value}\r\n                            error={password.error}\r\n                            onChangeText={onChangeHandler('password')}\r\n                            onBlur={onBlurHandler('password')}\r\n                            type={'password'}\r\n                        />\r\n\r\n                        <SuperInputText\r\n                            title={'Confirm password'}\r\n                            value={password2.value}\r\n                            error={password2.error}\r\n                            onChangeText={onChangeHandler('password2')}\r\n                            onBlur={onBlurHandler('password2')}\r\n                            type={'password'}\r\n                        />\r\n\r\n                        <SuperButton\r\n                            className={`${appStyle.defaultButton} ${style.submitButton}`}\r\n                            disabled={disableSubmit}\r\n                            type={'submit'}\r\n                        >\r\n                            Sign up\r\n                        </SuperButton>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Registration2;\r\n","\r\nexport type RegistrationValidatorFieldType = 'email' | 'password' | 'password2'\r\n\r\nconst registrationInputValidator = (type: RegistrationValidatorFieldType, value: string, password1?: string ): string => {\r\n    switch (type) {\r\n        case 'email':\r\n            return (/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) ? '' : 'Invalid email'\r\n        case 'password':\r\n            return /^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(value) ? '' : 'Invalid password'\r\n        case 'password2':\r\n            return value === password1 ? '' : 'Please make sure your passwords match'\r\n        default:\r\n            return ''\r\n    }\r\n}\r\n\r\nexport default registrationInputValidator\r\n","import {setAppStatusAC} from \"./app-reducer\";\r\nimport {authAPI} from \"../api/API\";\r\nimport {DispatchType} from \"./auth-reducer\";\r\n\r\nconst SET_SUCCESSFULLY_REGISTERED = 'SET-SUCCESSFULLY-REGISTERED'\r\n\r\ntype PageStateType = {\r\n    isSuccessfullyRegistered: boolean\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    isSuccessfullyRegistered: false\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setSuccessfullyRegisteredAC>\r\n\r\nexport const registrationReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SET_SUCCESSFULLY_REGISTERED:\r\n\r\n            return {...state, isSuccessfullyRegistered: action.isSuccessfullyRegistered}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n\r\nexport const setSuccessfullyRegisteredAC = (isSuccessfullyRegistered: boolean) => ({\r\n        type: SET_SUCCESSFULLY_REGISTERED,\r\n        isSuccessfullyRegistered\r\n    } as const\r\n)\r\n\r\nexport const registrationTC = (email: string, password: string) => (dispatch: DispatchType) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    authAPI.registration(email, password)\r\n        .then((response) => {\r\n             dispatch(setSuccessfullyRegisteredAC(true))\r\n        })\r\n        .catch(e => console.log(e))\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport Registration2 from './Registration2';\r\nimport registrationInputValidator from '../../common/registrationInputValidator';\r\nimport {registrationTC, setSuccessfullyRegisteredAC} from '../../redux/registration-reducer';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nexport type RegistrationFormStateType = {\r\n    email: InputStateType\r\n    password: InputStateType\r\n    password2: InputStateType\r\n    errorResponse: string\r\n    successfullyRegistered: boolean\r\n    globalFormError: string\r\n\r\n}\r\n\r\nexport type InputStateType = {\r\n    value: string\r\n    error: string\r\n    touched: boolean\r\n}\r\n\r\nconst initialState: RegistrationFormStateType = {\r\n    email: {value: '', error: '', touched: false},\r\n    password: {value: '', error: '', touched: false},\r\n    password2: {value: '', error: '', touched: false},\r\n    errorResponse: '',\r\n    successfullyRegistered: false,\r\n    globalFormError: ''\r\n}\r\n\r\n\r\nfunction RegistrationContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const isSuccessfullyRegistered = useSelector((state: RootStateType): boolean => state.pageRegistration.isSuccessfullyRegistered)\r\n\r\n    const [registrationFormState, setRegistrationFormState] = useState<RegistrationFormStateType>(initialState);\r\n\r\n    useEffect(() => {\r\n        if (isSuccessfullyRegistered) {\r\n            dispatch(setSuccessfullyRegisteredAC(false))\r\n        }\r\n    })\r\n\r\n    const onRegistrationInputsChangeHandler = (field: 'email' | 'password' | 'password2') =>\r\n        (value: string) => {\r\n            setRegistrationFormState({\r\n                ...registrationFormState,\r\n                [field]:\r\n                    {\r\n                        ...registrationFormState[field],\r\n                        value: value.trim(),\r\n                        error: registrationFormState[field].touched ?\r\n                            registrationInputValidator(field, value, registrationFormState.password.value)\r\n                            : ''\r\n                    },\r\n            })\r\n        }\r\n\r\n    const onBlurHandler = (field: 'email' | 'password') => (e: React.FocusEvent<HTMLInputElement>) => {\r\n        setRegistrationFormState({\r\n            ...registrationFormState, [field]:\r\n                {\r\n                    ...registrationFormState[field],\r\n                    error: registrationFormState[field].value ?\r\n                        registrationInputValidator(field, e.target.value, registrationFormState.password.value)\r\n                        : 'Required field',\r\n                    touched: true\r\n                }\r\n        })\r\n    }\r\n\r\n    const onSubmitHandler = (email: string, password: string) => {\r\n        dispatch(registrationTC(email, password))\r\n    }\r\n\r\n    return (\r\n        isSuccessfullyRegistered\r\n            ? <Redirect to={'profile'}/>\r\n            : <Registration2\r\n                registrationFormState={registrationFormState}\r\n                onChangeHandler={onRegistrationInputsChangeHandler}\r\n                onBlurHandler={onBlurHandler}\r\n                onSubmitHandler={onSubmitHandler}\r\n            />\r\n\r\n    )\r\n}\r\n\r\nexport default RegistrationContainer;\r\n","import React, {CSSProperties, ReactChildren, ReactElement, ReactNode, useState} from 'react';\r\nimport Modal from '../Modal';\r\n\r\nexport type FieldType = {\r\n    title?: string,\r\n    value?: string\r\n}\r\nexport type AnswersType = {\r\n    field1: FieldType\r\n    field2?: FieldType\r\n    field3?: FieldType\r\n}\r\n\r\nexport type ModalInputPropsType = {\r\n    show: boolean;\r\n    close: () => void;\r\n\r\n    modalText?: string\r\n    buttonTitle?: string\r\n    answers: AnswersType;\r\n    setAnswer?: (answers: AnswersType) => void;\r\n\r\n    inputContainerStyles?: CSSProperties;\r\n    inputStyles?: CSSProperties;\r\n    buttonStyles?: CSSProperties;\r\n    button?: ReactNode;\r\n\r\n    enableBackground?: boolean;\r\n    backgroundStyle?: CSSProperties;\r\n    backgroundOnClick?: () => void;\r\n\r\n    width: number;\r\n    height: number;\r\n    modalStyle?: CSSProperties;\r\n    modalOnClick?: () => void;\r\n    children?: string | ReactChildren | ReactElement | (string | ReactChildren | ReactElement)[];\r\n}\r\n\r\nfunction ModalInput2({\r\n                         modalText,\r\n                         answers,\r\n                         setAnswer = (answers) => {\r\n                         },\r\n\r\n                         inputContainerStyles,\r\n                         inputStyles,\r\n                         buttonStyles,\r\n                         button = 'OK',\r\n\r\n                         enableBackground,\r\n                         backgroundStyle,\r\n                         backgroundOnClick = () => {\r\n                         },\r\n\r\n                         width,\r\n                         height,\r\n                         modalStyle,\r\n                         modalOnClick = () => {\r\n                         },\r\n\r\n                         show,\r\n                         close,\r\n                         children,\r\n                     }: ModalInputPropsType) {\r\n    const [answerData, setAnswerData] = useState(answers);\r\n\r\n    const successCloseModal = () => {\r\n        setAnswer(answerData);\r\n        setAnswerData({field1: {}, field2: {}, field3: {}});\r\n        close();\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Modal\r\n                enableBackground={enableBackground}\r\n                backgroundOnClick={() => {\r\n                    setAnswerData(answers);\r\n                    backgroundOnClick()\r\n                }}\r\n                backgroundStyle={backgroundStyle}\r\n\r\n                width={width}\r\n                height={height}\r\n                modalOnClick={modalOnClick}\r\n                modalStyle={modalStyle}\r\n\r\n                show={show}\r\n            >\r\n                {modalText || 'question modal'}\r\n                <div\r\n                    style={{\r\n                        width: '100%',\r\n                        display: 'flex',\r\n                        flexFlow: 'column',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'space-around',\r\n                        ...inputContainerStyles,\r\n                    }}\r\n                >\r\n                    <input\r\n                        value={answerData.field1.value}\r\n                        placeholder={answers.field1.title}\r\n                        style={{...inputStyles}}\r\n                        onChange={e => setAnswerData({\r\n                            ...answerData,\r\n                            field1: {...answerData.field1, value: e.currentTarget.value}\r\n                        })}\r\n                    />\r\n                    {answers?.field2 && (\r\n                        <input\r\n                            value={answerData.field2?.value}\r\n                            placeholder={answers.field2.title}\r\n                            style={{...inputStyles}}\r\n                            onChange={e => setAnswerData({\r\n                                ...answerData,\r\n                                field2: {...answerData.field2, value: e.currentTarget.value}\r\n                            })}\r\n                        />\r\n                    )}\r\n\r\n                    {answers?.field3 && (\r\n                        <input\r\n                            value={answerData.field3?.value}\r\n                            placeholder={answers.field3.title}\r\n                            style={{...inputStyles}}\r\n                            onChange={e => setAnswerData({\r\n                                ...answerData,\r\n                                field3: {...answerData.field3, value: e.currentTarget.value}\r\n                            })}\r\n                        />\r\n                    )}\r\n\r\n                </div>\r\n                <button onClick={successCloseModal}\r\n                        style={{padding: '8px 25px', ...buttonStyles}}>{button}</button>\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ModalInput2;","import React, {useState} from 'react';\r\nimport ModalInput2, {AnswersType} from './ModalInput2';\r\n\r\nexport type ModalInputContainerPropsType = {\r\n    buttonTitle?: string\r\n    modalText?: string\r\n    isMine: boolean\r\n    defaultAnswers: AnswersType\r\n    answerCallback?: (answers: AnswersType) => void;\r\n}\r\n\r\nfunction ModalInputContainer2(props: ModalInputContainerPropsType) {\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    const setAnswerHandler = ({field1, field2, field3}: AnswersType) => {\r\n        props.answerCallback && props.answerCallback({\r\n            field1: field1,\r\n            field2: field2,\r\n            field3: field3\r\n        })\r\n    }\r\n\r\n    const modalInputProps: any = {\r\n        show: show,\r\n        close: () => setShow(false),\r\n        modalText: props.modalText,\r\n        answers: props.defaultAnswers,\r\n        setAnswer: setAnswerHandler,\r\n        enableBackground: true,\r\n        backgroundOnClick: () => setShow(false),\r\n        width: 300,\r\n        height: 200,\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <button onClick={() => setShow(true)}\r\n                        disabled={!props.isMine}\r\n                >{props.buttonTitle || 'Modal Input'}\r\n                </button>\r\n            </div>\r\n            <ModalInput2 {...modalInputProps}>\r\n            </ModalInput2>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default ModalInputContainer2;","import React, {useEffect, useState} from 'react';\r\nimport style from '../styles/CardItem.module.css'\r\nimport {CardType} from '../../api/API';\r\nimport {useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport ModalQuestionContainer from \"../../common/modals/question/ModalQuestionContainer\";\r\nimport ModalInputContainer2 from \"../../common/modals/input2/ModalInputContainer2\";\r\nimport {AnswersType} from \"../../common/modals/input2/ModalInput2\";\r\n\r\ntype CardItemPropsType = {\r\n    deleteCallback(): void\r\n    updateCallback(question: string, answer: string): void\r\n}\r\n\r\nfunction CardItem(props: CardType & CardItemPropsType) {\r\n\r\n    const myId = useSelector((state: RootStateType) => state.auth.profile?._id)\r\n    const itemIsMine = props.user_id === myId\r\n\r\n    let [delay, setDelay] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(() => setDelay(false), 100)\r\n        return () => clearTimeout(timerId)\r\n    }, [delay])\r\n\r\n    const updated = new Date(props.updated)\r\n        .toLocaleDateString(\"en-UE\", {hour12: false, hour: 'numeric', minute: 'numeric'});\r\n\r\n    const created = new Date(props.created)\r\n        .toLocaleDateString(\"en-UE\", {hour12: false, hour: 'numeric', minute: 'numeric'});\r\n\r\n    const deleteHandler = (answer: boolean) => {\r\n        if (answer) {\r\n            props.deleteCallback()\r\n        }\r\n    }\r\n\r\n    const inputHandler = (value: AnswersType) => {\r\n        props.updateCallback(value.field1.value || 'Updated card', value.field2?.value || 'Empty answer')\r\n    }\r\n\r\n    return (\r\n        <li style={delay ? {} : {opacity: '1.0'}}>\r\n            <div className={`${style.cardItem} ${itemIsMine || style.itemIsNotMine}`}>\r\n                <div className={style.descriptionBlock}>\r\n                    <div className={style.cardDescription}>{props.question}</div>\r\n                </div>\r\n                <div className={style.count}>\r\n                    {Math.round((props.grade + Number.EPSILON) * 100) / 100}</div>\r\n                <div className={style.updated}>{updated}</div>\r\n                <div className={style.created}>{created}</div>\r\n                <div className={style.buttonsBlock}>\r\n                    <ModalQuestionContainer buttonTitle={'Delete'}\r\n                                            isMine={itemIsMine}\r\n                                            answerCallback={deleteHandler}>\r\n                        <>\r\n                            <div style={{fontSize: '2em'}}>{props.question}</div>\r\n                            <div>Delete card?</div>\r\n                        </>\r\n                    </ModalQuestionContainer>\r\n                    <ModalInputContainer2 buttonTitle={'Update'}\r\n                                          modalText={'Enter new name'}\r\n                                          isMine={itemIsMine}\r\n                                          defaultAnswers={{\r\n                                              field1: {title: 'Question', value: props.question},\r\n                                              field2: {title: 'Answer', value: props.answer},\r\n                                          }}\r\n                                          answerCallback={inputHandler}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default CardItem;\r\n","import {cardsAPI, CardType} from '../api/API';\r\nimport {setAppStatusAC} from './app-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {RootStateType} from './store';\r\nimport {Action} from 'redux';\r\nimport {setAuthTC} from './auth-reducer';\r\n\r\ntype PageStateType = {\r\n    packTitle: string\r\n    cards: Array<CardType>\r\n    totalCardsCount: number\r\n    itemsPerPage: number\r\n    currentPage: number\r\n    params: GetCardsParamsType\r\n}\r\n\r\nexport type GetCardsParamsType = {\r\n    cardName?: string\r\n    min?: number\r\n    max?: number\r\n    page?: number\r\n    pageCount: number\r\n    sortCards: '1grade' | '0grade'\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    packTitle: 'Pack',\r\n    cards: [],\r\n    totalCardsCount: 0,\r\n    itemsPerPage: 5,\r\n    currentPage: 1,\r\n    params: {\r\n        page: 1,\r\n        pageCount: 10,\r\n        sortCards: '1grade',\r\n    }\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setCardsAC>\r\n    | ReturnType<typeof setSortCardsAC>\r\n    | ReturnType<typeof setCurrentPageAC>\r\n    | ReturnType<typeof setItemsPerPageAC>\r\n    | ReturnType<typeof setTotalCardsCountAC>\r\n    | ReturnType<typeof setPackTitleAC>\r\n\r\n\r\nexport const cardsReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'SET-CARDS':\r\n            return {...state, cards: action.cards}\r\n\r\n        case 'SET-SORT-CARDS':\r\n            return {\r\n                ...state, params: {\r\n                    ...state.params, sortCards: state.params.sortCards === '1grade' ? '0grade' : '1grade'\r\n                }\r\n            }\r\n\r\n        case 'SET-PACK-TITLE':\r\n            return {...state, packTitle: action.title}\r\n\r\n        case 'SET-CURRENT-PAGE':\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case 'SET-ITEMS-PER-PAGE':\r\n            return {...state, itemsPerPage: action.itemsPerPage}\r\n\r\n        case 'SET-TOTAL-CARDS-COUNT':\r\n            return {...state, totalCardsCount: action.totalCardsCount}\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst SET_CARDS = 'SET-CARDS'\r\nconst SET_SORT_CARDS = 'SET-SORT-CARDS'\r\nconst SET_PACK_TITLE = 'SET-PACK-TITLE'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_ITEMS_PER_PAGE = 'SET-ITEMS-PER-PAGE'\r\nconst SET_TOTAL_CARDS_COUNT = 'SET-TOTAL-CARDS-COUNT'\r\n\r\nexport const setCardsAC = (cards: Array<CardType>) => (\r\n    {type: SET_CARDS, cards} as const\r\n)\r\nexport const setPackTitleAC = (title: string) => (\r\n    {type: SET_PACK_TITLE, title} as const\r\n)\r\nexport const setCurrentPageAC = (currentPage: number) => (\r\n    {type: SET_CURRENT_PAGE, currentPage} as const\r\n)\r\nexport const setItemsPerPageAC = (itemsPerPage: number) => (\r\n    {type: SET_ITEMS_PER_PAGE, itemsPerPage} as const\r\n)\r\nexport const setTotalCardsCountAC = (totalCardsCount: number) => (\r\n    {type: SET_TOTAL_CARDS_COUNT, totalCardsCount} as const\r\n)\r\nexport const setSortCardsAC = () => (\r\n    {type: SET_SORT_CARDS} as const\r\n)\r\n\r\n// Thunks\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType,\r\n    RootStateType,\r\n    unknown,\r\n    Action<string>>\r\n\r\nexport const getCardsTC = (packId: string, pagination = true): AppThunk =>\r\n    (dispatch, getState) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        const params = pagination ? getState().pagination : {pageCount: 1000}\r\n        const sortCards = getState().cardsPage.params.sortCards\r\n        cardsAPI.getCards(packId, {...params, sortCards})\r\n            .then((response) => {\r\n                dispatch(setCardsAC(response.cards))\r\n                dispatch(setTotalCardsCountAC(response.cardsTotalCount))\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n                dispatch(setAuthTC())\r\n            })\r\n            .finally(() => dispatch(setAppStatusAC('idle')))\r\n    }\r\n\r\nexport const createCardTC = (packId: string, question: string, answer: string): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    console.log(\"sgdfgsfg: \", packId, question, answer)\r\n    cardsAPI.createCard({question: question || 'New Card', answer, cardsPack_id: packId})\r\n        .then(() => dispatch(getCardsTC(packId)))\r\n        .catch(e => {\r\n            console.log(e)\r\n            dispatch(setAuthTC())\r\n        })\r\n        .finally(() => {\r\n            dispatch(setAppStatusAC('idle'))\r\n        })\r\n}\r\n\r\nexport const deleteCardTC = (packId: string, cardId: string, pagination = true): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    cardsAPI.deleteCard(cardId)\r\n        .then(() => dispatch(getCardsTC(packId, pagination)))\r\n        .catch(e => {\r\n            console.log(e)\r\n            dispatch(setAuthTC())\r\n        })\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const updateCardTC = (packId: string, cardId: string, question: string = 'updated', answer: string): AppThunk =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        cardsAPI.updateCard(cardId, question, answer)\r\n            .then(() => dispatch(getCardsTC(packId)))\r\n            .catch(e => {\r\n                console.log(e)\r\n                dispatch(setAuthTC())\r\n            })\r\n            .finally(() => dispatch(setAppStatusAC('idle')))\r\n    }","import React from 'react';\r\nimport style from '../styles/CardsPage.module.css'\r\nimport {CardType} from '../../api/API';\r\nimport CardItem from './CardItem';\r\nimport SearchContainer from '../../common/Search/SearchContainer';\r\nimport PaginationContainer from '../../common/Pagination/PaginationContainer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {getCardsTC, setSortCardsAC} from '../../redux/cards-reducer';\r\nimport ModalInputContainer2 from '../../common/modals/input2/ModalInputContainer2';\r\nimport {AnswersType} from '../../common/modals/input2/ModalInput2';\r\n\r\ntype PacksPagePropsType = {\r\n    title: string\r\n    cards: Array<CardType>\r\n    packId: string\r\n    totalCardsCount: number\r\n    createCard(packId: string, question: string, answer: string): void // fix args\r\n    deleteCard(packId: string, cardId: string): void\r\n    updateCard(packId: string, cardId: string, question: string, answer: string): void\r\n}\r\n\r\nexport type AddCardFormStateType = {\r\n    value: string\r\n    error: string\r\n    hide: boolean\r\n    touched: boolean\r\n}\r\n\r\nfunction CardsPage(props: PacksPagePropsType) {\r\n\r\n    const dispatch = useDispatch()\r\n    const filter = useSelector((state: RootStateType): string => state.filterState.nameFilter)\r\n    const sort = useSelector((state: RootStateType): string => state.cardsPage.params.sortCards)\r\n\r\n    const setSort = () => {\r\n        dispatch(setSortCardsAC())\r\n        dispatch(getCardsTC(props.packId))\r\n    }\r\n\r\n    const cards = props.cards.filter(c => filter ? c.question.includes(filter) : true)\r\n        .map(c => {\r\n            return <CardItem {...c}\r\n                             key={c._id}\r\n                             deleteCallback={() => props.deleteCard(props.packId, c._id)}\r\n                             updateCallback={(question, answer) =>\r\n                                 props.updateCard(props.packId, c._id, question, answer)}\r\n            />\r\n        })\r\n\r\n    const onModalSubmitHandler = (value: AnswersType) => {\r\n        props.createCard(props.packId, value.field1.value || '', value.field2?.value || '')\r\n    }\r\n\r\n    return (\r\n        <div className={style.cardsPageWrapper}>\r\n            <h1 className={style.pageTitle}>{props.title}</h1>\r\n            <div className={style.controlsContainer}>\r\n                <div style={{alignSelf: 'flex-start', marginBottom: '5px'}}>\r\n                    <SearchContainer\r\n                        placeholder={'Search cards'}\r\n                        showOnlyMyPacksCheckbox={false}\r\n                    />\r\n                </div>\r\n                <div style={{alignSelf: 'flex-end', marginBottom: '5px'}}>\r\n                    <PaginationContainer totalItems={props.totalCardsCount}/>\r\n                </div>\r\n            </div>\r\n            <div className={style.table}>\r\n                <div className={style.tableHeader}>\r\n                    <div style={{width: '230px'}}>Description</div>\r\n                    <div>\r\n                        <span className={`${style.sortSettings} ${style.activeSetting}`}\r\n                              onClick={setSort}>\r\n                            {`Grade ${sort === '1grade' ? '↑' : '↓'}`}\r\n                        </span></div>\r\n                    <div className={style.sortSettings}\r\n                    style={{marginLeft: '36px'}}>Updated</div>\r\n                    <div className={style.sortSettings}\r\n                    style={{marginLeft: '36px'}}>Created</div>\r\n                    <div style={{marginLeft: 'auto'}}>\r\n                        <ModalInputContainer2 buttonTitle={'Add Card'}\r\n                                              modalText={'New card'}\r\n                                              isMine={true}\r\n                                              defaultAnswers={{\r\n                                                  field1: {title: 'Question'},\r\n                                                  field2: {title: 'Answer'},\r\n                                              }}\r\n                                              answerCallback={onModalSubmitHandler}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <ul>\r\n                    {cards}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CardsPage;\r\n","import React, {useEffect} from 'react';\r\nimport CardsPage from './CardsPage';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport {createCardTC, deleteCardTC, getCardsTC, updateCardTC} from '../../redux/cards-reducer';\r\n\r\ntype ParamsType = {\r\n    id: string | undefined\r\n    title: string | undefined\r\n}\r\n\r\nfunction CardsPageContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const appStatus = useSelector((state: RootStateType): string => state.appState.status)\r\n    const isLoggedIn = useSelector((state: RootStateType): boolean => state.auth.isLoggedIn)\r\n    const page = useSelector((state: RootStateType): number => state.pagination.page)\r\n    const pageCount = useSelector((state: RootStateType): number => state.pagination.pageCount)\r\n    const cards = useSelector((state: RootStateType) => state.cardsPage.cards)\r\n    const totalCardsCount = useSelector((state: RootStateType) => state.cardsPage.totalCardsCount)\r\n    const itemsOnPage = useSelector((state: RootStateType) => state.pagination.pageCount)\r\n\r\n    const params: ParamsType = useParams()\r\n    const packId = params.id ? params.id : ''\r\n    const title = params.title ? params.title : 'Pack'\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardsTC(packId))\r\n    }, [dispatch, packId, page, pageCount])\r\n\r\n    const pagesCount = Math.ceil(totalCardsCount / itemsOnPage)\r\n\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i)\r\n\r\n    const createCard = (id: string, question: string, answer: string) => { // fix args\r\n        dispatch(createCardTC(id, question, answer))\r\n    }\r\n\r\n    const deleteCard = (packId: string, cardId: string) => {\r\n        dispatch(deleteCardTC(packId, cardId))\r\n    }\r\n\r\n    const updateCard = (packId: string, cardId: string, question:string, answer:string) => {\r\n        dispatch(updateCardTC(packId, cardId, question, answer))\r\n    }\r\n\r\n    return (\r\n        appStatus === 'idle' && !isLoggedIn\r\n            ? <Redirect to={'/login'}/>\r\n            : <CardsPage\r\n                title={title}\r\n                cards={cards}\r\n                packId={packId}\r\n                createCard={createCard}\r\n                deleteCard={deleteCard}\r\n                updateCard={updateCard}\r\n                totalCardsCount={totalCardsCount}\r\n            />\r\n    )\r\n}\r\n\r\nexport default CardsPageContainer;\r\n","export default __webpack_public_path__ + \"static/media/cardsIcon.cc5c146b.png\";","import React, {useEffect, useState} from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\nimport style from '../styles/PackItem.module.css'\r\nimport {GetPacksResponseType} from '../../api/API';\r\nimport {useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport ModalQuestionContainer from '../../common/modals/question/ModalQuestionContainer';\r\nimport ModalInputContainer2 from '../../common/modals/input2/ModalInputContainer2';\r\nimport {AnswersType} from '../../common/modals/input2/ModalInput2';\r\nimport cardsIcon from '../../common/images/cardsIcon.png'\r\nimport learnIcon from '../../common/images/learnIcon.png'\r\n\r\ntype PackItemPropsType = {\r\n    deleteCallback(): void\r\n    updateCallback(name: string): void\r\n}\r\n\r\nfunction PackItem(props: GetPacksResponseType & PackItemPropsType) {\r\n\r\n    const myId = useSelector((state: RootStateType) => state.auth.profile?._id)\r\n    const itemIsMine = props.user_id === myId\r\n\r\n    let [delay, setDelay] = useState(true)\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(() => setDelay(false), 100)\r\n        return () => clearTimeout(timerId)\r\n    }, [delay])\r\n\r\n    const updated = new Date(props.updated)\r\n        .toLocaleDateString('en-UE', {hour12: false, hour: 'numeric', minute: 'numeric'})\r\n        .split(',').join('')\r\n\r\n    const created = new Date(props.updated)\r\n        .toLocaleDateString('en-UE', {hour12: false, hour: 'numeric', minute: 'numeric'})\r\n        .split(',').join('')\r\n\r\n    const deleteHandler = (answer: boolean) => {\r\n        if (answer) {\r\n            props.deleteCallback()\r\n        }\r\n    }\r\n\r\n    const inputHandler = (value: AnswersType) => {\r\n        props.updateCallback(value.field1.value || 'Updated pack')\r\n    }\r\n\r\n    return (\r\n        <li style={delay ? {} : {opacity: '1.0'}}>\r\n            <div className={style.packItem}>\r\n                <div className={style.nameBlock}>\r\n                    <span className={`${style.packName} ${itemIsMine || style.itemIsNotMine}`}>\r\n                        {props.name}\r\n                    </span>\r\n                    <span className={style.userName}>{props.user_name}</span>\r\n                </div>\r\n                <div className={`${style.count} ${props.cardsCount === 0 && style.emptyPack}`}>\r\n                    {props.cardsCount}\r\n                </div>\r\n                <div className={style.updated}>{updated}</div>\r\n                <div className={style.created}>{created}</div>\r\n                <div className={style.buttonsBlock}>\r\n                    <ModalQuestionContainer buttonTitle={'Delete'}\r\n                                            modalText={'Delete pack?'}\r\n                                            isMine={itemIsMine}\r\n                                            answerCallback={deleteHandler}/>\r\n                    <ModalInputContainer2 buttonTitle={'Update'}\r\n                                          modalText={'Enter new name'}\r\n                                          isMine={itemIsMine}\r\n                                          defaultAnswers={{\r\n                                              field1: {title: 'Pack Name', value: props.name},\r\n                                          }}\r\n                                          answerCallback={inputHandler}\r\n                    />\r\n                </div>\r\n                <div className={style.cardsLink}>\r\n                    <NavLink to={`/cards/${props._id}/${encodeURI(props.name)}`}>\r\n                        <img src={cardsIcon} alt=\"Cards\"/>\r\n                        <span className={style.tooltip}>Cards</span>\r\n                    </NavLink>\r\n                </div>\r\n                <div className={style.learnLink}>\r\n                    <NavLink to={`/learn/${props._id}/${props.name}/${itemIsMine ? 1 : 0}`}>\r\n                        <img src={learnIcon} alt=\"Learn\"/>\r\n                        <span className={style.tooltip}>Study</span>\r\n                    </NavLink>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default PackItem;","export default \"data:image/png;base64,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\"","import {GetPacksResponseType, packsAPI} from '../api/API';\r\nimport {setAppStatusAC} from './app-reducer';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {RootStateType} from './store';\r\nimport {Action} from 'redux';\r\nimport {setAuthTC} from './auth-reducer';\r\n\r\ntype PageStateType = {\r\n    packs: Array<GetPacksResponseType>\r\n    totalPacksCount: number\r\n    currentPage: number\r\n    params: GetPacksParamsType\r\n}\r\n\r\nexport type GetPacksParamsType = {\r\n    packName?: string\r\n    min?: number\r\n    max?: number\r\n    page: number\r\n    user_id?: string\r\n    pageCount: number\r\n    sortPacks: '1created' | '0created' | '1updated' | '0updated'\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    packs: [],\r\n    totalPacksCount: 0,\r\n    currentPage: 1,\r\n    params: {\r\n        page: 1,\r\n        pageCount: 10,\r\n        sortPacks: '0updated',\r\n    }\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof setPacksAC>\r\n    | ReturnType<typeof setSortPacksAC>\r\n    | ReturnType<typeof setCurrentPageAC>\r\n    | ReturnType<typeof setTotalPacksCountAC>\r\n\r\n\r\nexport const packsReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'SET-PACKS':\r\n            return {...state, packs: action.packs}\r\n\r\n        case 'SET-CURRENT-PAGE':\r\n            return {...state, currentPage: action.currentPage}\r\n\r\n        case 'SET-TOTAL-PACKS-COUNT':\r\n            return {...state, totalPacksCount: action.totalPacksCount}\r\n\r\n        case 'SET-SORT-PACKS':\r\n            return {\r\n                ...state,\r\n                params: {\r\n                    ...state.params,\r\n                    sortPacks: action.sort === 'created'\r\n                        ? state.params.sortPacks === '1created'\r\n                            ? '0created' : '1created'\r\n                        : state.params.sortPacks === '1updated'\r\n                            ? '0updated' : '1updated'\r\n                }\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst SET_PACKS = 'SET-PACKS'\r\nconst SET_SORT_PACKS = 'SET-SORT-PACKS'\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE'\r\nconst SET_TOTAL_PACKS_COUNT = 'SET-TOTAL-PACKS-COUNT'\r\n\r\nexport const setPacksAC = (packs: Array<GetPacksResponseType>) => (\r\n    {type: SET_PACKS, packs} as const\r\n)\r\nexport const setCurrentPageAC = (currentPage: number) => (\r\n    {type: SET_CURRENT_PAGE, currentPage} as const\r\n)\r\nexport const setTotalPacksCountAC = (totalPacksCount: number) => (\r\n    {type: SET_TOTAL_PACKS_COUNT, totalPacksCount} as const\r\n)\r\nexport const setSortPacksAC = (sort: 'updated' | 'created') => (\r\n    {type: SET_SORT_PACKS, sort} as const\r\n)\r\n\r\n// Thunks\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType,\r\n    RootStateType,\r\n    unknown,\r\n    Action<string>>\r\n\r\nexport const getPacksTC = (): AppThunk =>\r\n    (dispatch, getState) => {\r\n        dispatch(setAppStatusAC('loading'))\r\n        const params = getState().pagination\r\n        const sortPacks = getState().packsPage.params.sortPacks\r\n        const packName = getState().filterState.nameFilter\r\n        let user_id = undefined\r\n        if (getState().filterState.onlyMyPacks) {\r\n            user_id = getState().auth.profile?._id\r\n        }\r\n        packsAPI.getPacks({...params, sortPacks, packName, user_id})\r\n            .then((response) => {\r\n                dispatch(setPacksAC(response.cardPacks))\r\n                dispatch(setTotalPacksCountAC(response.cardPacksTotalCount))\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n                dispatch(setAuthTC())\r\n            })\r\n            .finally(() => dispatch(setAppStatusAC('idle')))\r\n    }\r\n\r\nexport const createPackTC = (name: string): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.createPack(name)\r\n        .then(() => dispatch(getPacksTC()))\r\n        .catch(e => {\r\n            console.log(e)\r\n            dispatch(setAuthTC())\r\n        })\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const deletePackTC = (id: string): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.deletePack(id)\r\n        .then(() => dispatch(getPacksTC()))\r\n        .catch(e => {\r\n            console.log(e)\r\n            dispatch(setAuthTC())\r\n        })\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}\r\n\r\nexport const updatePackTC = (id: string, newName: string = 'UPDATED Pack'): AppThunk => (dispatch) => {\r\n    dispatch(setAppStatusAC('loading'))\r\n    packsAPI.updatePack(id, newName)\r\n        .then(() => dispatch(getPacksTC()))\r\n        .catch(e => {\r\n            console.log(e)\r\n            dispatch(setAuthTC())\r\n        })\r\n        .finally(() => dispatch(setAppStatusAC('idle')))\r\n}","import React from 'react';\r\nimport style from '../styles/PacksPage.module.css'\r\nimport {GetPacksResponseType} from '../../api/API';\r\nimport PackItem from './PackItem';\r\nimport PaginationContainer from '../../common/Pagination/PaginationContainer';\r\nimport SearchContainer from '../../common/Search/SearchContainer';\r\nimport ModalInputContainer2 from '../../common/modals/input2/ModalInputContainer2';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {getPacksTC, setSortPacksAC} from '../../redux/packs-reducer';\r\nimport {AnswersType} from '../../common/modals/input2/ModalInput2';\r\n\r\ntype PacksPagePropsType = {\r\n    packs: Array<GetPacksResponseType>\r\n    totalPacksCount: number\r\n    createPack(name: string): void\r\n    deletePack(id: string): void\r\n    updatePack(id: string, name: string): void\r\n}\r\n\r\nexport type AddPackFormStateType = {\r\n    value: string\r\n    error: string\r\n    hide: boolean\r\n    touched: boolean\r\n}\r\n\r\nfunction PacksPage(props: PacksPagePropsType) {\r\n\r\n    const dispatch = useDispatch()\r\n    const filter = useSelector((state: RootStateType): string => state.filterState.nameFilter)\r\n    const sort = useSelector((state: RootStateType) => state.packsPage.params.sortPacks)\r\n    const crSorting = sort.slice(1) === 'created'\r\n\r\n    let packs = props.packs.filter(p => filter ? p.name.includes(filter) : true)\r\n    let packsRender = packs.map(p =>\r\n        <PackItem {...p}\r\n                  key={p._id}\r\n                  deleteCallback={() => props.deletePack(p._id)}\r\n                  updateCallback={(name: string) => props.updatePack(p._id, name)}\r\n        />)\r\n\r\n    const setSort = (type: 'created' | 'updated') => {\r\n        dispatch(setSortPacksAC(type))\r\n        dispatch(getPacksTC())\r\n    }\r\n\r\n    const onModalSubmitHandler2 = (value: AnswersType) => {\r\n            props.createPack('' + value.field1.value)\r\n\r\n        if (value.field2) {\r\n            alert(value.field2.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={style.packsPageWrapper}>\r\n            <h1 className={style.pageTitle}>Packs</h1>\r\n            <div className={style.controlsContainer}>\r\n                <div style={{alignSelf: 'flex-start', marginBottom: '5px'}}>\r\n                    <SearchContainer\r\n                        placeholder={'Search packs'}\r\n                        showOnlyMyPacksCheckbox={false}\r\n                    />\r\n                </div>\r\n                <div style={{alignSelf: 'flex-end', marginBottom: '5px'}}>\r\n                    <PaginationContainer totalItems={props.totalPacksCount}/>\r\n                </div>\r\n            </div>\r\n            <div className={style.table}>\r\n                <div className={style.tableHeader}>\r\n                    <div style={{width: '250px'}}>Packs</div>\r\n                    <div style={{width: '65px'}}>Cards</div>\r\n                    <div>\r\n                        <span className={`${style.sortSettings} ${!crSorting ? style.activeSetting : ''}`}\r\n                              onClick={() => setSort('updated')}>\r\n                            {`Updated ${sort === '1updated' ? '↑' : '↓'}`}\r\n                        </span>\r\n                    </div>\r\n                    <div>\r\n                        <span className={`${style.sortSettings} ${crSorting ? style.activeSetting : ''}`}\r\n                              onClick={() => setSort('created')}>\r\n                            {`Created ${sort === '1created' ? '↑' : '↓'}`}\r\n                        </span>\r\n                    </div>\r\n                    <div style={{marginLeft: 'auto'}}>\r\n                            <ModalInputContainer2 buttonTitle={'Add Pack'}\r\n                                                  modalText={'Enter new pack name'}\r\n                                                  isMine={true}\r\n                                                  defaultAnswers={{\r\n                                                      field1: {title: 'Pack name'},\r\n                                                  }}\r\n                                                  answerCallback={onModalSubmitHandler2}\r\n                            />\r\n                    </div>\r\n                </div>\r\n                <ul>\r\n                    {packsRender}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PacksPage;\r\n","import React, {useEffect} from 'react';\r\nimport PacksPage from './PacksPage';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {createPackTC, deletePackTC, getPacksTC, updatePackTC} from '../../redux/packs-reducer';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\n\r\nfunction PacksPageContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const isLoggedIn = useSelector((state: RootStateType): boolean => state.auth.isLoggedIn)\r\n    const appStatus = useSelector((state: RootStateType): string => state.appState.status)\r\n    const page = useSelector((state: RootStateType): number => state.pagination.page)\r\n    const pageCount = useSelector((state: RootStateType): number => state.pagination.pageCount)\r\n    const packNameFilter = useSelector((state: RootStateType) => state.filterState)\r\n\r\n    useEffect(() => {\r\n        dispatch(getPacksTC())\r\n    }, [dispatch, page, pageCount, packNameFilter.onlyMyPacks])\r\n\r\n    let packs = useSelector((state: RootStateType) => state.packsPage.packs)\r\n    const totalPacksCount = useSelector((state: RootStateType) => state.packsPage.totalPacksCount)\r\n    const itemsOnPage = useSelector((state: RootStateType) => state.pagination.pageCount)\r\n    const filter = useSelector((state: RootStateType) => state.packsPage.params.sortPacks)\r\n    if (filter === '1updated') {\r\n        packs.sort((a, b) =>\r\n            (new Date(b.updated).getTime()) - (new Date(a.updated)).getTime())\r\n    } else if (filter === '0updated') {\r\n        packs.sort((a, b) =>\r\n            (new Date(a.updated).getTime()) - (new Date(b.updated)).getTime())\r\n    }\r\n\r\n    const pagesCount = Math.ceil(totalPacksCount / itemsOnPage)\r\n    const pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) pages.push(i)\r\n\r\n    const createPack = (name: string) => {\r\n        dispatch(createPackTC(name))\r\n    }\r\n\r\n    const deletePack = (id: string) => {\r\n        dispatch(deletePackTC(id))\r\n    }\r\n\r\n    const updatePack = (id: string, name: string) => {\r\n        dispatch(updatePackTC(id, name))\r\n    }\r\n\r\n    return (\r\n        appStatus === 'idle' && !isLoggedIn\r\n            ? <Redirect to={'/login'}/>\r\n            : <PacksPage\r\n                packs={packs}\r\n                createPack={createPack}\r\n                deletePack={deletePack}\r\n                updatePack={updatePack}\r\n                totalPacksCount={totalPacksCount}\r\n            />\r\n    )\r\n}\r\n\r\nexport default PacksPageContainer;\r\n","import React from 'react';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport style from '../styles/Page404.module.css'\r\n\r\nfunction Page404() {\r\n    return (\r\n        <div className={style.page404}>\r\n            <h1>Page not found</h1>\r\n            <NavLink to={'/'}><span>Back to homepage</span></NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Page404;\r\n\r\n","import React from 'react';\r\nimport style from '../styles/LearnPage.module.css'\r\n\r\ntype AnswerButtonPropsType = {\r\n    buttonId: number\r\n    answerId: number\r\n    color: string\r\n    answerHandler(id: number): void\r\n}\r\n\r\nfunction AnswerButton({buttonId, answerId, color, answerHandler}: AnswerButtonPropsType) {\r\n\r\n    const picked = buttonId === answerId\r\n    const styling = `${style.answerButton} ${picked ? style.highlightAnswer : ''}`\r\n    const highlight = {\r\n        border: picked? `2px solid ${color}` : 'default',\r\n        color: picked? `#555` : 'default',\r\n    }\r\n\r\n    return (\r\n        <button disabled={!!answerId}\r\n                className={styling}\r\n                style={highlight}\r\n                onClick={() => answerHandler(buttonId)}>\r\n            {buttonId}\r\n        </button>\r\n    )\r\n}\r\n\r\nexport default AnswerButton;\r\n","import React, {useEffect, useState} from 'react';\r\nimport {CardType} from '../../api/API';\r\nimport style from '../styles/LearnPage.module.css'\r\nimport {useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {Redirect} from 'react-router-dom';\r\nimport AnswerButton from './AnswerButton';\r\n\r\ntype LearnPagePropsType = {\r\n    title: string\r\n    card: CardType\r\n    amount: number\r\n    index: number\r\n    smartMode: boolean\r\n    isMine: boolean\r\n    toggleMode(): void\r\n    getNextCard(): void\r\n    deleteCard(cardId: string): void\r\n    setGrade(card_id: string, grade: number): void\r\n}\r\n\r\nfunction LearnPage({title, card, isMine, amount, index, smartMode, toggleMode, getNextCard, deleteCard, setGrade}: LearnPagePropsType) {\r\n\r\n    const appStatus = useSelector((state: RootStateType): string => state.appState.status)\r\n    const isLoggedIn = useSelector((state: RootStateType): boolean => state.auth.isLoggedIn)\r\n\r\n    let [show, setShow] = useState(false)\r\n    let [answer, setAnswer] = useState(0)\r\n\r\n    useEffect(() => {\r\n        setShow(false)\r\n        setAnswer(0)\r\n    }, [index])\r\n\r\n    const answerHandler = (buttonId: number) => {\r\n        setAnswer(buttonId)\r\n        setGrade(card._id, buttonId)\r\n    }\r\n\r\n    const refreshCard = () => {\r\n        setAnswer(0)\r\n        setShow(s => !s)\r\n    }\r\n\r\n    const nextButtonStyle = `${style.nextButton} ${amount === 1 && !answer? style.nextButtonDisabled: ''}`\r\n    const titleStyle = `${card ? style.cardsCount : style.packEmpty} ${!smartMode && index === amount ? style.lastCard : ''}`\r\n    const cardsCountDisplay = card || appStatus !== 'idle' ? `${index}/${amount}` : 'Pack is empty'\r\n    const smartModeStyle = {color: smartMode ? 'CadetBlue' : 'Salmon'}\r\n\r\n    return (\r\n        appStatus === 'idle' && !isLoggedIn\r\n            ? <Redirect to={'/login'}/>\r\n            : <div className={style.pageContainer}>\r\n                <h1>{title}</h1>\r\n\r\n                {!card\r\n                    ? <h2 className={titleStyle}>{cardsCountDisplay}</h2>\r\n                    :\r\n                <div className={style.cardContainer}>\r\n                <h2 className={style.modeTitle}\r\n                             onClick={toggleMode}>\r\n                    <span style={{marginRight: '5px'}}>Smart random</span>\r\n                    <span style={smartModeStyle}>{smartMode ? 'ON' : 'OFF'}</span>\r\n                </h2>\r\n                <h2 className={titleStyle}>{cardsCountDisplay}</h2>\r\n                    <div className={style.card}>\r\n                        <span className={style.question}>{card.question}</span>\r\n                        {isMine && <span className={style.delete}\r\n                              onClick={() => deleteCard(card._id)}>Delete card\r\n                        </span>}\r\n                        {show\r\n                            ? <div className={style.answerContainer}>\r\n                                <span className={style.answer}>{card.answer}</span>\r\n                                <div className={style.buttonsBlock}>\r\n                                    <AnswerButton buttonId={1}\r\n                                                  color={'Maroon'}\r\n                                                  answerId={answer}\r\n                                                  answerHandler={answerHandler}/>\r\n                                    <AnswerButton buttonId={2}\r\n                                                  color={'Salmon'}\r\n                                                  answerId={answer}\r\n                                                  answerHandler={answerHandler}/>\r\n                                    <AnswerButton buttonId={3}\r\n                                                  color={'Orange'}\r\n                                                  answerId={answer}\r\n                                                  answerHandler={answerHandler}/>\r\n                                    <AnswerButton buttonId={4}\r\n                                                  color={'CadetBlue'}\r\n                                                  answerId={answer}\r\n                                                  answerHandler={answerHandler}/>\r\n                                    <AnswerButton buttonId={5}\r\n                                                  color={'LimeGreen'}\r\n                                                  answerId={answer}\r\n                                                  answerHandler={answerHandler}/>\r\n                                </div>\r\n                            </div>\r\n                            : <button className={style.checkButton} onClick={() => setShow(!show)}>\r\n                                Check\r\n                            </button>\r\n                        }\r\n                    </div>\r\n                    <button className={nextButtonStyle}\r\n                            disabled={amount === 1 && !answer}\r\n                            onClick={amount > 1 ? getNextCard : refreshCard}>\r\n                        <span>{amount > 1 ? 'Next' : 'Again?'}</span>\r\n                    </button>\r\n                </div>\r\n                }\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default LearnPage;\r\n","import {cardsAPI, CardType} from '../api/API';\r\nimport {ThunkAction} from 'redux-thunk';\r\nimport {RootStateType} from './store';\r\nimport {Action} from 'redux';\r\nimport {setAppStatusAC} from './app-reducer';\r\nimport {setAuthTC} from './auth-reducer';\r\n\r\ntype PageStateType = {\r\n    packTitle: string\r\n    cards: Array<CardType>\r\n    cardId: string\r\n    grade: number\r\n    cardIndex: number\r\n}\r\n\r\nconst initialState: PageStateType = {\r\n    packTitle: 'Pack',\r\n    cards: [],\r\n    cardId: '',\r\n    grade: 0,\r\n    cardIndex: 0\r\n}\r\n\r\ntype ActionTypes =\r\n    | ReturnType<typeof updateCardGradeAC>\r\n\r\n\r\nexport const learnReducer = (state: PageStateType = initialState, action: ActionTypes): PageStateType => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'UPDATE-CARD-GRADE':\r\n            return {\r\n                ...state, cards: state.cards.map(\r\n                    c => c._id === action.cardId ? {...c, grade: action.grade} : c\r\n                )\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst UPDATE_CARD_GRADE = 'UPDATE-CARD-GRADE'\r\n\r\nexport const updateCardGradeAC = (cardId: string, grade: number) => (\r\n    {type: UPDATE_CARD_GRADE, cardId, grade} as const\r\n)\r\n\r\n// Thunks\r\n\r\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType,\r\n    RootStateType,\r\n    unknown,\r\n    Action<string>>\r\n\r\nexport const sendGradeTC = (card_id: string, grade: number): AppThunk =>\r\n    (dispatch) => {\r\n        dispatch(setAppStatusAC('sending'))\r\n        cardsAPI.sendGrade(card_id, grade)\r\n            .then((response) => {\r\n                dispatch(updateCardGradeAC(card_id, response.grade))\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n                dispatch(setAuthTC())\r\n            })\r\n            .finally(() => dispatch(setAppStatusAC('idle')))\r\n    }","import React, {useEffect, useState} from 'react';\r\nimport LearnPage from './LearnPage';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {RootStateType} from '../../redux/store';\r\nimport {useParams} from 'react-router-dom';\r\nimport {deleteCardTC, getCardsTC} from '../../redux/cards-reducer';\r\nimport {sendGradeTC} from '../../redux/learn-reducer';\r\n\r\ntype ParamsType = {\r\n    id: string | undefined\r\n    title: string | undefined\r\n    isMine: string | undefined\r\n}\r\n\r\nfunction LearnPageContainer() {\r\n\r\n    const dispatch = useDispatch()\r\n    const params: ParamsType = useParams()\r\n    const title = params.title ? params.title : 'Pack'\r\n    const packId = params.id ? params.id : ''\r\n    const isMine = params.isMine? params.isMine === '1' : false\r\n\r\n    const cards = useSelector((state: RootStateType) => state.cardsPage.cards)\r\n    let [index, setIndex] = useState(0)\r\n    let [smartMode, setMode] = useState(false)\r\n    let card = cards[index]\r\n\r\n    useEffect(() => {\r\n        dispatch(getCardsTC(packId, false))\r\n        window.history.replaceState(null, '', `/#/learn/${title}`)\r\n    }, [dispatch, packId, title])\r\n\r\n    const setGrade = (card_id: string, grade: number) => {\r\n        dispatch(sendGradeTC(card_id, grade))\r\n    }\r\n\r\n    const getNextSimple = () => setIndex(i => index + 1 >= cards.length? 0 : i + 1)\r\n\r\n    const getNextSmart = () => {\r\n        const sum = cards.reduce((acc, card) => acc + (6 - card.grade)**2, 0)\r\n        const rand = Math.random() * sum\r\n        const res = cards.reduce((acc: {sum: number, id: number}, card, i) => {\r\n            const newSum = acc.sum + (6 - card.grade) ** 2\r\n            return {sum: newSum, id: newSum < rand ? i : acc.id}\r\n        }, {sum: 0, id: -1})\r\n        setIndex( res.id + 1)\r\n    }\r\n\r\n    const deleteCard = (cardId: string) => {\r\n        dispatch(deleteCardTC(packId, cardId,false))\r\n    }\r\n\r\n    return (\r\n        <LearnPage title={title}\r\n                   card={card}\r\n                   index={index + 1}\r\n                   isMine={isMine}\r\n                   amount={cards.length}\r\n                   smartMode={smartMode}\r\n                   toggleMode={() => setMode(m => !m)}\r\n                   getNextCard={smartMode? getNextSmart : getNextSimple}\r\n                   deleteCard={deleteCard}\r\n                   setGrade={setGrade}\r\n        />\r\n    )\r\n}\r\n\r\nexport default LearnPageContainer;\r\n","import React, {useEffect, useState} from 'react';\r\nimport style from './App.module.css';\r\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom';\r\nimport Profile from './content/Profile/Profile';\r\nimport {Navbar} from './common/Navbar';\r\nimport SuperInputsDemo from './content/SuperInputsDemo';\r\nimport LoginContainer from './content/Login/LoginContainer';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport RecoverContainer from './content/Recover/RecoverContainer';\r\nimport NewPasswordContainer from './content/NewPassword/NewPasswordContainer';\r\nimport {setAuthTC} from './redux/auth-reducer';\r\nimport {RootStateType} from './redux/store';\r\nimport {Loader} from './common/loader/loader';\r\nimport RegistrationContainer from './content/Registration/RegistrationContainer';\r\nimport CardsPageContainer from './content/CardsPage/CardsPageContainer';\r\n\r\nimport PacksPageContainer from './content/PacksPage/PacksPageContainer';\r\nimport Page404 from './content/Page404/Page404';\r\nimport LearnPageContainer from './content/LearnPage/LearnPageContainer';\r\n\r\nexport const DEV_MODE = true\r\nexport const DEFAULT_EMAIL = 'nya-admin@nya.nya'\r\nexport const DEFAULT_PASSWORD = '1qazxcvBG'\r\n\r\nfunction App() {\r\n\r\n    const dispatch = useDispatch()\r\n    const appStatus = useSelector((state: RootStateType) => state.appState.status)\r\n\r\n    useEffect(() => {\r\n        dispatch(setAuthTC())\r\n    }, [dispatch])\r\n\r\n    let [showLoader, setShowLoader] = useState(true)\r\n\r\n    let id = 0\r\n    useEffect(() => {\r\n        if (appStatus !== 'loading' && showLoader) {\r\n            id = +setTimeout(() => {\r\n                setShowLoader(false)\r\n            }, 301)\r\n        } else {\r\n            setShowLoader(appStatus === 'loading')\r\n        }\r\n    }, [appStatus, showLoader])\r\n\r\n    useEffect(() => {\r\n        return () => clearTimeout(id)\r\n    }, [showLoader, id])\r\n\r\n    return (\r\n        <HashRouter>\r\n            <div className=\"App\">\r\n                {showLoader && <Loader/>}\r\n                <Navbar/>\r\n                <div className={style.content}>\r\n                    <Switch>\r\n                        <Route exact path={'/'} render={() => <Profile/>}/>\r\n                        <Route path='/login' render={() => <LoginContainer/>}/>\r\n                        <Route path='/registration2' render={() => <RegistrationContainer/>}/>\r\n                        <Route path='/profile' render={() => <Profile/>}/>\r\n                        <Route path='/recover' render={() => <RecoverContainer/>}/>\r\n                        <Route path='/set-new-password/:token?' render={() => <NewPasswordContainer/>}/>\r\n                        <Route path='/packs/' render={() => <PacksPageContainer/>}/>\r\n                        <Route path='/cards/:id?/:title?' render={() => <CardsPageContainer/>}/>\r\n                        <Route path='/learn/:id?/:title?/:isMine?' render={() => <LearnPageContainer/>}/>\r\n                        <Route path='/demo' render={() => <SuperInputsDemo/>}/>\r\n\r\n                        <Route path={'/404'} render={() => <Page404/>}/>\r\n                        <Redirect from={'*'} to={'/404'}/>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </HashRouter>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, createStore} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {authReducer} from './auth-reducer';\r\nimport {recoverReducer} from './recover-reducer';\r\nimport {registrationReducer} from './registration-reducer';\r\nimport {appReducer} from './app-reducer';\r\nimport {searchReducer} from './search-reducer';\r\nimport {paginationReducer} from './pagination-reducer';\r\nimport {packsReducer} from './packs-reducer';\r\nimport {cardsReducer} from './cards-reducer';\r\nimport {learnReducer} from './learn-reducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    appState: appReducer,\r\n    auth: authReducer,\r\n    pageRecover: recoverReducer,\r\n    pageRegistration: registrationReducer,\r\n    filterState: searchReducer,\r\n    pagination: paginationReducer,\r\n    packsPage: packsReducer,\r\n    cardsPage: cardsReducer,\r\n    learnPage: learnReducer\r\n})\r\n\r\nlet store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\r\n\r\nexport type RootStateType = ReturnType<typeof rootReducer>\r\n\r\nexport default store","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/store';\r\nimport {Provider} from 'react-redux';\r\n\r\nReactDOM.render(\r\n        <Provider store={store}>\r\n            <App/>\r\n        </Provider>,\r\n    document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}