(this.webpackJsonpfriday_project=this.webpackJsonpfriday_project||[]).push([[0],{11:function(e,t,n){e.exports={defaultTitle:"Common_defaultTitle__31EcN",defaultButton:"Common_defaultButton__3Nyzq"}},12:function(e,t,n){e.exports={pageContainer:"Login_pageContainer__UVIWV",form:"Login_form__32Fyg",rememberMe:"Login_rememberMe__dRVr8",messageDefault:"Login_messageDefault__3l_EJ",credentialsContainer:"Login_credentialsContainer__R7oM-",credentialsString:"Login_credentialsString__5M3DA",credentialsTitle:"Login_credentialsTitle__2-ZDZ",credentialsValue:"Login_credentialsValue__jIh4G"}},18:function(e,t,n){e.exports={pageContainer:"Registration_pageContainer__1KWw0",form:"Registration_form__jtTlg",registrationErrorMessage:"Registration_registrationErrorMessage__1kz7v",demoContainer:"Registration_demoContainer__iUtpv"}},19:function(e,t,n){e.exports={cardsPageWrapper:"CardsPage_cardsPageWrapper__1KtSp",pageTitle:"CardsPage_pageTitle__CfxOj",controlsContainer:"CardsPage_controlsContainer__y5nwQ",table:"CardsPage_table__2DQ55",sortSettings:"CardsPage_sortSettings__221op",activeSetting:"CardsPage_activeSetting__1h9bN",tableHeader:"CardsPage_tableHeader__fVl_U",packItem:"CardsPage_packItem__3ccLB",inputBlock:"CardsPage_inputBlock__1pJDB",itemIsNotMine:"CardsPage_itemIsNotMine__vk-Xv"}},21:function(e,t,n){e.exports={inputItem:"SuperInputText_inputItem__3wSqk",superInput:"SuperInputText_superInput__2y9o7",errorInput:"SuperInputText_errorInput__1Tk9e",error:"SuperInputText_error__1l5Oe",inputErrorMessageArea:"SuperInputText_inputErrorMessageArea__1dWI0",title:"SuperInputText_title__2upz8"}},24:function(e,t,n){e.exports={title:"Profile_title__F93Aw"}},25:function(e,t,n){e.exports={navbar:"Navbar_navbar__2UpRR",menu:"Navbar_menu___OZdZ",logo:"Navbar_logo__2Y1Zc",logoutButton:"Navbar_logoutButton__OhV8V",navbarItem:"Navbar_navbarItem__34Lgs"}},27:function(e,t,n){e.exports={form:"Recover_form__DGr-v",timer:"Recover_timer__2fP7Q",timerContainer:"Recover_timerContainer__20gB8"}},36:function(e,t,n){e.exports={item:"NavbarItem_item__2LJ8k",activeLink:"NavbarItem_activeLink__3JfRL"}},37:function(e,t,n){e.exports={default:"SuperButton_default__1H4I9",red:"SuperButton_red__1KP2a"}},38:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__7ru_C",spanClassName:"SuperCheckbox_spanClassName__3VuGm"}},39:function(e,t,n){e.exports={searchComponent:"NameFilterComponent_searchComponent__2XuZf",input:"NameFilterComponent_input__2j-G7"}},40:function(e,t,n){e.exports={dimScreen:"loader_dimScreen__Ia0cI",loader:"loader_loader__3hg5M"}},50:function(e,t,n){e.exports={App:"App_App__3lkBD",content:"App_content__XgHZo"}},53:function(e,t,n){e.exports={main:"PaginationDisplay_main__2kxec"}},55:function(e,t,n){e.exports={page404:"Page404_page404__1B52C"}},6:function(e,t,n){e.exports={pageContainer:"LearnPage_pageContainer__Tw53u",modeTitle:"LearnPage_modeTitle__3ngue",cardsCount:"LearnPage_cardsCount__BmnuJ",lastCard:"LearnPage_lastCard__1PmmU",packEmpty:"LearnPage_packEmpty__16T4G",cardContainer:"LearnPage_cardContainer__3VRkS",card:"LearnPage_card__26Yo9",question:"LearnPage_question__2wFZO",answer:"LearnPage_answer__1birh",delete:"LearnPage_delete__2WO_k",answerButton:"LearnPage_answerButton__2Ql9m",buttonsBlock:"LearnPage_buttonsBlock__3cN5_",checkButton:"LearnPage_checkButton__gb5re",highlightAnswer:"LearnPage_highlightAnswer__1urSl",nextButton:"LearnPage_nextButton__AeOjI"}},61:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(28),o=n.n(r),i=(n(61),n(50)),s=n.n(i),l=n(7),u=n(8),d=n(3),j=n(24),b=n.n(j),O=n(11),h=n.n(O),f=n.p+"static/media/default_avatar.b82381d7.png",p=n(2),g=n(52),m=n.n(g).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0",headers:{}}),v=function(){return m.post("/auth/me").then((function(e){return e.data}))},x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return m.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},C=function(){return m.delete("/auth/me")},_=function(e,t,n){return m.post("/auth/forgot",{email:e,from:t,message:n})},k=function(e,t){return m.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},w=function(e,t){return m.post("/auth/register",{email:e,password:t})},y=function(e){return m.get("/cards/pack",{params:e}).then((function(e){return e.data}))},S=function(e){return m.post("/cards/pack",{cardsPack:{name:e}})},P=function(e){return m.delete("/cards/pack?id=".concat(e))},N=function(e,t){return m.put("/cards/pack",{cardsPack:{_id:e,name:t}})},T=function(e,t){return m.get("/cards/card?cardsPack_id=".concat(e),{params:t}).then((function(e){return e.data}))},I=function(e){return m.post("/cards/card",{card:e})},E=function(e){return m.delete("/cards/card?id=".concat(e))},B=function(e){return m.put("/cards/card",{card:{_id:e,question:"updated"}})},L=function(e,t){return m.put("/cards/grade",{card_id:e,grade:t}).then((function(e){return e.data.updatedGrade}))},A={status:"loading",isInitialized:!1},R="SET-APP-STATUS",M=function(e){return{type:R,status:e}},D="SET-IS-LOGGED-IN",F="SET-PROFILE",H={isLoggedIn:!1,profile:null},U=function(e){return{type:D,isLoggedIn:e}},G=function(e){return{type:F,profile:e}},q=function(){return function(e){e(M("loading")),v().then((function(t){e(G(t)),e(U(!0))})).catch((function(t){console.log("Error: ",Object(p.a)({},t)),e(U(!1))})).finally((function(){return e(M("idle"))}))}},V=function(){return function(e){e(M("loading")),C().then((function(t){e(U(!1))})).catch((function(e){return console.log("Error: ",Object(p.a)({},e))})).finally((function(){return e(M("idle"))}))}},K=n(0);var Z=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.auth.profile}));return Object(K.jsxs)("div",{children:[Object(K.jsx)("h1",{className:"".concat(h.a.defaultTitle," ").concat(b.a.title),children:"Profile"}),t&&n?Object(K.jsxs)("div",{className:b.a.profileData,children:[n.avatar?Object(K.jsx)("div",{children:Object(K.jsx)("img",{src:n.avatar,alt:"",width:"100",height:""})}):Object(K.jsx)("img",{src:f,alt:"",width:"100",height:"100"}),Object(K.jsxs)("div",{className:b.a.name,children:["Name: ",n.name]}),Object(K.jsxs)("div",{className:b.a.email,children:["email: ",n.email]}),Object(K.jsxs)("div",{className:b.a.packsCount,children:["Public card packs count: ",n.publicCardPacksCount]}),Object(K.jsx)("button",{className:h.a.defaultButton,onClick:function(){return e(V())},children:"Log out"})]}):Object(K.jsx)(u.a,{to:"/login"})]})},z=n(25),W=n.n(z),J=n(36),Y=n.n(J);function $(e){return Object(K.jsx)("div",{className:Y.a.item,children:Object(K.jsx)(l.b,{to:e.to,activeClassName:Y.a.activeLink,children:e.title})})}var Q=n.p+"static/media/cards_logo.b892f089.png";function X(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn}));return Object(K.jsxs)("nav",{className:W.a.navbar,children:[Object(K.jsx)("img",{src:Q,className:W.a.logo,alt:"logo"}),Object(K.jsxs)("div",{className:W.a.menu,children:[!t&&Object(K.jsx)($,{to:"/registration2",title:"Registration"}),Object(K.jsx)($,{to:"/profile",title:"Profile"}),Object(K.jsx)($,{to:"/set-new-password",title:"Password"}),Object(K.jsx)($,{to:"/recover",title:"Recover Pass"}),Object(K.jsx)($,{to:"/packs",title:"Packs"}),Object(K.jsx)($,{to:"/cards",title:"Cards"}),Object(K.jsx)($,{to:"/demo",title:"Demo"}),t?Object(K.jsx)("button",{className:W.a.logoutButton,onClick:function(){return e(V())},children:"Logout"}):Object(K.jsx)("span",{className:W.a.logoutButton,children:Object(K.jsx)($,{to:"/login",title:"Login"})})]})]})}var ee=n(4),te=n(23),ne=n(37),ae=n.n(ne),ce=function(e){var t=e.red,n=e.className,a=Object(te.a)(e,["red","className"]),c="".concat(t?ae.a.red:ae.a.default," ").concat(n);return Object(K.jsx)("button",Object(p.a)({className:c},a))},re=n(21),oe=n.n(re),ie=function(e){var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,c=e.onEnter,r=e.error,o=e.className,i=e.spanClassName,s=e.title,l=Object(te.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","title"]),u="".concat(oe.a.error," ").concat(i||""),d="".concat(r?oe.a.errorInput:oe.a.superInput," ").concat(o);return Object(K.jsxs)("div",{className:oe.a.inputItem,children:[s&&Object(K.jsx)("div",{className:oe.a.title,children:s}),Object(K.jsx)("input",Object(p.a)({onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&c&&c()},className:d},l)),Object(K.jsx)("div",{className:oe.a.inputErrorMessageArea,children:r&&Object(K.jsx)("span",{className:u,children:r})})]})},se=n(38),le=n.n(se),ue=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,c=(e.spanClassName,e.children),r=Object(te.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),o="".concat(le.a.checkbox," ").concat(a||"");return Object(K.jsxs)("label",{children:[Object(K.jsx)("input",Object(p.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:o},r)),c&&Object(K.jsx)("span",{className:le.a.spanClassName,children:c})]})},de=n(18),je=n.n(de),be=n(39),Oe=n.n(be);var he=function(e){var t=e.value,n=e.onChangeHandler,a=e.onClearHandler,c=e.placeholder,r=void 0===c?"Filter by name":c;return Object(K.jsxs)("div",{className:Oe.a.searchComponent,children:[Object(K.jsx)("input",{type:"text",className:Oe.a.input,value:t,onChange:function(e){return n(e.currentTarget.value)},onKeyPress:function(e){e.key},placeholder:r}),Object(K.jsx)("button",{onClick:a,children:"x"})]})},fe="SET_SEARCH_FILTERS_VALUE",pe={nameFilter:"",onlyMyPacks:!1},ge=function(e){return{type:fe,payload:{searchObject:e}}};var me=function(e){var t=e.placeholder,n=Object(d.b)(),c=Object(a.useState)({nameFilter:"",onlyMyPacks:!0}),r=Object(ee.a)(c,2),o=r[0],i=r[1];return Object(K.jsxs)("div",{children:[Object(K.jsx)(he,{value:o.nameFilter,onChangeHandler:function(e){i(Object(p.a)(Object(p.a)({},o),{},{nameFilter:e}))},onClearHandler:function(){i(Object(p.a)(Object(p.a)({},o),{},{nameFilter:""})),n(ge(Object(p.a)(Object(p.a)({},o),{},{nameFilter:""})))},placeholder:t}),Object(K.jsx)("input",{type:"checkbox",id:"showOnlyMyPacks",name:"interest",checked:!o.onlyMyPacks,onClick:function(){i(Object(p.a)(Object(p.a)({},o),{},{onlyMyPacks:!o.onlyMyPacks})),n(ge(o)),console.log(o)}}),Object(K.jsx)("label",{htmlFor:"showOnlyMyPacks",children:"Only my packs"}),Object(K.jsx)("button",{onClick:function(){n(ge(o))},style:{marginLeft:"10px"},children:"Search"})]})},ve=n(53),xe=n.n(ve);var Ce=function(e){for(var t=e.currentPage,n=e.totalItems,a=e.itemsOnPage,c=e.getPage,r=e.getItemsOnPage,o=[],i=Math.ceil(n/a),s=function(e){o.push(Object(K.jsx)("button",{style:{background:t===e?"#4c4c4c":void 0,color:t===e?"white":void 0},onClick:function(){return c(e)},children:e},e))},l=1;l<=i;l++)s(l);return Object(K.jsxs)("div",{className:xe.a.main,children:[Object(K.jsxs)("select",{value:a,onChange:function(e){r(Number(e.currentTarget.value))},style:{},children:[Object(K.jsx)("option",{value:5,children:"5"}),Object(K.jsx)("option",{value:10,children:"10"}),Object(K.jsx)("option",{value:20,children:"20"}),Object(K.jsx)("option",{value:50,children:"50"})]}),o]})},_e="SET_CURRENT_PAGE",ke="SET_ITEMS_ON_PAGE",we={page:1,pageCount:10};var ye=function(e){var t=e.totalItems,n=Object(d.b)(),a=Object(d.c)((function(e){return e.pagination}));return Object(K.jsx)("div",{children:Object(K.jsx)(Ce,{currentPage:a.page,itemsOnPage:a.pageCount,totalItems:t,getPage:function(e){n({type:_e,payload:{value:e}})},getItemsOnPage:function(e){n({type:ke,payload:{value:e}})}})})};var Se=function(e){var t=e.enableBackground,n=e.backgroundStyle,c=e.backgroundOnClick,r=void 0===c?function(){}:c,o=e.width,i=e.height,s=e.modalStyle,l=e.modalOnClick,u=void 0===l?function(){}:l,d=e.show,j=e.children;Object(a.useEffect)((function(){document.body.style.overflowY=d?"hidden":"unset"}),[d]);var b="calc(50vh - ".concat(i/2,"px)"),O="calc(50vw - ".concat(o/2,"px)");return d?Object(K.jsxs)(K.Fragment,{children:[t&&Object(K.jsx)("div",{style:Object(p.a)({position:"fixed",top:"0px",left:"0px",width:"100vw",height:"100vh",overflowY:"hidden",background:"black",opacity:.35,zIndex:20},n),onClick:r}),Object(K.jsx)("div",{style:Object(p.a)({position:"fixed",top:b,left:O,width:o,height:i,display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"center",background:"white",zIndex:21},s),onClick:u,children:j})]}):null};var Pe=function(e){var t=Object(a.useState)(!1),n=Object(ee.a)(t,2),c=n[0],r=n[1];return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("button",{onClick:function(){return r(!0)},children:"Simple modal"}),Object(K.jsxs)(Se,{enableBackground:!0,backgroundOnClick:function(){return r(!1)},width:300,height:200,show:c,children:[e.modalText||"Simple Modal",Object(K.jsx)("div",{style:{marginTop:"5px"},children:Object(K.jsx)("button",{onClick:function(){return r(!1)},children:e.buttonText||"Close"})})]})]})},Ne=n(54),Te=function(e){var t=e.inputData,n=e.setSaveInputs,c=e.inputStyles,r=Object(a.useMemo)((function(){return t?t.map((function(e,t){return{id:t,value:e[0],setValue:e[1]}})):[]}),[]),o=Object(a.useState)(r),i=Object(ee.a)(o,2),s=i[0],l=i[1];Object(a.useEffect)((function(){n({f:u})}),[s]);var u=function(){var e,t=Object(Ne.a)(s);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.setValue(n.value)}}catch(a){t.e(a)}finally{t.f()}};return Object(K.jsx)(K.Fragment,{children:s.map((function(e){return Object(K.jsx)("input",{value:e.value,style:Object(p.a)({},c),onChange:function(t){return n=e.id,a=t.currentTarget.value,void l(s.map((function(e){return e.id===n?Object(p.a)(Object(p.a)({},e),{},{value:a}):e})));var n,a}},e.id)}))})};var Ie=function(e){var t=e.inputData,n=e.modalText,c=e.answer,r=e.setAnswer,o=void 0===r?function(e){}:r,i=e.inputContainerStyles,s=e.inputStyles,l=e.buttonStyles,u=e.button,d=void 0===u?"OK":u,j=e.enableBackground,b=e.backgroundStyle,O=e.backgroundOnClick,h=void 0===O?function(){}:O,f=e.width,g=e.height,m=e.modalStyle,v=e.modalOnClick,x=void 0===v?function(){}:v,C=e.show,_=e.close,k=(e.children,Object(a.useState)(c)),w=Object(ee.a)(k,2),y=w[0],S=w[1],P=Object(a.useState)({f:function(){}}),N=Object(ee.a)(P,2),T=N[0],I=N[1];return Object(K.jsxs)(Se,{enableBackground:j,backgroundOnClick:function(){S(c),h()},backgroundStyle:b,width:f,height:g,modalOnClick:x,modalStyle:m,show:C,children:[n||"question modal",Object(K.jsxs)("div",{style:Object(p.a)({width:"100%",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"space-around"},i),children:[void 0!==c&&Object(K.jsx)("input",{value:y,style:Object(p.a)({},s),onChange:function(e){return S(e.currentTarget.value)}}),Object(K.jsx)(Te,{inputData:t,setSaveInputs:I,inputStyles:s})]}),Object(K.jsx)("button",{onClick:function(){T.f(),o(y||""),I({f:function(){}}),_()},style:Object(p.a)({},l),children:d})]})};var Ee=function(e){var t=Object(a.useState)(!1),n=Object(ee.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(e.defaultAnswer||"test answer"),i=Object(ee.a)(o,2),s=i[0],l=i[1],u=Object(a.useState)(""),d=Object(ee.a)(u,2),j=d[0],b=d[1],O=Object(a.useState)(""),h=Object(ee.a)(O,2),f=h[0],g=h[1],m={show:c,close:function(){return r(!1)},modalText:e.modalText,answer:s,setAnswer:function(t){l(t),e.answerCallback&&e.answerCallback({answer:t,value1:j,value2:f})},enableBackground:!0,backgroundOnClick:function(){return r(!1)},width:300,height:200};return 3===e.inputsCount?m.inputData=[[j,b],[f,g]]:2===e.inputsCount&&(m.inputData=[[j,b]]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{children:[Object(K.jsx)("button",{onClick:function(){return r(!0)},children:e.buttonTitle||"Modal Input"}),s,j&&"-".concat(j),f&&"-".concat(f)]}),Object(K.jsx)(Ie,Object(p.a)({},m))]})},Be=function(e){var t=e.setTrue,n=e.setFalse,a=e.buttonStyles,c=e.trueStyles,r=e.falseStyles,o=e.buttonTrue,i=void 0===o?"Yes":o,s=e.buttonFalse,l=void 0===s?"No":s,u=e.enableBackground,d=e.backgroundStyle,j=e.backgroundOnClick,b=void 0===j?function(){}:j,O=e.width,h=e.height,f=e.modalStyle,g=e.modalOnClick,m=void 0===g?function(){}:g,v=e.show,x=e.children;return Object(K.jsxs)(Se,{enableBackground:u,backgroundOnClick:b,backgroundStyle:d,width:O,height:h,modalOnClick:m,modalStyle:f,show:v,children:[x||Object(K.jsx)(K.Fragment,{children:"question Modal"}),Object(K.jsxs)("div",{style:Object(p.a)({width:"100%",display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"space-around"},a),children:[Object(K.jsx)("button",{onClick:t,style:Object(p.a)({},c),children:i}),Object(K.jsx)("button",{onClick:n,style:Object(p.a)({},r),children:l})]})]})},Le=function(e){var t=e.buttonTitle,n=void 0===t?"ModalQuestion":t,c=e.modalText,r=void 0===c?"Question text":c,o=e.answerCallback,i=void 0===o?function(){}:o,s=e.isMine,l=Object(a.useState)(!1),u=Object(ee.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(!1),O=Object(ee.a)(b,2),h=(O[0],O[1]);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{children:Object(K.jsx)("button",{onClick:function(){return j(!0)},disabled:!s,children:n})}),Object(K.jsx)(Be,{show:d,setTrue:function(){h(!0),j(!1),i(!0)},setFalse:function(){h(!1),j(!1),i(!1)},enableBackground:!0,backgroundOnClick:function(){return j(!1)},width:300,height:200,children:r})]})};var Ae=function(){var e=Object(a.useState)(""),t=Object(ee.a)(e,2),n=t[0],c=t[1],r=n?"":"Field can't be empty",o=function(){r?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"):alert(n)},i=Object(a.useState)(!1),s=Object(ee.a)(i,2),l=s[0],u=s[1];return Object(K.jsxs)("div",{className:je.a.demoContainer,children:[Object(K.jsx)("h1",{children:"SuperInputs Demo"}),Object(K.jsxs)("div",{children:[Object(K.jsx)(ie,{value:n,onChangeText:c,onEnter:o,error:r,className:je.a.green}),Object(K.jsx)(ce,{red:""===n,onClick:o,children:"Button "}),Object(K.jsx)(ue,{checked:l,onChangeChecked:u,children:"CheckboxText "}),Object(K.jsxs)("div",{children:["SearchComponent:",Object(K.jsx)("div",{style:{border:"solid 1px black"},children:Object(K.jsx)(me,{placeholder:"placeholder"})})]}),Object(K.jsxs)("div",{children:["Pagination:",Object(K.jsx)("div",{style:{border:"solid 1px black"},children:Object(K.jsx)(ye,{totalItems:50})})]}),Object(K.jsx)(Pe,{modalText:"Simple Modal",buttonText:"Close it!"}),Object(K.jsx)(Ee,{buttonTitle:"Modal Input demo",modalText:"Simple Modal input"}),Object(K.jsx)(Le,{isMine:!0})]})]})},Re=n(17),Me=function(e,t){switch(t){case"email":return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"":"Invalid email";case"password":return/^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(e)?"":"Invalid password";default:return""}},De=n(12),Fe=n.n(De);var He=function(e){var t=e.formState,n=e.onChangeHandler,a=e.onBlurHandler,c=e.checkBoxHandler,r=e.onSubmitHandler;console.log("Login called");var o=t.email,i=t.password,s=t.rememberMe,u=!!(o.error||i.error||t.globalFormError);return Object(K.jsxs)("div",{className:Fe.a.pageContainer,children:[Object(K.jsxs)("form",{className:Fe.a.form,onSubmit:function(e){e.preventDefault(),r(o.value,i.value,s)},children:[Object(K.jsx)("h1",{children:"Sign in"}),Object(K.jsx)(ie,{value:o.value,error:o.error,onChangeText:n("email"),onBlur:a("email"),placeholder:"Email",type:"text"}),Object(K.jsx)(ie,{value:i.value,error:i.error,onChangeText:n("password"),onBlur:a("password"),placeholder:"Password",type:"password"}),Object(K.jsx)(l.b,{to:"/recover",children:Object(K.jsx)("span",{children:"Forgot password?"})}),Object(K.jsxs)("div",{className:Fe.a.rememberMe,children:[Object(K.jsx)(ue,{onChangeChecked:c,checked:s}),Object(K.jsx)("span",{children:"Remember me"})]}),Object(K.jsx)(ce,{className:h.a.defaultButton,disabled:u,type:"submit",children:"Sign in"})]}),Rt?Object(K.jsxs)("div",{className:Fe.a.messageDefault,children:[Object(K.jsx)("div",{children:"To sign in you can use test account credentials:"}),Object(K.jsxs)("div",{className:Fe.a.credentialsContainer,children:[Object(K.jsxs)("div",{className:Fe.a.credentialsString,children:[Object(K.jsx)("div",{className:Fe.a.credentialsTitle,children:"email:"}),Object(K.jsx)("div",{className:Fe.a.credentialsValue,children:"".concat(Mt)})]}),Object(K.jsxs)("div",{className:Fe.a.credentialsString,children:[Object(K.jsx)("div",{className:Fe.a.credentialsTitle,children:"password:"}),Object(K.jsx)("div",{className:Fe.a.credentialsValue,children:"".concat(Dt)})]})]})]}):""]})};var Ue=function(){console.log("LoginContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(a.useState)({email:{value:Rt?Mt:"",error:"",touched:!1},password:{value:Rt?Dt:"",error:"",touched:!1},rememberMe:!1,globalFormError:""}),c=Object(ee.a)(n,2),r=c[0],o=c[1];return t?Object(K.jsx)(u.a,{to:"profile"}):Object(K.jsx)("div",{children:Object(K.jsx)(He,{formState:r,onChangeHandler:function(e){return function(t){o(Object(p.a)(Object(p.a)({},r),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},r[e]),{},{value:t.trim(),error:r[e].touched?Me(t,e):""}))))}},onBlurHandler:function(e){return function(t){o(Object(p.a)(Object(p.a)({},r),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},r[e]),{},{error:r[e].value?Me(t.target.value,e):"Required field",touched:!0}))))}},checkBoxHandler:function(e){o(Object(p.a)(Object(p.a)({},r),{},{rememberMe:e}))},onSubmitHandler:function(t,n,a){e(function(e,t,n){return function(a){a(M("loading")),x(e,t,n).then((function(e){a(G(e)),a(U(!0))})).catch((function(e){return console.log("Error: ",Object(p.a)({},e))})).finally((function(){return a(M("idle"))}))}}(t,n,a))}})})},Ge=n(27),qe=n.n(Ge);var Ve=function(e){var t=e.getTime,n=e.hideTimer;console.log("RecoverTimer called");var c=Object(a.useState)(t()),r=Object(ee.a)(c,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return i(t()),void(t()<0&&n(!1))}),1e3);return function(){return clearInterval(e)}}),[]),Object(K.jsx)("span",{className:qe.a.timer,children:"Time till next link: ".concat(function(e){var t=e%6e4/1e3;return Math.floor(e/6e4)+":"+(t<10?"0":"")+Math.floor(t)}(o))})},Ke={timerIsOn:!1},Ze="TOGGLE-TIMER-STATUS",ze=function(e){return{type:Ze,timerIsOn:e}},We=function(e){var t=e.formState,n=e.onChangeHandler,a=e.onBlurHandler,c=e.onSubmitHandler;console.log("Recover called");var r=Object(d.b)(),o=function(){return Number(localStorage.timerData)+11e3-Date.now()};r(ze(o()>0));var i=Object(d.c)((function(e){return e.pageRecover.timerIsOn}));return Object(K.jsxs)("form",{className:qe.a.form,onSubmit:function(e){e.preventDefault(),c(t.value)},children:[Object(K.jsx)("h1",{className:h.a.defaultTitle,children:"Recover"}),Object(K.jsx)(ie,{value:t.value,error:t.error,onChangeText:n,onBlur:a,placeholder:"Email"}),Object(K.jsx)("div",{className:qe.a.timerContainer,children:i?Object(K.jsx)(Ve,{getTime:o,hideTimer:function(){r(ze(!1))}}):Object(K.jsx)(ce,{className:h.a.defaultButton,disabled:!!t.error,type:"submit",children:"Send"})}),Object(K.jsx)(l.b,{to:"/login",children:Object(K.jsx)("span",{children:"Login page"})})]})};!localStorage.timerData&&localStorage.setItem("timerData","0");var Je=function(){console.log("RecoverContainer called");var e=Object(d.b)(),t=Object(a.useState)({value:"",error:"",touched:!1}),n=Object(ee.a)(t,2),c=n[0],r=n[1],o="".concat(window.location.origin,"/#/set-new-password");return Object(K.jsx)(We,{formState:c,onChangeHandler:function(e){r(Object(p.a)(Object(p.a)({},c),{},{value:e.trim(),error:c.touched?Me(e,"email"):""}))},onBlurHandler:function(e){r(Object(p.a)(Object(p.a)({},c),{},{error:c.value?Me(e.target.value,"email"):"Required field",touched:!0}))},onSubmitHandler:function(t){r(Object(p.a)(Object(p.a)({},c),{},{error:c.value?Me(t,"email"):"Required field",touched:!0})),Me(c.value,"email")||e(function(e,t){return function(n){var a='<div style="background-color: lime; padding: 15px"> password recovery link:\n         <a href=\''.concat(t,"/$token$'>link</a></div>");_(e,"Administrator",a).then((function(e){})).catch((function(e){console.log("Recover Error",e)})).finally((function(){localStorage.timerData=Date.now(),n(ze(!0))}))}}(t,o))}})},Ye=function(e){var t=e.formState,n=e.onChangeHandler,a=e.onBlurHandler,c=e.onSubmitHandler;console.log("NewPassword called");var r=!(!t.password.error&&!t.confirm.error);return Object(K.jsxs)("form",{className:Fe.a.form,onSubmit:function(e){e.preventDefault(),c(t.password.value)},children:[Object(K.jsx)("h1",{className:h.a.defaultTitle,children:"New password"}),Object(K.jsx)(ie,{value:t.password.value,error:t.password.error,onChangeText:n("password"),onBlur:a("password"),placeholder:"Enter new password",type:"password"}),Object(K.jsx)(ie,{value:t.confirm.value,error:t.confirm.error,onChangeText:n("confirm"),onBlur:a("confirm"),placeholder:"Confirm",type:"password"}),Object(K.jsx)(ce,{className:h.a.defaultButton,disabled:r,type:"submit",children:Object(K.jsx)("span",{children:"Send"})}),Object(K.jsx)(l.b,{to:"/login",children:Object(K.jsx)("span",{children:"Login page"})})]})};var $e=function(){console.log("NewPasswordContainer called");var e=Object(d.b)(),t=Object(u.g)(),n=t.token?t.token:"";window.history.replaceState(null,"","/#/set-new-password");var c=Object(a.useState)({password:{value:"",error:"",touched:!1},confirm:{value:"",error:"",touched:!1}}),r=Object(ee.a)(c,2),o=r[0],i=r[1];return Object(K.jsx)(Ye,{formState:o,onChangeHandler:function(e){return function(t){i(Object(p.a)(Object(p.a)({},o),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},o[e]),{},{value:t.trim(),error:o[e].touched?Me(t,"password"):""}))))}},onBlurHandler:function(e){return function(t){i(Object(p.a)(Object(p.a)({},o),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},o[e]),{},{error:o[e].value?Me(t.target.value,"password"):"Required field",touched:!0}))))}},onSubmitHandler:function(t){var a=o.password.value?o.password.value!==o.confirm.value?"Passwords do not match":"":"Please enter new password";a?i(Object(p.a)(Object(p.a)({},o),{},{password:Object(p.a)(Object(p.a)({},o.password),{},{error:" ",touched:!0}),confirm:Object(p.a)(Object(p.a)({},o.confirm),{},{error:a,touched:!0})})):e(function(e,t){return function(n){n(M("loading")),k(e,t).then((function(e){n(U(!1))})).catch((function(e){return console.log("Error: ",Object(p.a)({},e))})).finally((function(){return n(M("idle"))}))}}(t,n))}})},Qe=n(40),Xe=n.n(Qe),et=n.p+"static/media/loader.b257f2d9.svg";function tt(){return Object(K.jsx)("div",{className:"".concat(Xe.a.dimScreen),children:Object(K.jsx)("img",{className:Xe.a.loader,src:et,alt:"Loading..."})})}var nt=function(e){var t=e.registrationFormState,n=e.onChangeHandler,a=e.onBlurHandler,c=e.onSubmitHandler,r=t.email,o=t.password,i=t.password2,s=t.errorResponse,l=!!(r.error||o.error||i.error||t.globalFormError);return Object(K.jsx)("div",{className:je.a.pageContainer,children:Object(K.jsxs)("form",{className:je.a.form,onSubmit:function(e){e.stopPropagation(),c(r.value,o.value)},children:[Object(K.jsx)("h1",{className:h.a.defaultTitle,children:"Sign Up"}),Object(K.jsx)("div",{className:je.a.registrationErrorMessage,children:s}),Object(K.jsxs)("div",{className:je.a.container,children:[Object(K.jsx)(ie,{title:"Email",value:r.value,error:r.error,onChangeText:n("email"),onBlur:a("email"),type:"text"}),Object(K.jsx)(ie,{title:"Password",value:o.value,error:o.error,onChangeText:n("password"),onBlur:a("password"),type:"password"}),Object(K.jsx)(ie,{title:"Confirm password",value:i.value,error:i.error,onChangeText:n("password2"),onBlur:a("password2"),type:"password"}),Object(K.jsx)(ce,{className:"".concat(h.a.defaultButton," ").concat(je.a.submitButton),disabled:l,type:"submit",children:"Sign up "})]})]})})},at=function(e,t,n){switch(e){case"email":return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)?"":"Invalid email";case"password":return/^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(t)?"":"Invalid password";case"password2":return t===n?"":"Please make sure your passwords match";default:return""}},ct="SET-SUCCESSFULLY-REGISTERED",rt={isSuccessfullyRegistered:!1},ot=function(e){return{type:ct,isSuccessfullyRegistered:e}},it={email:{value:"",error:"",touched:!1},password:{value:"",error:"",touched:!1},password2:{value:"",error:"",touched:!1},errorResponse:"",successfullyRegistered:!1,globalFormError:""};var st=function(){console.log("Registration Container component called");var e=Object(d.b)(),t=(Object(d.c)((function(e){return e.auth.isLoggedIn})),Object(d.c)((function(e){return e.pageRegistration.isSuccessfullyRegistered}))),n=Object(a.useState)(it),c=Object(ee.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){t&&e(ot(!1))})),t?Object(K.jsx)(u.a,{to:"profile"}):Object(K.jsx)(nt,{registrationFormState:r,onChangeHandler:function(e){return function(t){o(Object(p.a)(Object(p.a)({},r),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},r[e]),{},{value:t.trim(),error:r[e].touched?at(e,t,r.password.value):""}))))}},onBlurHandler:function(e){return function(t){o(Object(p.a)(Object(p.a)({},r),{},Object(Re.a)({},e,Object(p.a)(Object(p.a)({},r[e]),{},{error:r[e].value?at(e,t.target.value,r.password.value):"Required field",touched:!0}))))}},onSubmitHandler:function(t,n){e(function(e,t){return function(n){n(M("loading")),w(e,t).then((function(e){n(ot(!0))})).catch((function(e){return console.log("Error: ",Object(p.a)({},e))})).finally((function(){return n(M("idle"))}))}}(t,n))}})},lt=n(19),ut=n.n(lt),dt=n(9),jt=n.n(dt);var bt=function(e){var t=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),n=e.user_id===t,a=new Date(e.updated).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"}),c=new Date(e.created).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"});return Object(K.jsx)("li",{children:Object(K.jsxs)("div",{className:"".concat(jt.a.packItem).concat(n?"":" "+jt.a.itemIsNotMine),children:[Object(K.jsx)("div",{style:{width:"15%"},children:e.question}),Object(K.jsx)("div",{style:{width:"10%"},children:e.answer}),Object(K.jsx)("div",{style:{width:"15%"},children:Math.round(100*(e.grade+Number.EPSILON))/100}),Object(K.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:a}),Object(K.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:c}),Object(K.jsxs)("div",{style:{width:"15%"},children:[Object(K.jsx)("button",{disabled:!n,onClick:e.deleteCallback,children:"Delete"}),Object(K.jsx)("button",{style:{marginLeft:"5px"},disabled:!n,onClick:e.updateCallback,children:"Update"})]}),Object(K.jsx)("div",{style:{width:"25%"}})]})})},Ot={packTitle:"Pack",cards:[],totalCardsCount:0,itemsPerPage:5,currentPage:1,params:{page:1,pageCount:10,sortCards:"1grade"}},ht=function(e){return{type:"SET-CARDS",cards:e}},ft=function(e){return{type:"SET-TOTAL-CARDS-COUNT",totalCardsCount:e}},pt=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,a){n(M("loading"));var c=t?a().pagination:{pageCount:1e3},r=a().cardsPage.params.sortCards;T(e,Object(p.a)(Object(p.a)({},c),{},{sortCards:r})).then((function(e){n(ht(e.cards)),n(ft(e.cardsTotalCount))})).catch((function(e){console.log(e),n(q())})).finally((function(){return n(M("idle"))}))}},gt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(a){a(M("loading")),E(t).then((function(){return a(pt(e,n))})).catch((function(e){console.log(e),a(q())})).finally((function(){return a(M("idle"))}))}};var mt=function(e){console.log("CardsPage called");var t=Object(d.b)(),n=Object(d.c)((function(e){return e.filterState.nameFilter})),c=Object(d.c)((function(e){return e.cardsPage.params.sortCards})),r=e.cards.filter((function(e){return!n||e.question.includes(n)})).map((function(t){return Object(a.createElement)(bt,Object(p.a)(Object(p.a)({},t),{},{key:t._id,deleteCallback:function(){return e.deleteCard(e.packId,t._id)},updateCallback:function(){return e.updateCard(e.packId,t._id)}}))}));return Object(K.jsxs)("div",{className:ut.a.cardsPageWrapper,children:[Object(K.jsx)("h1",{className:ut.a.pageTitle,children:e.title}),Object(K.jsxs)("div",{className:ut.a.controlsContainer,children:[Object(K.jsx)("div",{style:{alignSelf:"flex-start",marginBottom:"5px"},children:Object(K.jsx)(me,{placeholder:"Search"})}),Object(K.jsx)("div",{style:{alignSelf:"flex-end",marginBottom:"5px"},children:Object(K.jsx)(ye,{totalItems:e.totalCardsCount})})]}),Object(K.jsxs)("div",{className:ut.a.table,children:[Object(K.jsxs)("div",{className:ut.a.tableHeader,children:[Object(K.jsx)("div",{style:{width:"15%"},children:"Question"}),Object(K.jsx)("div",{style:{width:"10%"},children:"Answer"}),Object(K.jsx)("div",{style:{width:"15%"},children:Object(K.jsx)("span",{className:"".concat(ut.a.sortSettings," ").concat(ut.a.activeSetting),onClick:function(){t({type:"SET-SORT-CARDS"}),t(pt(e.packId))},children:"Grade ".concat("1grade"===c?"\u2191":"\u2193")})}),Object(K.jsx)("div",{style:{width:"10%"},children:"Updated"}),Object(K.jsx)("div",{style:{width:"10%"},children:"Created"}),Object(K.jsx)("div",{style:{width:"15%"},children:Object(K.jsx)("button",{onClick:function(){return e.createCard(e.packId)},children:"New card"})}),Object(K.jsx)("div",{style:{width:"25%"}})]}),Object(K.jsx)("ul",{children:r})]})]})};var vt=function(){console.log("CardsPageContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.appState.status})),n=Object(d.c)((function(e){return e.auth.isLoggedIn})),c=Object(d.c)((function(e){return e.pagination.page})),r=Object(d.c)((function(e){return e.pagination.pageCount})),o=Object(d.c)((function(e){return e.cardsPage.cards})),i=Object(d.c)((function(e){return e.cardsPage.totalCardsCount})),s=Object(d.c)((function(e){return e.pagination.pageCount})),l=Object(u.g)(),j=l.id?l.id:"",b=l.title?l.title:"Pack";Object(a.useEffect)((function(){e(pt(j))}),[e,j,c,r]);for(var O=Math.ceil(i/s),h=[],f=1;f<=O;f++)h.push(f);return"idle"!==t||n?Object(K.jsx)(mt,{title:b,cards:o,packId:j,createCard:function(t){e(function(e){return function(t){t(M("loading")),I({question:"New Card",cardsPack_id:e}).then((function(){return t(pt(e))})).catch((function(e){console.log(e),t(q())})).finally((function(){t(M("idle"))}))}}(t))},deleteCard:function(t,n){e(gt(t,n))},updateCard:function(t,n){e(function(e,t,n){return function(n){n(M("loading")),B(t).then((function(){return n(pt(e))})).catch((function(e){console.log(e),n(q())})).finally((function(){return n(M("idle"))}))}}(t,n))},totalCardsCount:i}):Object(K.jsx)(u.a,{to:"/login"})};var xt=function(e){e.inputData;var t=e.modalText,n=e.answers,c=e.setAnswer,r=void 0===c?function(e){}:c,o=e.inputContainerStyles,i=e.inputStyles,s=e.buttonStyles,l=e.button,u=void 0===l?"OK":l,d=e.enableBackground,j=e.backgroundStyle,b=e.backgroundOnClick,O=void 0===b?function(){}:b,h=e.width,f=e.height,g=e.modalStyle,m=e.modalOnClick,v=void 0===m?function(){}:m,x=e.show,C=e.close,_=(e.children,Object(a.useState)(n)),k=Object(ee.a)(_,2),w=k[0],y=k[1],S=Object(a.useState)({f:function(){}}),P=Object(ee.a)(S,2),N=P[0],T=P[1];return Object(K.jsxs)(Se,{enableBackground:d,backgroundOnClick:function(){y(n),O()},backgroundStyle:j,width:h,height:f,modalOnClick:v,modalStyle:g,show:x,children:[t||"question modal",Object(K.jsxs)("div",{style:Object(p.a)({width:"100%",display:"flex",flexFlow:"column",alignItems:"center",justifyContent:"space-around"},o),children:[Object(K.jsx)("input",{value:w.answer1,style:Object(p.a)({},i),onChange:function(e){return y(Object(p.a)(Object(p.a)({},w),{},{answer1:e.currentTarget.value}))}}),(null===n||void 0===n?void 0:n.answer2)&&Object(K.jsx)("input",{value:w.answer2,style:Object(p.a)({},i),onChange:function(e){return y(Object(p.a)(Object(p.a)({},w),{},{answer2:e.currentTarget.value}))}}),(null===n||void 0===n?void 0:n.answer3)&&Object(K.jsx)("input",{value:w.answer3,style:Object(p.a)({},i),onChange:function(e){return y(Object(p.a)(Object(p.a)({},w),{},{answer3:e.currentTarget.value}))}})]}),Object(K.jsx)("button",{onClick:function(){N.f(),r(w),T({f:function(){}}),C()},style:Object(p.a)({},s),children:u})]})};var Ct=function(e){var t=Object(a.useState)(!1),n=Object(ee.a)(t,2),c=n[0],r=n[1],o=Object(a.useState)(e.defaultAnswers),i=Object(ee.a)(o,2),s=i[0],l=i[1],u={show:c,close:function(){return r(!1)},modalText:e.modalText,answers:s,setAnswer:function(t){var n=t.answer1,a=t.answer2,c=t.answer3;l({answer1:n,answer2:a,answer3:c}),e.answerCallback&&e.answerCallback({answer1:n,answer2:a,answer3:c})},enableBackground:!0,backgroundOnClick:function(){return r(!1)},width:300,height:200};return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("div",{children:Object(K.jsx)("button",{onClick:function(){return r(!0)},children:e.buttonTitle||"Modal Input"})}),Object(K.jsx)(xt,Object(p.a)({},u))]})};var _t=function(e){var t=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),n=e.user_id===t,c=Object(a.useState)(!0),r=Object(ee.a)(c,2),o=r[0],i=r[1];Object(a.useEffect)((function(){setTimeout((function(){return i(!1)}),100)}),[o]);var s=new Date(e.updated).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"}),u=new Date(e.created).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"});return Object(K.jsx)("li",{style:o?{}:{opacity:"1.0"},children:Object(K.jsxs)("div",{className:"".concat(jt.a.packItem).concat(n?"":" "+jt.a.itemIsNotMine),children:[Object(K.jsx)("div",{style:{width:"15%"},children:e.name}),Object(K.jsx)("div",{style:{width:"10%"},children:e.cardsCount}),Object(K.jsx)("div",{style:{width:"20%",fontSize:"12px",color:"gray"},children:e.user_name}),Object(K.jsx)("div",{style:{width:"10%",fontSize:"12px",paddingLeft:"12px"},children:s}),Object(K.jsx)("div",{style:{width:"10%",fontSize:"12px",paddingLeft:"12px"},children:u}),Object(K.jsxs)("div",{style:{width:"15%",display:"flex",flexDirection:"row"},children:[Object(K.jsx)(Le,{buttonTitle:"Delete",modalText:"Delete pack?",isMine:n,answerCallback:function(t){t&&e.deleteCallback()}}),Object(K.jsx)(Ct,{buttonTitle:"Update",modalText:"Enter new name",isMine:n,defaultAnswers:{answer1:""},answerCallback:function(t){e.updateCallback(t.answer1)}})]}),Object(K.jsx)("div",{style:{width:"5%"},children:Object(K.jsx)(l.b,{to:"/cards/".concat(e._id,"/").concat(encodeURI(e.name)),children:"cards"})}),Object(K.jsx)("div",{style:{width:"5%"},children:Object(K.jsx)(l.b,{to:"/learn/".concat(e._id,"/").concat(encodeURI(e.name),"/").concat(n?1:0),children:"learn"})})]})})},kt={packs:[],totalPacksCount:0,currentPage:1,params:{page:1,pageCount:10,sortPacks:"0updated"}},wt=function(){return function(e,t){e(M("loading"));var n,a=t().pagination,c=t().packsPage.params.sortPacks,r=t().filterState.nameFilter,o=void 0;t().filterState.onlyMyPacks&&(o=null===(n=t().auth.profile)||void 0===n?void 0:n._id);y(Object(p.a)(Object(p.a)({},a),{},{sortPacks:c,packName:r,user_id:o})).then((function(t){e({type:"SET-PACKS",packs:t.cardPacks}),e({type:"SET-TOTAL-PACKS-COUNT",totalPacksCount:t.cardPacksTotalCount})})).catch((function(t){console.log(t),e(q())})).finally((function(){return e(M("idle"))}))}};var yt=function(e){console.log("PacksPage called");var t=Object(d.b)(),n=Object(a.useState)({value:"",error:"",hide:!0,touched:!1}),c=Object(ee.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(!1),s=Object(ee.a)(i,2),l=s[0],u=(s[1],Object(d.c)((function(e){return e.filterState.nameFilter}))),j=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),b=Object(d.c)((function(e){return e.packsPage.params.sortPacks})),O="created"===b.slice(1),h=function(e){o(Object(p.a)(Object(p.a)({},r),{},{hide:e}))},f=e.packs.filter((function(e){return!u||e.name.includes(u)}));l&&(f=f.filter((function(e){return e.user_id===j})));var g=f.map((function(t){return Object(a.createElement)(_t,Object(p.a)(Object(p.a)({},t),{},{key:t._id,deleteCallback:function(){return e.deletePack(t._id)},updateCallback:function(n){return e.updatePack(t._id,n)}}))}));Object(a.useEffect)((function(){r.touched&&!r.value?o(Object(p.a)(Object(p.a)({},r),{},{error:"Required"})):o(Object(p.a)(Object(p.a)({},r),{},{error:""}))}),[r.value,r.touched]);var m=function(e){t(function(e){return{type:"SET-SORT-PACKS",sort:e}}(e)),t(wt())};return Object(K.jsxs)("div",{className:jt.a.packsPageWrapper,children:[Object(K.jsx)("h1",{className:jt.a.pageTitle,children:"Packs"}),Object(K.jsxs)("div",{className:jt.a.controlsContainer,children:[Object(K.jsxs)("div",{style:{alignSelf:"flex-start",marginBottom:"5px"},children:[Object(K.jsx)(me,{placeholder:"Pack name"}),Object(K.jsx)("span",{style:{fontSize:"12px",marginLeft:"2px",color:"gray"},children:"Show mine"})]}),Object(K.jsx)("div",{style:{alignSelf:"flex-end",marginBottom:"5px"},children:Object(K.jsx)(ye,{totalItems:e.totalPacksCount})})]}),Object(K.jsxs)("div",{className:jt.a.table,children:[Object(K.jsxs)("div",{className:jt.a.tableHeader,children:[Object(K.jsx)("div",{style:{width:"15%"},children:"Name"}),Object(K.jsx)("div",{style:{width:"10%"},children:"Cards count"}),Object(K.jsx)("div",{style:{width:"20%"},children:"User"}),Object(K.jsx)("div",{style:{width:"10%"},children:Object(K.jsx)("span",{className:"".concat(jt.a.sortSettings," ").concat(O?"":jt.a.activeSetting),onClick:function(){return m("updated")},children:"Updated ".concat("1updated"===b?"\u2191":"\u2193")})}),Object(K.jsx)("div",{style:{width:"10%",marginLeft:"12px"},children:Object(K.jsx)("span",{className:"".concat(jt.a.sortSettings," ").concat(O?jt.a.activeSetting:""),onClick:function(){return m("created")},children:"Created ".concat("1created"===b?"\u2191":"\u2193")})}),Object(K.jsx)("div",{style:{width:"15%"},children:r.hide?Object(K.jsx)(Ct,{buttonTitle:"Add Pack",modalText:"Enter new pack name",isMine:l,defaultAnswers:{answer1:"",answer2:""},answerCallback:function(t){t.answer1&&e.createPack(t.answer1),t.answer2&&alert(t.answer2)}}):Object(K.jsxs)("form",{className:jt.a.inputBlock,onSubmit:function(t){t.preventDefault(),o(Object(p.a)(Object(p.a)({},r),{},{touched:!0})),r.value?(e.createPack(r.value),h(!0)):r.touched&&h(!0)},children:[Object(K.jsx)("button",{className:jt.a.addButton,type:"submit",children:"Add"}),Object(K.jsx)(ie,{value:r.value,error:r.error,onChangeText:function(e){o(Object(p.a)(Object(p.a)({},r),{},{value:e.trim()}))},onBlur:function(e){o(Object(p.a)(Object(p.a)({},r),{},{touched:!0}))},placeholder:"Pack name"}),Object(K.jsx)("span",{onClick:function(){return h(!0)},children:"x"})]})}),Object(K.jsx)("div",{style:{width:"10%"}})]}),Object(K.jsx)("ul",{children:g})]})]})};var St=function(){console.log("PacksPageContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.appState.status})),c=Object(d.c)((function(e){return e.pagination.page})),r=Object(d.c)((function(e){return e.pagination.pageCount})),o=Object(d.c)((function(e){return e.filterState}));Object(a.useEffect)((function(){e(wt())}),[e,c,r,o.onlyMyPacks]);for(var i=Object(d.c)((function(e){return e.packsPage.packs})),s=Object(d.c)((function(e){return e.packsPage.totalPacksCount})),l=Object(d.c)((function(e){return e.pagination.pageCount})),j=Math.ceil(s/l),b=[],O=1;O<=j;O++)b.push(O);return"idle"!==n||t?Object(K.jsx)(yt,{packs:i,createPack:function(t){e(function(e){return function(t){t(M("loading")),S(e).then((function(){return t(wt())})).catch((function(e){console.log(e),t(q())})).finally((function(){return t(M("idle"))}))}}(t))},deletePack:function(t){e(function(e){return function(t){t(M("loading")),P(e).then((function(){return t(wt())})).catch((function(e){console.log(e),t(q())})).finally((function(){return t(M("idle"))}))}}(t))},updatePack:function(t,n){e(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UPDATED Pack";return function(n){n(M("loading")),N(e,t).then((function(){return n(wt())})).catch((function(e){console.log(e),n(q())})).finally((function(){return n(M("idle"))}))}}(t,n))},totalPacksCount:s}):Object(K.jsx)(u.a,{to:"/login"})},Pt=n(55),Nt=n.n(Pt);var Tt=function(){return Object(K.jsxs)("div",{className:Nt.a.page404,children:[Object(K.jsx)("h1",{children:"Page not found"}),Object(K.jsx)(l.b,{to:"/",children:Object(K.jsx)("span",{children:"Back to homepage"})})]})},It=n(6),Et=n.n(It);var Bt=function(e){var t=e.title,n=e.card,c=e.isMine,r=e.amount,o=e.index,i=e.smartMode,s=e.toggleMode,l=e.getNextCard,j=e.deleteCard,b=e.setGrade;console.log("LearnPage called");var O=Object(d.c)((function(e){return e.appState.status})),h=Object(d.c)((function(e){return e.auth.isLoggedIn})),f=Object(a.useState)(!1),p=Object(ee.a)(f,2),g=p[0],m=p[1],v=Object(a.useState)(0),x=Object(ee.a)(v,2),C=x[0],_=x[1];Object(a.useEffect)((function(){m(!1),_(0)}),[o]);var k=function(e){var t=e.target;_(+t.value),b(n._id,+t.value)};return"idle"!==O||h?Object(K.jsxs)("div",{className:Et.a.pageContainer,children:[Object(K.jsx)("h1",{children:t}),n&&Object(K.jsxs)("h2",{className:Et.a.modeTitle,onClick:s,children:[Object(K.jsx)("span",{style:{marginRight:"5px"},children:"Smart random is"}),Object(K.jsx)("span",{style:{color:i?"CadetBlue":"Salmon"},children:i?"ON":" OFF"})]}),Object(K.jsx)("h2",{className:"".concat(n?Et.a.cardsCount:Et.a.packEmpty,"\n            ").concat(i||o!==r?"":Et.a.lastCard),children:n||"idle"!==O?"".concat(o,"/").concat(r):"Pack is empty"}),n&&Object(K.jsxs)("div",{className:Et.a.cardContainer,children:[Object(K.jsxs)("div",{className:Et.a.card,children:[Object(K.jsx)("span",{className:Et.a.question,children:n.question}),"1"===c&&Object(K.jsx)("span",{className:Et.a.delete,onClick:function(){return j(n._id)},children:"Delete card"}),g?Object(K.jsxs)("div",{className:Et.a.answerContainer,children:[Object(K.jsx)("span",{className:Et.a.answer,children:n.answer}),Object(K.jsxs)("div",{className:Et.a.buttonsBlock,children:[Object(K.jsx)("button",{value:1,disabled:!!C,className:"".concat(Et.a.answerButton).concat(1===C?" "+Et.a.highlightAnswer:""),style:1===C?{border:"2px solid Maroon"}:{},onClick:k,children:"\u041d\u0435 \u0437\u043d\u0430\u043b"}),Object(K.jsx)("button",{value:2,disabled:!!C,className:"".concat(Et.a.answerButton).concat(2===C?" "+Et.a.highlightAnswer:""),style:2===C?{border:"2px solid Salmon"}:{},onClick:k,children:"\u0417\u0430\u0431\u044b\u043b"}),Object(K.jsx)("button",{value:3,disabled:!!C,className:"".concat(Et.a.answerButton).concat(3===C?" "+Et.a.highlightAnswer:""),style:3===C?{border:"2px solid Orange"}:{},onClick:k,children:"\u0414\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b"}),Object(K.jsx)("button",{value:4,disabled:!!C,className:"".concat(Et.a.answerButton).concat(4===C?" "+Et.a.highlightAnswer:""),style:4===C?{border:"2px solid CadetBlue"}:{},onClick:k,children:"\u041f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b"}),Object(K.jsx)("button",{value:5,disabled:!!C,className:"".concat(Et.a.answerButton).concat(5===C?" "+Et.a.highlightAnswer:""),style:5===C?{border:"2px solid LimeGreen"}:{},onClick:k,children:"\u0417\u043d\u0430\u043b"})]})]}):Object(K.jsx)("button",{className:Et.a.checkButton,onClick:function(){return m(!g)},children:"Check"})]}),Object(K.jsx)("button",{className:Et.a.nextButton,disabled:1===r&&!C,onClick:r>1?l:function(){_(0),m((function(e){return!e}))},children:Object(K.jsx)("span",{children:r>1?"Next":"Again?"})})]})]}):Object(K.jsx)(u.a,{to:"/login"})},Lt={packTitle:"Pack",cards:[],cardId:"",grade:0,cardIndex:0};var At=function(){console.log("LearnPageContainer called");var e=Object(d.b)(),t=(Object(d.c)((function(e){return e.auth.isLoggedIn})),Object(u.g)()),n=t.title?t.title:"Pack",c=t.id?t.id:"",r=t.isMine?t.isMine:"0",o=Object(d.c)((function(e){return e.cardsPage.cards})),i=Object(a.useState)(0),s=Object(ee.a)(i,2),l=s[0],j=s[1],b=Object(a.useState)(!1),O=Object(ee.a)(b,2),h=O[0],f=O[1],p=o[l];return Object(a.useEffect)((function(){e(pt(c,!1))}),[e,c]),Object(K.jsx)(Bt,{title:n,card:p,index:l+1,isMine:r,amount:o.length,smartMode:h,toggleMode:function(){return f((function(e){return!e}))},getNextCard:h?function(){var e=o.reduce((function(e,t){return e+Math.pow(6-t.grade,2)}),0),t=Math.random()*e,n=o.reduce((function(e,n,a){var c=e.sum+Math.pow(6-n.grade,2);return{sum:c,id:c<t?a:e.id}}),{sum:0,id:-1});j(n.id+1)}:function(){return j((function(e){return l+1>=o.length?0:e+1}))},deleteCard:function(t){e(gt(c,t,!1))},setGrade:function(t,n){e(function(e,t){return function(n){n(M("sending")),L(e,t).then((function(t){n(function(e,t){return{type:"UPDATE-CARD-GRADE",cardId:e,grade:t}}(e,t.grade))})).catch((function(e){console.log(e),n(q())})).finally((function(){return n(M("idle"))}))}}(t,n))}})},Rt=!0,Mt="nya-admin@nya.nya",Dt="1qazxcvBG";var Ft=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.appState.status}));return Object(a.useEffect)((function(){e(q())}),[e]),Object(K.jsx)(l.a,{children:Object(K.jsxs)("div",{className:"App",children:["loading"===t&&Object(K.jsx)(tt,{}),Object(K.jsx)(X,{}),Object(K.jsx)("div",{className:s.a.content,children:Object(K.jsxs)(u.d,{children:[Object(K.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(K.jsx)(Z,{})}}),Object(K.jsx)(u.b,{path:"/login",render:function(){return Object(K.jsx)(Ue,{})}}),Object(K.jsx)(u.b,{path:"/registration2",render:function(){return Object(K.jsx)(st,{})}}),Object(K.jsx)(u.b,{path:"/profile",render:function(){return Object(K.jsx)(Z,{})}}),Object(K.jsx)(u.b,{path:"/recover",render:function(){return Object(K.jsx)(Je,{})}}),Object(K.jsx)(u.b,{path:"/set-new-password/:token?",render:function(){return Object(K.jsx)($e,{})}}),Object(K.jsx)(u.b,{path:"/packs/",render:function(){return Object(K.jsx)(St,{})}}),Object(K.jsx)(u.b,{path:"/cards/:id?/:title?",render:function(){return Object(K.jsx)(vt,{})}}),Object(K.jsx)(u.b,{path:"/learn/:id?/:title?/:isMine?",render:function(){return Object(K.jsx)(At,{})}}),Object(K.jsx)(u.b,{path:"/demo",render:function(){return Object(K.jsx)(Ae,{})}}),Object(K.jsx)(u.b,{path:"/404",render:function(){return Object(K.jsx)(Tt,{})}}),Object(K.jsx)(u.a,{from:"*",to:"/404"})]})})]})})},Ht=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))},Ut=n(20),Gt=n(56),qt=Object(Ut.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(p.a)(Object(p.a)({},e),{},{status:t.status});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(p.a)(Object(p.a)({},e),{},{isLoggedIn:t.isLoggedIn});case F:return Object(p.a)(Object(p.a)({},e),{},{profile:t.profile});default:return e}},pageRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze:return Object(p.a)(Object(p.a)({},e),{},{timerIsOn:t.timerIsOn});default:return e}},pageRegistration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:return Object(p.a)(Object(p.a)({},e),{},{isSuccessfullyRegistered:t.isSuccessfullyRegistered});default:return e}},filterState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(p.a)(Object(p.a)({},e),{},{nameFilter:t.payload.searchObject.nameFilter,onlyMyPacks:t.payload.searchObject.onlyMyPacks});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return Object(p.a)(Object(p.a)({},e),{},{page:t.payload.value});case ke:return Object(p.a)(Object(p.a)({},e),{},{pageCount:t.payload.value});default:return e}},packsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PACKS":return Object(p.a)(Object(p.a)({},e),{},{packs:t.packs});case"SET-CURRENT-PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-PACKS-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalPacksCount:t.totalPacksCount});case"SET-SORT-PACKS":return Object(p.a)(Object(p.a)({},e),{},{params:Object(p.a)(Object(p.a)({},e.params),{},{sortPacks:"created"===t.sort?"1created"===e.params.sortPacks?"0created":"1created":"1updated"===e.params.sortPacks?"0updated":"1updated"})});default:return e}},cardsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CARDS":return Object(p.a)(Object(p.a)({},e),{},{cards:t.cards});case"SET-SORT-CARDS":return Object(p.a)(Object(p.a)({},e),{},{params:Object(p.a)(Object(p.a)({},e.params),{},{sortCards:"1grade"===e.params.sortCards?"0grade":"1grade"})});case"SET-PACK-TITLE":return Object(p.a)(Object(p.a)({},e),{},{packTitle:t.title});case"SET-CURRENT-PAGE":return Object(p.a)(Object(p.a)({},e),{},{currentPage:t.currentPage});case"SET-ITEMS-PER-PAGE":return Object(p.a)(Object(p.a)({},e),{},{itemsPerPage:t.itemsPerPage});case"SET-TOTAL-CARDS-COUNT":return Object(p.a)(Object(p.a)({},e),{},{totalCardsCount:t.totalCardsCount});default:return e}},learnPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE-CARD-GRADE":return Object(p.a)(Object(p.a)({},e),{},{cards:e.cards.map((function(e){return e._id===t.cardId?Object(p.a)(Object(p.a)({},e),{},{grade:t.grade}):e}))});default:return e}}}),Vt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ut.d,Kt=Object(Ut.e)(qt,Vt(Object(Ut.a)(Gt.a)));window.store=Kt;var Zt=Kt;o.a.render(Object(K.jsx)(c.a.StrictMode,{children:Object(K.jsx)(d.a,{store:Zt,children:Object(K.jsx)(Ft,{})})}),document.getElementById("root")),Ht()},9:function(e,t,n){e.exports={packsPageWrapper:"PacksPage_packsPageWrapper__3L10y",pageTitle:"PacksPage_pageTitle__3u7Ym",controlsContainer:"PacksPage_controlsContainer__1tliG",table:"PacksPage_table__2o7Vh",sortSettings:"PacksPage_sortSettings__3ga0l",activeSetting:"PacksPage_activeSetting__ehPrI",tableHeader:"PacksPage_tableHeader__1YVD1",packItem:"PacksPage_packItem__2Kc7J",inputBlock:"PacksPage_inputBlock__jV9s_",addButton:"PacksPage_addButton__WHXpF",itemIsNotMine:"PacksPage_itemIsNotMine__3-65N"}}},[[86,1,2]]]);
//# sourceMappingURL=main.b6a5d69b.chunk.js.map