(this.webpackJsonpfriday_project=this.webpackJsonpfriday_project||[]).push([[0],{12:function(e,t,n){e.exports={form:"Login_form__32Fyg",rememberMe:"Login_rememberMe__dRVr8",messageDefault:"Login_messageDefault__3l_EJ",credentialsContainer:"Login_credentialsContainer__R7oM-",credentialsString:"Login_credentialsString__5M3DA",credentialsTitle:"Login_credentialsTitle__2-ZDZ",credentialsValue:"Login_credentialsValue__jIh4G"}},15:function(e,t,n){e.exports={packsPageWrapper:"PacksPage_packsPageWrapper__3L10y",table:"PacksPage_table__2o7Vh",tableHeader:"PacksPage_tableHeader__1YVD1",packItem:"PacksPage_packItem__2Kc7J",inputBlock:"PacksPage_inputBlock__jV9s_",itemIsNotMine:"PacksPage_itemIsNotMine__3-65N"}},17:function(e,t,n){e.exports={inputItem:"SuperInputText_inputItem__3wSqk",superInput:"SuperInputText_superInput__2y9o7",errorInput:"SuperInputText_errorInput__1Tk9e",error:"SuperInputText_error__1l5Oe",inputErrorMessageArea:"SuperInputText_inputErrorMessageArea__1dWI0",title:"SuperInputText_title__2upz8"}},20:function(e,t,n){e.exports={form:"Registration_form__jtTlg",registrationErrorMessage:"Registration_registrationErrorMessage__1kz7v",demoContainer:"Registration_demoContainer__iUtpv"}},21:function(e,t,n){e.exports={profile:"Profile_profile__18LY6"}},23:function(e,t,n){e.exports={form:"Recover_form__DGr-v",timer:"Recover_timer__2fP7Q",timerContainer:"Recover_timerContainer__20gB8"}},26:function(e,t,n){e.exports={packsPageWrapper:"CardsPage_packsPageWrapper__2JI5t",table:"CardsPage_table__2DQ55",tableHeader:"CardsPage_tableHeader__fVl_U",packItem:"CardsPage_packItem__3ccLB",inputBlock:"CardsPage_inputBlock__1pJDB",itemIsNotMine:"CardsPage_itemIsNotMine__vk-Xv"}},32:function(e,t,n){e.exports={activeLink:"NavbarItem_activeLink__3JfRL"}},33:function(e,t,n){e.exports={default:"SuperButton_default__1H4I9",red:"SuperButton_red__1KP2a"}},34:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__7ru_C",spanClassName:"SuperCheckbox_spanClassName__3VuGm"}},35:function(e,t,n){e.exports={searchComponent:"SearchComponent_searchComponent__2mC3R",input:"SearchComponent_input__P-4tT"}},36:function(e,t,n){e.exports={dimScreen:"loader_dimScreen__Ia0cI",loader:"loader_loader__3hg5M"}},46:function(e,t,n){e.exports={App:"App_App__3lkBD",content:"App_content__XgHZo"}},49:function(e,t,n){e.exports={navbar:"Navbar_navbar__2UpRR",navbarItem:"Navbar_navbarItem__34Lgs"}},50:function(e,t,n){e.exports={main:"PaginationDisplay_main__2kxec"}},51:function(e,t,n){e.exports={main:"SortDisplay_main__SEqVJ"}},52:function(e,t,n){e.exports={page404:"Page404_page404__1B52C"}},58:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(24),o=n.n(c),i=(n(58),n(46)),s=n.n(i),l=n(6),u=n(5),d=n(3),j=n(21),b=n.n(j),O=n.p+"static/media/default_avatar.b82381d7.png",f=n(2),h=n(48),p=n.n(h).a.create({withCredentials:!0,baseURL:"https://neko-back.herokuapp.com/2.0",headers:{}}),g=function(){return p.post("/auth/me").then((function(e){return e.data}))},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return p.post("/auth/login",{email:e,password:t,rememberMe:n}).then((function(e){return e.data}))},m=function(){return p.delete("/auth/me")},x=function(e,t,n){return p.post("/auth/forgot",{email:e,from:t,message:n})},_=function(e,t){return p.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},C=function(e,t){return p.post("/auth/register",{email:e,password:t})},k=function(e){return p.get("/cards/pack",{params:e}).then((function(e){return e.data}))},y=function(e){return p.post("/cards/pack",{cardsPack:{name:e}})},w=function(e){return p.delete("/cards/pack?id=".concat(e))},S=function(e,t){return p.put("/cards/pack",{cardsPack:{_id:e,name:t}})},P=function(e,t){return p.get("/cards/card?cardsPack_id=".concat(e),{params:t}).then((function(e){return e.data}))},N=function(e){return p.post("/cards/card",{card:e})},T=function(e){return p.delete("/cards/card?id=".concat(e))},E=function(e){return p.put("/cards/card",{card:{_id:e,question:"updated"}})},I={status:"idle",isInitialized:!1},R="SET-APP-STATUS",L=function(e){return{type:R,status:e}},D="SET-IS-LOGGED-IN",A="SET-PROFILE",B={isLoggedIn:!1,profile:null},H=function(e){return{type:D,isLoggedIn:e}},M=function(e){return{type:A,profile:e}},U=function(){return function(e){e(L("loading")),g().then((function(t){e(M(t)),e(H(!0))})).catch((function(t){console.log("Error: ",Object(f.a)({},t)),e(H(!1))})).finally((function(){return e(L("idle"))}))}},V=function(){return function(e){e(L("loading")),m().then((function(t){e(H(!1))})).catch((function(e){return console.log("Error: ",Object(f.a)({},e))})).finally((function(){return e(L("idle"))}))}},F=n(0);var G=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.auth.profile}));return Object(F.jsxs)("div",{children:[Object(F.jsx)("h1",{className:b.a.profile,children:"Profile"}),t&&n?Object(F.jsxs)("div",{className:b.a.profileData,children:[n.avatar?Object(F.jsx)("div",{children:Object(F.jsx)("img",{src:n.avatar,alt:"",width:"100",height:""})}):Object(F.jsx)("img",{src:O,alt:"",width:"100",height:"100"}),Object(F.jsxs)("div",{className:b.a.name,children:["Name: ",n.name]}),Object(F.jsxs)("div",{className:b.a.email,children:["email: ",n.email]}),Object(F.jsxs)("div",{className:b.a.packsCount,children:["Public card packs count: ",n.publicCardPacksCount]}),Object(F.jsx)("button",{onClick:function(){return e(V())},children:"Log out"})]}):Object(F.jsx)(u.a,{to:"/login"})]})},q=n(49),z=n.n(q),K=n(32),Z=n.n(K);function J(e){return Object(F.jsx)("div",{className:Z.a.item,children:Object(F.jsx)(l.b,{to:e.to,activeClassName:Z.a.activeLink,children:e.title})})}function $(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn}));return Object(F.jsxs)("nav",{className:z.a.navbar,children:[t?Object(F.jsx)("button",{onClick:function(){return e(V())},children:"Logout"}):Object(F.jsx)(J,{to:"/login",title:"Login"}),!t&&Object(F.jsx)(J,{to:"/registration2",title:"Registration"}),Object(F.jsx)(J,{to:"/profile",title:"Profile"}),Object(F.jsx)(J,{to:"/set-new-password",title:"Password"}),Object(F.jsx)(J,{to:"/recover",title:"Recover Pass"}),Object(F.jsx)(J,{to:"/packs",title:"Packs"}),Object(F.jsx)(J,{to:"/cards",title:"Cards"}),Object(F.jsx)(J,{to:"/demo",title:"Demo"})]})}var W=n(7),X=n(19),Q=n(33),Y=n.n(Q),ee=function(e){var t=e.red,n=e.className,r=Object(X.a)(e,["red","className"]),a="".concat(t?Y.a.red:Y.a.default," ").concat(n);return Object(F.jsx)("button",Object(f.a)({className:a},r))},te=n(17),ne=n.n(te),re=function(e){var t=e.onChange,n=e.onChangeText,r=e.onKeyPress,a=e.onEnter,c=e.error,o=e.className,i=e.spanClassName,s=e.title,l=Object(X.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","title"]),u="".concat(ne.a.error," ").concat(i||""),d="".concat(c?ne.a.errorInput:ne.a.superInput," ").concat(o);return Object(F.jsxs)("div",{className:ne.a.inputItem,children:[s&&Object(F.jsx)("div",{className:ne.a.title,children:s}),Object(F.jsx)("input",Object(f.a)({onChange:function(e){t&&t(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){r&&r(e),"Enter"===e.key&&a&&a()},className:d},l)),Object(F.jsx)("div",{className:ne.a.inputErrorMessageArea,children:c&&Object(F.jsx)("span",{className:u,children:c})})]})},ae=n(34),ce=n.n(ae),oe=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=(e.spanClassName,e.children),c=Object(X.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),o="".concat(ce.a.checkbox," ").concat(r||"");return Object(F.jsxs)("label",{children:[Object(F.jsx)("input",Object(f.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:o},c)),a&&Object(F.jsx)("span",{className:ce.a.spanClassName,children:a})]})},ie=n(20),se=n.n(ie),le=n(35),ue=n.n(le);var de=function(e){var t=e.value,n=e.onChangeHandler,r=e.onSubmitHandler;return Object(F.jsxs)("div",{className:ue.a.searchComponent,children:[Object(F.jsx)("input",{type:"text",className:ue.a.input,value:t,onChange:function(e){return n(e.currentTarget.value)},onKeyPress:function(e){"Enter"===e.key&&r(e.target.value)},onBlur:function(e){r(e.target.value)},placeholder:"Find on page"}),Object(F.jsx)("button",{onClick:function(){n(""),r("")},children:"x"})]})},je="SET_SEARCH_VALUE",be={searchValue:""};var Oe=function(){var e=Object(d.b)(),t=Object(r.useState)({value:""}),n=Object(W.a)(t,2),a=n[0],c=n[1],o=function(t){e({type:je,payload:{value:t}})};return Object(r.useEffect)((function(){o(a.value)}),[a.value]),Object(F.jsx)("div",{children:Object(F.jsx)(de,{value:a.value,onChangeHandler:function(e){c({value:e})},onSubmitHandler:o})})},fe=n(50),he=n.n(fe);var pe=function(e){for(var t=e.currentPage,n=e.totalItems,r=e.itemsOnPage,a=e.getPage,c=e.getItemsOnPage,o=[],i=Math.ceil(n/r),s=function(e){o.push(Object(F.jsx)("button",{style:{background:t===e?"lightblue":void 0},onClick:function(){return a(e)},children:e},e))},l=1;l<=i;l++)s(l);return Object(F.jsxs)("div",{className:he.a.main,children:[Object(F.jsxs)("select",{value:r,onChange:function(e){c(Number(e.currentTarget.value))},style:{},children:[Object(F.jsx)("option",{value:5,children:"5"}),Object(F.jsx)("option",{value:10,children:"10"}),Object(F.jsx)("option",{value:20,children:"20"}),Object(F.jsx)("option",{value:50,children:"50"})]}),o]})},ge="SET_CURRENT_PAGE",ve="SET_ITEMS_ON_PAGE",me={page:1,pageCount:10},xe=function(e){return{type:ge,payload:{value:e}}},_e=function(e){return{type:ve,payload:{value:e}}};var Ce=function(e){var t=e.totalItems,n=Object(d.b)(),r=Object(d.c)((function(e){return e.pagination}));return Object(F.jsx)("div",{children:Object(F.jsx)(pe,{currentPage:r.page,itemsOnPage:r.pageCount,totalItems:t,getPage:function(e){n(xe(e))},getItemsOnPage:function(e){n(_e(e))}})})},ke=n(51),ye=n.n(ke);var we=function(e){for(var t=e.currentPage,n=e.totalItems,r=e.itemsOnPage,a=e.getPage,c=e.getItemsOnPage,o=[],i=Math.ceil(n/r),s=function(e){o.push(Object(F.jsx)("button",{style:{background:t===e?"lightblue":void 0},onClick:function(){return a(e)},children:e},e))},l=1;l<=i;l++)s(l);return Object(F.jsxs)("div",{className:ye.a.main,children:[Object(F.jsxs)("select",{value:r,onChange:function(e){c(Number(e.currentTarget.value))},style:{},children:[Object(F.jsx)("option",{value:5,children:"5"}),Object(F.jsx)("option",{value:10,children:"10"}),Object(F.jsx)("option",{value:20,children:"20"}),Object(F.jsx)("option",{value:50,children:"50"})]}),o]})};var Se=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.pagination}));return Object(F.jsx)("div",{children:Object(F.jsx)(we,{currentPage:t.page,itemsOnPage:t.pageCount,totalItems:54,getPage:function(t){e(xe(t))},getItemsOnPage:function(t){e(_e(t))}})})};var Pe=function(){var e=Object(r.useState)(""),t=Object(W.a)(e,2),n=t[0],a=t[1],c=n?"":"Field can't be empty",o=function(){c?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442"):alert(n)},i=Object(r.useState)(!1),s=Object(W.a)(i,2),l=s[0],u=s[1];return Object(F.jsxs)("div",{className:se.a.demoContainer,children:[Object(F.jsx)("h1",{children:"SuperInputs Demo"}),Object(F.jsxs)("div",{children:[Object(F.jsx)(re,{value:n,onChangeText:a,onEnter:o,error:c,className:se.a.green}),Object(F.jsx)(ee,{red:""===n,onClick:o,children:"Button "}),Object(F.jsx)(oe,{checked:l,onChangeChecked:u,children:"CheckboxText "}),Object(F.jsxs)("div",{children:["SearchComponent:",Object(F.jsx)("div",{style:{border:"solid 1px black"},children:Object(F.jsx)(Oe,{})})]}),Object(F.jsxs)("div",{children:["Pagination:",Object(F.jsx)("div",{style:{border:"solid 1px black"},children:Object(F.jsx)(Ce,{totalItems:50})})]}),Object(F.jsxs)("div",{children:["Sort:",Object(F.jsx)("div",{style:{border:"solid 1px black"},children:Object(F.jsx)(Se,{})})]})]})]})},Ne=n(14),Te=function(e,t){switch(t){case"email":return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e)?"":"Invalid email";case"password":return/^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(e)?"":"Invalid password";default:return""}},Ee=n(12),Ie=n.n(Ee);var Re=function(e){var t=e.formState,n=e.onChangeHandler,r=e.onBlurHandler,a=e.checkBoxHandler,c=e.onSubmitHandler;console.log("Login called");var o=t.email,i=t.password,s=t.rememberMe,u=!!(o.error||i.error||t.globalFormError);return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("form",{className:Ie.a.form,onSubmit:function(e){e.preventDefault(),c(o.value,i.value,s)},children:[Object(F.jsx)("h1",{children:"Sign in"}),Object(F.jsx)(re,{value:o.value,error:o.error,onChangeText:n("email"),onBlur:r("email"),placeholder:"Email",type:"text"}),Object(F.jsx)(re,{value:i.value,error:i.error,onChangeText:n("password"),onBlur:r("password"),placeholder:"Password",type:"password"}),Object(F.jsx)(l.b,{to:"/recover",children:Object(F.jsx)("span",{children:"Forgot password?"})}),Object(F.jsxs)("div",{className:Ie.a.rememberMe,children:[Object(F.jsx)(oe,{onChangeChecked:a,checked:s}),Object(F.jsx)("span",{children:"Remember me"})]}),Object(F.jsx)(ee,{disabled:u,type:"submit",children:"Sign in"})]}),vt?Object(F.jsxs)("div",{className:Ie.a.messageDefault,children:[Object(F.jsx)("div",{children:"To sign in you can use test account credentials:"}),Object(F.jsxs)("div",{className:Ie.a.credentialsContainer,children:[Object(F.jsxs)("div",{className:Ie.a.credentialsString,children:[Object(F.jsx)("div",{className:Ie.a.credentialsTitle,children:"email:"}),Object(F.jsx)("div",{className:Ie.a.credentialsValue,children:"".concat(mt)})]}),Object(F.jsxs)("div",{className:Ie.a.credentialsString,children:[Object(F.jsx)("div",{className:Ie.a.credentialsTitle,children:"password:"}),Object(F.jsx)("div",{className:Ie.a.credentialsValue,children:"".concat(xt)})]})]})]}):""]})};var Le=function(){console.log("LoginContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(r.useState)({email:{value:vt?mt:"",error:"",touched:!1},password:{value:vt?xt:"",error:"",touched:!1},rememberMe:!1,globalFormError:""}),a=Object(W.a)(n,2),c=a[0],o=a[1];return t?Object(F.jsx)(u.a,{to:"profile"}):Object(F.jsx)("div",{children:Object(F.jsx)(Re,{formState:c,onChangeHandler:function(e){return function(t){o(Object(f.a)(Object(f.a)({},c),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},c[e]),{},{value:t.trim(),error:c[e].touched?Te(t,e):""}))))}},onBlurHandler:function(e){return function(t){o(Object(f.a)(Object(f.a)({},c),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},c[e]),{},{error:c[e].value?Te(t.target.value,e):"Required field",touched:!0}))))}},checkBoxHandler:function(e){o(Object(f.a)(Object(f.a)({},c),{},{rememberMe:e}))},onSubmitHandler:function(t,n,r){e(function(e,t,n){return function(r){r(L("loading")),v(e,t,n).then((function(e){r(M(e)),r(H(!0))})).catch((function(e){return console.log("Error: ",Object(f.a)({},e))})).finally((function(){return r(L("idle"))}))}}(t,n,r))}})})},De=n(23),Ae=n.n(De);var Be=function(e){var t=e.getTime,n=e.hideTimer;console.log("RecoverTimer called");var a=Object(r.useState)(t()),c=Object(W.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){var e=setInterval((function(){return i(t()),void(t()<0&&n(!1))}),1e3);return function(){return clearInterval(e)}}),[]),Object(F.jsx)("span",{className:Ae.a.timer,children:"Time till next link: ".concat(function(e){var t=e%6e4/1e3;return Math.floor(e/6e4)+":"+(t<10?"0":"")+Math.floor(t)}(o))})},He={timerIsOn:!1},Me="TOGGLE-TIMER-STATUS",Ue=function(e){return{type:Me,timerIsOn:e}},Ve=function(e){var t=e.formState,n=e.onChangeHandler,r=e.onBlurHandler,a=e.onSubmitHandler;console.log("Recover called");var c=Object(d.b)(),o=function(){return Number(localStorage.timerData)+11e3-Date.now()};c(Ue(o()>0));var i=Object(d.c)((function(e){return e.pageRecover.timerIsOn}));return Object(F.jsxs)("form",{className:Ae.a.form,onSubmit:function(e){e.preventDefault(),a(t.value)},children:[Object(F.jsx)("h1",{children:"Recover"}),Object(F.jsx)(re,{value:t.value,error:t.error,onChangeText:n,onBlur:r,placeholder:"Email"}),Object(F.jsx)("div",{className:Ae.a.timerContainer,children:i?Object(F.jsx)(Be,{getTime:o,hideTimer:function(){c(Ue(!1))}}):Object(F.jsx)(ee,{disabled:!!t.error,type:"submit",children:"Send"})}),Object(F.jsx)(l.b,{to:"/login",children:Object(F.jsx)("span",{children:"Login page"})})]})};!localStorage.timerData&&localStorage.setItem("timerData","0");var Fe=function(){console.log("RecoverContainer called");var e=Object(d.b)(),t=Object(r.useState)({value:"",error:"",touched:!1}),n=Object(W.a)(t,2),a=n[0],c=n[1],o="".concat(window.location.origin,"/#/set-new-password");return Object(F.jsx)(Ve,{formState:a,onChangeHandler:function(e){c(Object(f.a)(Object(f.a)({},a),{},{value:e.trim(),error:a.touched?Te(e,"email"):""}))},onBlurHandler:function(e){c(Object(f.a)(Object(f.a)({},a),{},{error:a.value?Te(e.target.value,"email"):"Required field",touched:!0}))},onSubmitHandler:function(t){c(Object(f.a)(Object(f.a)({},a),{},{error:a.value?Te(t,"email"):"Required field",touched:!0})),Te(a.value,"email")||e(function(e,t){return function(n){var r='<div style="background-color: lime; padding: 15px"> password recovery link:\n         <a href=\''.concat(t,"/$token$'>link</a></div>");x(e,"Administrator",r).then((function(e){})).catch((function(e){console.log("Recover Error",e)})).finally((function(){localStorage.timerData=Date.now(),n(Ue(!0))}))}}(t,o))}})},Ge=function(e){var t=e.formState,n=e.onChangeHandler,r=e.onBlurHandler,a=e.onSubmitHandler;console.log("NewPassword called");var c=!(!t.password.error&&!t.confirm.error);return Object(F.jsxs)("form",{className:Ie.a.form,onSubmit:function(e){e.preventDefault(),a(t.password.value)},children:[Object(F.jsx)("h1",{children:"New password"}),Object(F.jsx)(re,{value:t.password.value,error:t.password.error,onChangeText:n("password"),onBlur:r("password"),placeholder:"Enter new password",type:"password"}),Object(F.jsx)(re,{value:t.confirm.value,error:t.confirm.error,onChangeText:n("confirm"),onBlur:r("confirm"),placeholder:"Confirm",type:"password"}),Object(F.jsx)(ee,{disabled:c,type:"submit",children:"Send"}),Object(F.jsx)(l.b,{to:"/login",children:Object(F.jsx)("span",{children:"Login page"})})]})};var qe=function(){console.log("NewPasswordContainer called");var e=Object(d.b)(),t=Object(u.g)(),n=t.token?t.token:"";window.history.replaceState(null,"","/#/set-new-password");var a=Object(r.useState)({password:{value:"",error:"",touched:!1},confirm:{value:"",error:"",touched:!1}}),c=Object(W.a)(a,2),o=c[0],i=c[1];return Object(F.jsx)(Ge,{formState:o,onChangeHandler:function(e){return function(t){i(Object(f.a)(Object(f.a)({},o),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},o[e]),{},{value:t.trim(),error:o[e].touched?Te(t,"password"):""}))))}},onBlurHandler:function(e){return function(t){i(Object(f.a)(Object(f.a)({},o),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},o[e]),{},{error:o[e].value?Te(t.target.value,"password"):"Required field",touched:!0}))))}},onSubmitHandler:function(t){var r=o.password.value?o.password.value!==o.confirm.value?"Passwords do not match":"":"Please enter new password";r?i(Object(f.a)(Object(f.a)({},o),{},{password:Object(f.a)(Object(f.a)({},o.password),{},{error:" ",touched:!0}),confirm:Object(f.a)(Object(f.a)({},o.confirm),{},{error:r,touched:!0})})):e(function(e,t){return function(n){n(L("loading")),_(e,t).then((function(e){n(H(!1))})).catch((function(e){return console.log("Error: ",Object(f.a)({},e))})).finally((function(){return n(L("idle"))}))}}(t,n))}})},ze=n(36),Ke=n.n(ze),Ze=n.p+"static/media/loader.b257f2d9.svg";function Je(){return Object(F.jsx)("div",{className:"".concat(Ke.a.dimScreen),children:Object(F.jsx)("img",{className:Ke.a.loader,src:Ze,alt:"Loading..."})})}var $e=function(e){var t=e.registrationFormState,n=e.onChangeHandler,r=e.onBlurHandler,a=e.onSubmitHandler,c=t.email,o=t.password,i=t.password2,s=t.errorResponse,l=!!(c.error||o.error||i.error||t.globalFormError);return Object(F.jsxs)("form",{className:se.a.form,onSubmit:function(e){e.stopPropagation(),a(c.value,o.value)},children:[Object(F.jsx)("h1",{children:"Sign Up"}),Object(F.jsx)("div",{className:se.a.registrationErrorMessage,children:s}),Object(F.jsxs)("div",{children:[Object(F.jsx)(re,{title:"Email",value:c.value,error:c.error,onChangeText:n("email"),onBlur:r("email"),type:"text"}),Object(F.jsx)(re,{title:"Password",value:o.value,error:o.error,onChangeText:n("password"),onBlur:r("password"),type:"password"}),Object(F.jsx)(re,{title:"Confirm password",value:i.value,error:i.error,onChangeText:n("password2"),onBlur:r("password2"),type:"password"}),Object(F.jsx)(ee,{disabled:l,type:"submit",children:"Sign up "})]})]})},We=function(e,t,n){switch(e){case"email":return/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(t)?"":"Invalid email";case"password":return/^[a-zA-Z0-9!@#$%^&*]{6,16}$/i.test(t)?"":"Invalid password";case"password2":return t===n?"":"Please make sure your passwords match";default:return""}},Xe="SET-SUCCESSFULLY-REGISTERED",Qe={isSuccessfullyRegistered:!1},Ye=function(e){return{type:Xe,isSuccessfullyRegistered:e}},et={email:{value:"",error:"",touched:!1},password:{value:"",error:"",touched:!1},password2:{value:"",error:"",touched:!1},errorResponse:"",successfullyRegistered:!1,globalFormError:""};var tt=function(){console.log("Registration Container component called");var e=Object(d.b)(),t=(Object(d.c)((function(e){return e.auth.isLoggedIn})),Object(d.c)((function(e){return e.pageRegistration.isSuccessfullyRegistered}))),n=Object(r.useState)(et),a=Object(W.a)(n,2),c=a[0],o=a[1];return Object(r.useEffect)((function(){t&&e(Ye(!1))})),t?Object(F.jsx)(u.a,{to:"profile"}):Object(F.jsx)($e,{registrationFormState:c,onChangeHandler:function(e){return function(t){o(Object(f.a)(Object(f.a)({},c),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},c[e]),{},{value:t.trim(),error:c[e].touched?We(e,t,c.password.value):""}))))}},onBlurHandler:function(e){return function(t){o(Object(f.a)(Object(f.a)({},c),{},Object(Ne.a)({},e,Object(f.a)(Object(f.a)({},c[e]),{},{error:c[e].value?We(e,t.target.value,c.password.value):"Required field",touched:!0}))))}},onSubmitHandler:function(t,n){e(function(e,t){return function(n){n(L("loading")),C(e,t).then((function(e){n(Ye(!0))})).catch((function(e){return console.log("Error: ",Object(f.a)({},e))})).finally((function(){return n(L("idle"))}))}}(t,n))}})},nt=n(26),rt=n.n(nt),at=n(15),ct=n.n(at);var ot=function(e){var t=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),n=e.user_id===t,r=new Date(e.updated).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"}),a=new Date(e.created).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"});return Object(F.jsx)("li",{children:Object(F.jsxs)("div",{className:"".concat(ct.a.packItem).concat(n?"":" "+ct.a.itemIsNotMine),children:[Object(F.jsx)("div",{style:{width:"15%"},children:e.question}),Object(F.jsx)("div",{style:{width:"10%"},children:e.answer}),Object(F.jsx)("div",{style:{width:"15%"},children:Math.round(100*(e.grade+Number.EPSILON))/100}),Object(F.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:r}),Object(F.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:a}),Object(F.jsxs)("div",{style:{width:"15%"},children:[Object(F.jsx)("button",{disabled:!n,onClick:e.deleteCallback,children:"Delete"}),Object(F.jsx)("button",{style:{marginLeft:"5px"},disabled:!n,onClick:e.updateCallback,children:"Update"})]}),Object(F.jsx)("div",{style:{width:"25%"}})]})})};var it=function(e){console.log("CardsPage called");var t=Object(d.c)((function(e){return e.searchValue.searchValue})),n=Object(d.c)((function(t){return t.packsPage.packs.find((function(t){return t._id===e.packId}))})),a=n?n.name:"Pack",c=e.cards.filter((function(e){return!t||e.question.includes(t)})).map((function(t){return Object(r.createElement)(ot,Object(f.a)(Object(f.a)({},t),{},{key:t._id,deleteCallback:function(){return e.deleteCard(e.packId,t._id)},updateCallback:function(){return e.updateCard(e.packId,t._id)}}))}));return Object(F.jsxs)("div",{className:rt.a.packsPageWrapper,children:[Object(F.jsx)("h1",{style:{alignSelf:"center"},children:a}),Object(F.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(F.jsx)("div",{style:{alignSelf:"flex-start",marginBottom:"5px"},children:Object(F.jsx)(Oe,{})}),Object(F.jsx)("div",{style:{alignSelf:"flex-end",marginBottom:"5px"},children:Object(F.jsx)(Ce,{totalItems:e.totalCardsCount})})]}),Object(F.jsxs)("div",{className:rt.a.table,children:[Object(F.jsxs)("div",{className:rt.a.tableHeader,children:[Object(F.jsx)("div",{style:{width:"15%"},children:"Question"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Answer"}),Object(F.jsx)("div",{style:{width:"15%"},children:"Grade"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Updated"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Created"}),Object(F.jsx)("div",{style:{width:"15%"},children:Object(F.jsx)("button",{onClick:function(){return e.createCard(e.packId)},children:"New card"})}),Object(F.jsx)("div",{style:{width:"25%"}})]}),Object(F.jsx)("ul",{children:c})]})]})},st={packTitle:"Pack",cards:[],totalCardsCount:0,itemsPerPage:5,currentPage:1,params:{page:1,pageCount:10,sortCards:"1grade"}},lt=function(e){return function(t,n){t(L("loading"));var r=n().pagination;P(e,Object(f.a)(Object(f.a)({},r),{},{sortCards:"1grade"})).then((function(e){t({type:"SET-CARDS",cards:e.cards}),t({type:"SET-TOTAL-CARDS-COUNT",totalCardsCount:e.cardsTotalCount})})).catch((function(e){console.log(e),t(U())})).finally((function(){return t(L("idle"))}))}};var ut=function(){console.log("CardsPageContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.pagination.page})),a=Object(d.c)((function(e){return e.pagination.pageCount})),c=Object(u.g)(),o=c.id?c.id:"";Object(r.useEffect)((function(){e(lt(o))}),[e,o,n,a]);for(var i=Object(d.c)((function(e){return e.cardsPage.cards})),s=Object(d.c)((function(e){return e.cardsPage.totalCardsCount})),l=Object(d.c)((function(e){return e.pagination.pageCount})),j=Math.ceil(s/l),b=[],O=1;O<=j;O++)b.push(O);return t?Object(F.jsx)(it,{cards:i,packId:o,createCard:function(t){e(function(e){return function(t){t(L("loading")),N({question:"New Card",cardsPack_id:e}).then((function(){return t(lt(e))})).catch((function(e){console.log(e),t(U())})).finally((function(){t(L("idle"))}))}}(t))},deleteCard:function(t,n){e(function(e,t){return function(n){n(L("loading")),T(t).then((function(){return n(lt(e))})).catch((function(e){console.log(e),n(U())})).finally((function(){return n(L("idle"))}))}}(t,n))},updateCard:function(t,n){e(function(e,t,n){return function(n){n(L("loading")),E(t).then((function(){return n(lt(e))})).catch((function(e){console.log(e),n(U())})).finally((function(){return n(L("idle"))}))}}(t,n))},totalCardsCount:s}):Object(F.jsx)(u.a,{to:"/login"})};var dt=function(e){var t=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),n=e.user_id===t,r=new Date(e.updated).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"}),a=new Date(e.created).toLocaleDateString("en-UE",{hour12:!1,hour:"numeric",minute:"numeric"});return Object(F.jsx)("li",{children:Object(F.jsxs)("div",{className:"".concat(ct.a.packItem).concat(n?"":" "+ct.a.itemIsNotMine),children:[Object(F.jsx)("div",{style:{width:"15%"},children:e.name}),Object(F.jsx)("div",{style:{width:"10%"},children:e.cardsCount}),Object(F.jsx)("div",{style:{width:"20%",fontSize:"12px",color:"gray"},children:e.user_name}),Object(F.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:r}),Object(F.jsx)("div",{style:{width:"10%",fontSize:"12px"},children:a}),Object(F.jsxs)("div",{style:{width:"15%"},children:[Object(F.jsx)("button",{disabled:!n,onClick:e.deleteCallback,children:"Delete"}),Object(F.jsx)("button",{style:{marginLeft:"5px"},disabled:!n,onClick:e.updateCallback,children:"Update"})]}),Object(F.jsx)("div",{style:{width:"20%"},children:Object(F.jsx)(l.b,{to:"/cards/".concat(e._id),children:"cards"})})]})})};var jt=function(e){console.log("CardsPage called");var t=Object(r.useState)({value:"",error:"",hide:!0,touched:!1}),n=Object(W.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(!1),i=Object(W.a)(o,2),s=i[0],l=i[1],u=Object(d.c)((function(e){return e.searchValue.searchValue})),j=Object(d.c)((function(e){var t;return null===(t=e.auth.profile)||void 0===t?void 0:t._id})),b=function(e){c(Object(f.a)(Object(f.a)({},a),{},{hide:e}))},O=e.packs.filter((function(e){return!u||e.name.includes(u)}));s&&(O=O.filter((function(e){return e.user_id===j})));var h=O.map((function(t){return Object(r.createElement)(dt,Object(f.a)(Object(f.a)({},t),{},{key:t._id,deleteCallback:function(){return e.deletePack(t._id)},updateCallback:function(){return e.updatePack(t._id)}}))}));return Object(r.useEffect)((function(){a.touched&&!a.value?c(Object(f.a)(Object(f.a)({},a),{},{error:"Required"})):c(Object(f.a)(Object(f.a)({},a),{},{error:""}))}),[a.value,a.touched]),Object(F.jsxs)("div",{className:ct.a.packsPageWrapper,children:[Object(F.jsx)("h1",{style:{alignSelf:"center"},children:"Packs"}),Object(F.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[Object(F.jsxs)("div",{style:{alignSelf:"flex-start",marginBottom:"5px"},children:[Object(F.jsx)(Oe,{}),Object(F.jsx)("input",{type:"checkbox",checked:s,onChange:function(){return l(!s)}}),Object(F.jsx)("span",{style:{fontSize:"12px",marginLeft:"2px",color:"gray"},children:"Show mine"})]}),Object(F.jsx)("div",{style:{alignSelf:"flex-end",marginBottom:"5px"},children:Object(F.jsx)(Ce,{totalItems:e.totalPacksCount})})]}),Object(F.jsxs)("div",{className:ct.a.table,children:[Object(F.jsxs)("div",{className:ct.a.tableHeader,children:[Object(F.jsx)("div",{style:{width:"15%"},children:"Name"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Cards count"}),Object(F.jsx)("div",{style:{width:"20%"},children:"User"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Updated"}),Object(F.jsx)("div",{style:{width:"10%"},children:"Created"}),Object(F.jsx)("div",{style:{width:"15%"},children:a.hide?Object(F.jsx)("button",{onClick:function(){return b(!1)},children:"Add"}):Object(F.jsxs)("form",{className:ct.a.inputBlock,onSubmit:function(t){t.preventDefault(),c(Object(f.a)(Object(f.a)({},a),{},{touched:!0})),a.value?(e.createPack(a.value),b(!0)):a.touched&&b(!0)},children:[Object(F.jsx)("button",{type:"submit",children:"Add"}),Object(F.jsx)(re,{value:a.value,error:a.error,onChangeText:function(e){c(Object(f.a)(Object(f.a)({},a),{},{value:e.trim()}))},onBlur:function(e){c(Object(f.a)(Object(f.a)({},a),{},{touched:!0}))},placeholder:"Pack name"}),Object(F.jsx)("span",{onClick:function(){return b(!0)},children:"x"})]})}),Object(F.jsx)("div",{style:{width:"20%"}})]}),Object(F.jsx)("ul",{children:h})]})]})},bt={packs:[],totalPacksCount:0,currentPage:1,params:{page:1,pageCount:10,sortPacks:"0updated"}},Ot=function(){return function(e,t){e(L("loading"));var n=t().pagination;k(Object(f.a)(Object(f.a)({},n),{},{sortPacks:"0updated"})).then((function(t){e({type:"SET-PACKS",packs:t.cardPacks}),e({type:"SET-TOTAL-PACKS-COUNT",totalPacksCount:t.cardPacksTotalCount})})).catch((function(t){console.log(t),e(U())})).finally((function(){return e(L("idle"))}))}};var ft=function(){console.log("PacksPageContainer called");var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.isLoggedIn})),n=Object(d.c)((function(e){return e.pagination.page})),a=Object(d.c)((function(e){return e.pagination.pageCount}));Object(r.useEffect)((function(){e(Ot())}),[e,n,a]);for(var c=Object(d.c)((function(e){return e.packsPage.packs})),o=Object(d.c)((function(e){return e.packsPage.totalPacksCount})),i=Object(d.c)((function(e){return e.pagination.pageCount})),s=Math.ceil(o/i),l=[],j=1;j<=s;j++)l.push(j);return t?Object(F.jsx)(jt,{packs:c,createPack:function(t){e(function(e){return function(t){t(L("loading")),y(e).then((function(){return t(Ot())})).catch((function(e){console.log(e),t(U())})).finally((function(){return t(L("idle"))}))}}(t))},deletePack:function(t){e(function(e){return function(t){t(L("loading")),w(e).then((function(){return t(Ot())})).catch((function(e){console.log(e),t(U())})).finally((function(){return t(L("idle"))}))}}(t))},updatePack:function(t){e(function(e,t){return function(t){t(L("loading")),S(e,"UPDATED Pack").then((function(){return t(Ot())})).catch((function(e){console.log(e),t(U())})).finally((function(){return t(L("idle"))}))}}(t))},totalPacksCount:o}):Object(F.jsx)(u.a,{to:"/login"})},ht=n(52),pt=n.n(ht);var gt=function(){return Object(F.jsxs)("div",{className:pt.a.page404,children:[Object(F.jsx)("h1",{children:"Page not found"}),Object(F.jsx)(l.b,{to:"/",children:Object(F.jsx)("span",{children:"Back to homepage"})})]})},vt=!0,mt="nya-admin@nya.nya",xt="1qazxcvBG";var _t=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.appState.status}));return Object(r.useEffect)((function(){e(U())}),[e]),Object(F.jsx)(l.a,{children:Object(F.jsxs)("div",{className:"App",children:["loading"===t&&Object(F.jsx)(Je,{}),Object(F.jsx)($,{}),Object(F.jsx)("div",{className:s.a.content,children:Object(F.jsxs)(u.d,{children:[Object(F.jsx)(u.b,{exact:!0,path:"/",render:function(){return Object(F.jsx)(G,{})}}),Object(F.jsx)(u.b,{path:"/login",render:function(){return Object(F.jsx)(Le,{})}}),Object(F.jsx)(u.b,{path:"/registration2",render:function(){return Object(F.jsx)(tt,{})}}),Object(F.jsx)(u.b,{path:"/profile",render:function(){return Object(F.jsx)(G,{})}}),Object(F.jsx)(u.b,{path:"/recover",render:function(){return Object(F.jsx)(Fe,{})}}),Object(F.jsx)(u.b,{path:"/set-new-password/:token?",render:function(){return Object(F.jsx)(qe,{})}}),Object(F.jsx)(u.b,{path:"/packs/",render:function(){return Object(F.jsx)(ft,{})}}),Object(F.jsx)(u.b,{path:"/cards/:id?",render:function(){return Object(F.jsx)(ut,{})}}),Object(F.jsx)(u.b,{path:"/demo",render:function(){return Object(F.jsx)(Pe,{})}}),Object(F.jsx)(u.b,{path:"/404",render:function(){return Object(F.jsx)(gt,{})}}),Object(F.jsx)(u.a,{from:"*",to:"/404"})]})})]})})},Ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},kt=n(16),yt=n(53),wt=Object(kt.c)({appState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(f.a)(Object(f.a)({},e),{},{status:t.status});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(f.a)(Object(f.a)({},e),{},{isLoggedIn:t.isLoggedIn});case A:return Object(f.a)(Object(f.a)({},e),{},{profile:t.profile});default:return e}},pageRecover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(f.a)(Object(f.a)({},e),{},{timerIsOn:t.timerIsOn});default:return e}},pageRegistration:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Xe:return Object(f.a)(Object(f.a)({},e),{},{isSuccessfullyRegistered:t.isSuccessfullyRegistered});default:return e}},searchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(f.a)(Object(f.a)({},e),{},{searchValue:t.payload.value});default:return e}},pagination:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object(f.a)(Object(f.a)({},e),{},{page:t.payload.value});case ve:return Object(f.a)(Object(f.a)({},e),{},{pageCount:t.payload.value});default:return e}},packsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-PACKS":return Object(f.a)(Object(f.a)({},e),{},{packs:t.packs});case"SET-CURRENT-PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case"SET-TOTAL-PACKS-COUNT":return Object(f.a)(Object(f.a)({},e),{},{totalPacksCount:t.totalPacksCount});default:return e}},cardsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:st,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-CARDS":return Object(f.a)(Object(f.a)({},e),{},{cards:t.cards});case"SET-PACK-TITLE":return Object(f.a)(Object(f.a)({},e),{},{packTitle:t.title});case"SET-CURRENT-PAGE":return Object(f.a)(Object(f.a)({},e),{},{currentPage:t.currentPage});case"SET-ITEMS-PER-PAGE":return Object(f.a)(Object(f.a)({},e),{},{itemsPerPage:t.itemsPerPage});case"SET-TOTAL-CARDS-COUNT":return Object(f.a)(Object(f.a)({},e),{},{totalCardsCount:t.totalCardsCount});default:return e}}}),St=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||kt.d,Pt=Object(kt.e)(wt,St(Object(kt.a)(yt.a)));window.store=Pt;var Nt=Pt;o.a.render(Object(F.jsx)(a.a.StrictMode,{children:Object(F.jsx)(d.a,{store:Nt,children:Object(F.jsx)(_t,{})})}),document.getElementById("root")),Ct()}},[[83,1,2]]]);
//# sourceMappingURL=main.a89257c1.chunk.js.map